<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>子舒的博客</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="apple-mobile-web-app-capable" content="yes"><meta data-n-head="ssr" name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"><meta data-n-head="ssr" data-hid="description" name="description" content="子舒 | 个人博客 | Blog | Markdown | Vue | Nuxt"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><script data-n-head="ssr" src="https://cdn.jsdelivr.net/gh/Nov8nana/cdn/js/jquery3.6.0.js"></script><script data-n-head="ssr" src="https://hm.baidu.com/hm.js?f41d830174f36ac5eb0838f79f75bee2"></script><link rel="preload" href="/_nuxt/runtime.bc77943.js" as="script"><link rel="preload" href="/_nuxt/commons.app.e5f5113.js" as="script"><link rel="preload" href="/_nuxt/app.99af972.js" as="script"><link rel="preload" href="/_nuxt/pages/archives.3c8d022.js" as="script"><style data-vue-ssr-id="a74b3f6e:0 1265ef65:0 7e56e4e3:0 e31bd7a4:0 1f369bbc:0 0c0748fc:0 555b4900:0 287f8b28:0 5a9ae32c:0">*,:after,:before{box-sizing:border-box}*{margin:0;padding:0}::-moz-selection{background:rgba(45,170,219,.3)}::selection{background:rgba(45,170,219,.3)}html{-webkit-text-size-adjust:100%;overflow-y:scroll}@font-face{font-family:HYQiHei;src:url(/_nuxt/fonts/HYQiHei-50S.a3b5049.woff)}body{font-family:HYQiHei;line-height:1.8;font-size:16px;color:#3d4144;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}a{color:#6e7173;text-decoration:none;transition:all .1s ease-in}a:hover{color:#444}.article-index .article-content img,.article-index .article-content table{display:none}.article-index .article-content h2,.article-index .article-content h3,.article-index .article-content p{font-weight:inherit!important;font-size:inherit!important;color:inherit!important;display:inline!important;padding:0!important;margin:0!important}.article-index .article-content h2:after{display:none}button,input{font:inherit}:focus{outline:0}h1,h2,h3,h4,h5,h6{font-weight:400}h2{color:#000;font-size:20px!important;border:none!important;position:relative;padding:0 0 0 1rem!important}h2:after{content:"";position:absolute;left:0;top:50%;width:4px;height:28px;background:#6e7173;transform:translateY(-50%);-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%)}h3{color:#555!important}hr{height:2px!important}.article-content img{box-shadow:0 1px 4px rgba(0,0,0,.18)}img{vertical-align:text-bottom}details{border:1px solid #eee;border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;-ms-border-radius:6px;-o-border-radius:6px}details summary{background:#f3f3f3;padding:0 10px}details summary+*{padding:0 10px}span.red{color:#cc3434;font-style:italic}/*!
 *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */@font-face{font-family:FontAwesome;src:url(/_nuxt/fonts/fontawesome-webfont.674f50d.eot);src:url(/_nuxt/fonts/fontawesome-webfont.674f50d.eot?#iefix&v=4.7.0) format("embedded-opentype"),url(/_nuxt/fonts/fontawesome-webfont.af7ae50.woff2) format("woff2"),url(/_nuxt/fonts/fontawesome-webfont.fee66e7.woff) format("woff"),url(/_nuxt/fonts/fontawesome-webfont.b06871f.ttf) format("truetype"),url(/_nuxt/img/fontawesome-webfont.acf3dcb.svg#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s linear infinite;animation:fa-spin 2s linear infinite}.fa-pulse{-webkit-animation:fa-spin 1s steps(8) infinite;animation:fa-spin 1s steps(8) infinite}@-webkit-keyframes fa-spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}@keyframes fa-spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.fa-rotate-90{transform:rotate(90deg)}.fa-rotate-180{transform:rotate(180deg)}.fa-rotate-270{transform:rotate(270deg)}.fa-flip-horizontal{transform:scaleX(-1)}.fa-flip-vertical{transform:scaleY(-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\f000"}.fa-music:before{content:"\f001"}.fa-search:before{content:"\f002"}.fa-envelope-o:before{content:"\f003"}.fa-heart:before{content:"\f004"}.fa-star:before{content:"\f005"}.fa-star-o:before{content:"\f006"}.fa-user:before{content:"\f007"}.fa-film:before{content:"\f008"}.fa-th-large:before{content:"\f009"}.fa-th:before{content:"\f00a"}.fa-th-list:before{content:"\f00b"}.fa-check:before{content:"\f00c"}.fa-close:before,.fa-remove:before,.fa-times:before{content:"\f00d"}.fa-search-plus:before{content:"\f00e"}.fa-search-minus:before{content:"\f010"}.fa-power-off:before{content:"\f011"}.fa-signal:before{content:"\f012"}.fa-cog:before,.fa-gear:before{content:"\f013"}.fa-trash-o:before{content:"\f014"}.fa-home:before{content:"\f015"}.fa-file-o:before{content:"\f016"}.fa-clock-o:before{content:"\f017"}.fa-road:before{content:"\f018"}.fa-download:before{content:"\f019"}.fa-arrow-circle-o-down:before{content:"\f01a"}.fa-arrow-circle-o-up:before{content:"\f01b"}.fa-inbox:before{content:"\f01c"}.fa-play-circle-o:before{content:"\f01d"}.fa-repeat:before,.fa-rotate-right:before{content:"\f01e"}.fa-refresh:before{content:"\f021"}.fa-list-alt:before{content:"\f022"}.fa-lock:before{content:"\f023"}.fa-flag:before{content:"\f024"}.fa-headphones:before{content:"\f025"}.fa-volume-off:before{content:"\f026"}.fa-volume-down:before{content:"\f027"}.fa-volume-up:before{content:"\f028"}.fa-qrcode:before{content:"\f029"}.fa-barcode:before{content:"\f02a"}.fa-tag:before{content:"\f02b"}.fa-tags:before{content:"\f02c"}.fa-book:before{content:"\f02d"}.fa-bookmark:before{content:"\f02e"}.fa-print:before{content:"\f02f"}.fa-camera:before{content:"\f030"}.fa-font:before{content:"\f031"}.fa-bold:before{content:"\f032"}.fa-italic:before{content:"\f033"}.fa-text-height:before{content:"\f034"}.fa-text-width:before{content:"\f035"}.fa-align-left:before{content:"\f036"}.fa-align-center:before{content:"\f037"}.fa-align-right:before{content:"\f038"}.fa-align-justify:before{content:"\f039"}.fa-list:before{content:"\f03a"}.fa-dedent:before,.fa-outdent:before{content:"\f03b"}.fa-indent:before{content:"\f03c"}.fa-video-camera:before{content:"\f03d"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:"\f03e"}.fa-pencil:before{content:"\f040"}.fa-map-marker:before{content:"\f041"}.fa-adjust:before{content:"\f042"}.fa-tint:before{content:"\f043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\f044"}.fa-share-square-o:before{content:"\f045"}.fa-check-square-o:before{content:"\f046"}.fa-arrows:before{content:"\f047"}.fa-step-backward:before{content:"\f048"}.fa-fast-backward:before{content:"\f049"}.fa-backward:before{content:"\f04a"}.fa-play:before{content:"\f04b"}.fa-pause:before{content:"\f04c"}.fa-stop:before{content:"\f04d"}.fa-forward:before{content:"\f04e"}.fa-fast-forward:before{content:"\f050"}.fa-step-forward:before{content:"\f051"}.fa-eject:before{content:"\f052"}.fa-chevron-left:before{content:"\f053"}.fa-chevron-right:before{content:"\f054"}.fa-plus-circle:before{content:"\f055"}.fa-minus-circle:before{content:"\f056"}.fa-times-circle:before{content:"\f057"}.fa-check-circle:before{content:"\f058"}.fa-question-circle:before{content:"\f059"}.fa-info-circle:before{content:"\f05a"}.fa-crosshairs:before{content:"\f05b"}.fa-times-circle-o:before{content:"\f05c"}.fa-check-circle-o:before{content:"\f05d"}.fa-ban:before{content:"\f05e"}.fa-arrow-left:before{content:"\f060"}.fa-arrow-right:before{content:"\f061"}.fa-arrow-up:before{content:"\f062"}.fa-arrow-down:before{content:"\f063"}.fa-mail-forward:before,.fa-share:before{content:"\f064"}.fa-expand:before{content:"\f065"}.fa-compress:before{content:"\f066"}.fa-plus:before{content:"\f067"}.fa-minus:before{content:"\f068"}.fa-asterisk:before{content:"\f069"}.fa-exclamation-circle:before{content:"\f06a"}.fa-gift:before{content:"\f06b"}.fa-leaf:before{content:"\f06c"}.fa-fire:before{content:"\f06d"}.fa-eye:before{content:"\f06e"}.fa-eye-slash:before{content:"\f070"}.fa-exclamation-triangle:before,.fa-warning:before{content:"\f071"}.fa-plane:before{content:"\f072"}.fa-calendar:before{content:"\f073"}.fa-random:before{content:"\f074"}.fa-comment:before{content:"\f075"}.fa-magnet:before{content:"\f076"}.fa-chevron-up:before{content:"\f077"}.fa-chevron-down:before{content:"\f078"}.fa-retweet:before{content:"\f079"}.fa-shopping-cart:before{content:"\f07a"}.fa-folder:before{content:"\f07b"}.fa-folder-open:before{content:"\f07c"}.fa-arrows-v:before{content:"\f07d"}.fa-arrows-h:before{content:"\f07e"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\f080"}.fa-twitter-square:before{content:"\f081"}.fa-facebook-square:before{content:"\f082"}.fa-camera-retro:before{content:"\f083"}.fa-key:before{content:"\f084"}.fa-cogs:before,.fa-gears:before{content:"\f085"}.fa-comments:before{content:"\f086"}.fa-thumbs-o-up:before{content:"\f087"}.fa-thumbs-o-down:before{content:"\f088"}.fa-star-half:before{content:"\f089"}.fa-heart-o:before{content:"\f08a"}.fa-sign-out:before{content:"\f08b"}.fa-linkedin-square:before{content:"\f08c"}.fa-thumb-tack:before{content:"\f08d"}.fa-external-link:before{content:"\f08e"}.fa-sign-in:before{content:"\f090"}.fa-trophy:before{content:"\f091"}.fa-github-square:before{content:"\f092"}.fa-upload:before{content:"\f093"}.fa-lemon-o:before{content:"\f094"}.fa-phone:before{content:"\f095"}.fa-square-o:before{content:"\f096"}.fa-bookmark-o:before{content:"\f097"}.fa-phone-square:before{content:"\f098"}.fa-twitter:before{content:"\f099"}.fa-facebook-f:before,.fa-facebook:before{content:"\f09a"}.fa-github:before{content:"\f09b"}.fa-unlock:before{content:"\f09c"}.fa-credit-card:before{content:"\f09d"}.fa-feed:before,.fa-rss:before{content:"\f09e"}.fa-hdd-o:before{content:"\f0a0"}.fa-bullhorn:before{content:"\f0a1"}.fa-bell:before{content:"\f0f3"}.fa-certificate:before{content:"\f0a3"}.fa-hand-o-right:before{content:"\f0a4"}.fa-hand-o-left:before{content:"\f0a5"}.fa-hand-o-up:before{content:"\f0a6"}.fa-hand-o-down:before{content:"\f0a7"}.fa-arrow-circle-left:before{content:"\f0a8"}.fa-arrow-circle-right:before{content:"\f0a9"}.fa-arrow-circle-up:before{content:"\f0aa"}.fa-arrow-circle-down:before{content:"\f0ab"}.fa-globe:before{content:"\f0ac"}.fa-wrench:before{content:"\f0ad"}.fa-tasks:before{content:"\f0ae"}.fa-filter:before{content:"\f0b0"}.fa-briefcase:before{content:"\f0b1"}.fa-arrows-alt:before{content:"\f0b2"}.fa-group:before,.fa-users:before{content:"\f0c0"}.fa-chain:before,.fa-link:before{content:"\f0c1"}.fa-cloud:before{content:"\f0c2"}.fa-flask:before{content:"\f0c3"}.fa-cut:before,.fa-scissors:before{content:"\f0c4"}.fa-copy:before,.fa-files-o:before{content:"\f0c5"}.fa-paperclip:before{content:"\f0c6"}.fa-floppy-o:before,.fa-save:before{content:"\f0c7"}.fa-square:before{content:"\f0c8"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:"\f0c9"}.fa-list-ul:before{content:"\f0ca"}.fa-list-ol:before{content:"\f0cb"}.fa-strikethrough:before{content:"\f0cc"}.fa-underline:before{content:"\f0cd"}.fa-table:before{content:"\f0ce"}.fa-magic:before{content:"\f0d0"}.fa-truck:before{content:"\f0d1"}.fa-pinterest:before{content:"\f0d2"}.fa-pinterest-square:before{content:"\f0d3"}.fa-google-plus-square:before{content:"\f0d4"}.fa-google-plus:before{content:"\f0d5"}.fa-money:before{content:"\f0d6"}.fa-caret-down:before{content:"\f0d7"}.fa-caret-up:before{content:"\f0d8"}.fa-caret-left:before{content:"\f0d9"}.fa-caret-right:before{content:"\f0da"}.fa-columns:before{content:"\f0db"}.fa-sort:before,.fa-unsorted:before{content:"\f0dc"}.fa-sort-desc:before,.fa-sort-down:before{content:"\f0dd"}.fa-sort-asc:before,.fa-sort-up:before{content:"\f0de"}.fa-envelope:before{content:"\f0e0"}.fa-linkedin:before{content:"\f0e1"}.fa-rotate-left:before,.fa-undo:before{content:"\f0e2"}.fa-gavel:before,.fa-legal:before{content:"\f0e3"}.fa-dashboard:before,.fa-tachometer:before{content:"\f0e4"}.fa-comment-o:before{content:"\f0e5"}.fa-comments-o:before{content:"\f0e6"}.fa-bolt:before,.fa-flash:before{content:"\f0e7"}.fa-sitemap:before{content:"\f0e8"}.fa-umbrella:before{content:"\f0e9"}.fa-clipboard:before,.fa-paste:before{content:"\f0ea"}.fa-lightbulb-o:before{content:"\f0eb"}.fa-exchange:before{content:"\f0ec"}.fa-cloud-download:before{content:"\f0ed"}.fa-cloud-upload:before{content:"\f0ee"}.fa-user-md:before{content:"\f0f0"}.fa-stethoscope:before{content:"\f0f1"}.fa-suitcase:before{content:"\f0f2"}.fa-bell-o:before{content:"\f0a2"}.fa-coffee:before{content:"\f0f4"}.fa-cutlery:before{content:"\f0f5"}.fa-file-text-o:before{content:"\f0f6"}.fa-building-o:before{content:"\f0f7"}.fa-hospital-o:before{content:"\f0f8"}.fa-ambulance:before{content:"\f0f9"}.fa-medkit:before{content:"\f0fa"}.fa-fighter-jet:before{content:"\f0fb"}.fa-beer:before{content:"\f0fc"}.fa-h-square:before{content:"\f0fd"}.fa-plus-square:before{content:"\f0fe"}.fa-angle-double-left:before{content:"\f100"}.fa-angle-double-right:before{content:"\f101"}.fa-angle-double-up:before{content:"\f102"}.fa-angle-double-down:before{content:"\f103"}.fa-angle-left:before{content:"\f104"}.fa-angle-right:before{content:"\f105"}.fa-angle-up:before{content:"\f106"}.fa-angle-down:before{content:"\f107"}.fa-desktop:before{content:"\f108"}.fa-laptop:before{content:"\f109"}.fa-tablet:before{content:"\f10a"}.fa-mobile-phone:before,.fa-mobile:before{content:"\f10b"}.fa-circle-o:before{content:"\f10c"}.fa-quote-left:before{content:"\f10d"}.fa-quote-right:before{content:"\f10e"}.fa-spinner:before{content:"\f110"}.fa-circle:before{content:"\f111"}.fa-mail-reply:before,.fa-reply:before{content:"\f112"}.fa-github-alt:before{content:"\f113"}.fa-folder-o:before{content:"\f114"}.fa-folder-open-o:before{content:"\f115"}.fa-smile-o:before{content:"\f118"}.fa-frown-o:before{content:"\f119"}.fa-meh-o:before{content:"\f11a"}.fa-gamepad:before{content:"\f11b"}.fa-keyboard-o:before{content:"\f11c"}.fa-flag-o:before{content:"\f11d"}.fa-flag-checkered:before{content:"\f11e"}.fa-terminal:before{content:"\f120"}.fa-code:before{content:"\f121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\f122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\f123"}.fa-location-arrow:before{content:"\f124"}.fa-crop:before{content:"\f125"}.fa-code-fork:before{content:"\f126"}.fa-chain-broken:before,.fa-unlink:before{content:"\f127"}.fa-question:before{content:"\f128"}.fa-info:before{content:"\f129"}.fa-exclamation:before{content:"\f12a"}.fa-superscript:before{content:"\f12b"}.fa-subscript:before{content:"\f12c"}.fa-eraser:before{content:"\f12d"}.fa-puzzle-piece:before{content:"\f12e"}.fa-microphone:before{content:"\f130"}.fa-microphone-slash:before{content:"\f131"}.fa-shield:before{content:"\f132"}.fa-calendar-o:before{content:"\f133"}.fa-fire-extinguisher:before{content:"\f134"}.fa-rocket:before{content:"\f135"}.fa-maxcdn:before{content:"\f136"}.fa-chevron-circle-left:before{content:"\f137"}.fa-chevron-circle-right:before{content:"\f138"}.fa-chevron-circle-up:before{content:"\f139"}.fa-chevron-circle-down:before{content:"\f13a"}.fa-html5:before{content:"\f13b"}.fa-css3:before{content:"\f13c"}.fa-anchor:before{content:"\f13d"}.fa-unlock-alt:before{content:"\f13e"}.fa-bullseye:before{content:"\f140"}.fa-ellipsis-h:before{content:"\f141"}.fa-ellipsis-v:before{content:"\f142"}.fa-rss-square:before{content:"\f143"}.fa-play-circle:before{content:"\f144"}.fa-ticket:before{content:"\f145"}.fa-minus-square:before{content:"\f146"}.fa-minus-square-o:before{content:"\f147"}.fa-level-up:before{content:"\f148"}.fa-level-down:before{content:"\f149"}.fa-check-square:before{content:"\f14a"}.fa-pencil-square:before{content:"\f14b"}.fa-external-link-square:before{content:"\f14c"}.fa-share-square:before{content:"\f14d"}.fa-compass:before{content:"\f14e"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:"\f150"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:"\f151"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:"\f152"}.fa-eur:before,.fa-euro:before{content:"\f153"}.fa-gbp:before{content:"\f154"}.fa-dollar:before,.fa-usd:before{content:"\f155"}.fa-inr:before,.fa-rupee:before{content:"\f156"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:"\f157"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:"\f158"}.fa-krw:before,.fa-won:before{content:"\f159"}.fa-bitcoin:before,.fa-btc:before{content:"\f15a"}.fa-file:before{content:"\f15b"}.fa-file-text:before{content:"\f15c"}.fa-sort-alpha-asc:before{content:"\f15d"}.fa-sort-alpha-desc:before{content:"\f15e"}.fa-sort-amount-asc:before{content:"\f160"}.fa-sort-amount-desc:before{content:"\f161"}.fa-sort-numeric-asc:before{content:"\f162"}.fa-sort-numeric-desc:before{content:"\f163"}.fa-thumbs-up:before{content:"\f164"}.fa-thumbs-down:before{content:"\f165"}.fa-youtube-square:before{content:"\f166"}.fa-youtube:before{content:"\f167"}.fa-xing:before{content:"\f168"}.fa-xing-square:before{content:"\f169"}.fa-youtube-play:before{content:"\f16a"}.fa-dropbox:before{content:"\f16b"}.fa-stack-overflow:before{content:"\f16c"}.fa-instagram:before{content:"\f16d"}.fa-flickr:before{content:"\f16e"}.fa-adn:before{content:"\f170"}.fa-bitbucket:before{content:"\f171"}.fa-bitbucket-square:before{content:"\f172"}.fa-tumblr:before{content:"\f173"}.fa-tumblr-square:before{content:"\f174"}.fa-long-arrow-down:before{content:"\f175"}.fa-long-arrow-up:before{content:"\f176"}.fa-long-arrow-left:before{content:"\f177"}.fa-long-arrow-right:before{content:"\f178"}.fa-apple:before{content:"\f179"}.fa-windows:before{content:"\f17a"}.fa-android:before{content:"\f17b"}.fa-linux:before{content:"\f17c"}.fa-dribbble:before{content:"\f17d"}.fa-skype:before{content:"\f17e"}.fa-foursquare:before{content:"\f180"}.fa-trello:before{content:"\f181"}.fa-female:before{content:"\f182"}.fa-male:before{content:"\f183"}.fa-gittip:before,.fa-gratipay:before{content:"\f184"}.fa-sun-o:before{content:"\f185"}.fa-moon-o:before{content:"\f186"}.fa-archive:before{content:"\f187"}.fa-bug:before{content:"\f188"}.fa-vk:before{content:"\f189"}.fa-weibo:before{content:"\f18a"}.fa-renren:before{content:"\f18b"}.fa-pagelines:before{content:"\f18c"}.fa-stack-exchange:before{content:"\f18d"}.fa-arrow-circle-o-right:before{content:"\f18e"}.fa-arrow-circle-o-left:before{content:"\f190"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:"\f191"}.fa-dot-circle-o:before{content:"\f192"}.fa-wheelchair:before{content:"\f193"}.fa-vimeo-square:before{content:"\f194"}.fa-try:before,.fa-turkish-lira:before{content:"\f195"}.fa-plus-square-o:before{content:"\f196"}.fa-space-shuttle:before{content:"\f197"}.fa-slack:before{content:"\f198"}.fa-envelope-square:before{content:"\f199"}.fa-wordpress:before{content:"\f19a"}.fa-openid:before{content:"\f19b"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:"\f19c"}.fa-graduation-cap:before,.fa-mortar-board:before{content:"\f19d"}.fa-yahoo:before{content:"\f19e"}.fa-google:before{content:"\f1a0"}.fa-reddit:before{content:"\f1a1"}.fa-reddit-square:before{content:"\f1a2"}.fa-stumbleupon-circle:before{content:"\f1a3"}.fa-stumbleupon:before{content:"\f1a4"}.fa-delicious:before{content:"\f1a5"}.fa-digg:before{content:"\f1a6"}.fa-pied-piper-pp:before{content:"\f1a7"}.fa-pied-piper-alt:before{content:"\f1a8"}.fa-drupal:before{content:"\f1a9"}.fa-joomla:before{content:"\f1aa"}.fa-language:before{content:"\f1ab"}.fa-fax:before{content:"\f1ac"}.fa-building:before{content:"\f1ad"}.fa-child:before{content:"\f1ae"}.fa-paw:before{content:"\f1b0"}.fa-spoon:before{content:"\f1b1"}.fa-cube:before{content:"\f1b2"}.fa-cubes:before{content:"\f1b3"}.fa-behance:before{content:"\f1b4"}.fa-behance-square:before{content:"\f1b5"}.fa-steam:before{content:"\f1b6"}.fa-steam-square:before{content:"\f1b7"}.fa-recycle:before{content:"\f1b8"}.fa-automobile:before,.fa-car:before{content:"\f1b9"}.fa-cab:before,.fa-taxi:before{content:"\f1ba"}.fa-tree:before{content:"\f1bb"}.fa-spotify:before{content:"\f1bc"}.fa-deviantart:before{content:"\f1bd"}.fa-soundcloud:before{content:"\f1be"}.fa-database:before{content:"\f1c0"}.fa-file-pdf-o:before{content:"\f1c1"}.fa-file-word-o:before{content:"\f1c2"}.fa-file-excel-o:before{content:"\f1c3"}.fa-file-powerpoint-o:before{content:"\f1c4"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:"\f1c5"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:"\f1c6"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:"\f1c7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\f1c8"}.fa-file-code-o:before{content:"\f1c9"}.fa-vine:before{content:"\f1ca"}.fa-codepen:before{content:"\f1cb"}.fa-jsfiddle:before{content:"\f1cc"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:"\f1cd"}.fa-circle-o-notch:before{content:"\f1ce"}.fa-ra:before,.fa-rebel:before,.fa-resistance:before{content:"\f1d0"}.fa-empire:before,.fa-ge:before{content:"\f1d1"}.fa-git-square:before{content:"\f1d2"}.fa-git:before{content:"\f1d3"}.fa-hacker-news:before,.fa-y-combinator-square:before,.fa-yc-square:before{content:"\f1d4"}.fa-tencent-weibo:before{content:"\f1d5"}.fa-qq:before{content:"\f1d6"}.fa-wechat:before,.fa-weixin:before{content:"\f1d7"}.fa-paper-plane:before,.fa-send:before{content:"\f1d8"}.fa-paper-plane-o:before,.fa-send-o:before{content:"\f1d9"}.fa-history:before{content:"\f1da"}.fa-circle-thin:before{content:"\f1db"}.fa-header:before{content:"\f1dc"}.fa-paragraph:before{content:"\f1dd"}.fa-sliders:before{content:"\f1de"}.fa-share-alt:before{content:"\f1e0"}.fa-share-alt-square:before{content:"\f1e1"}.fa-bomb:before{content:"\f1e2"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:"\f1e3"}.fa-tty:before{content:"\f1e4"}.fa-binoculars:before{content:"\f1e5"}.fa-plug:before{content:"\f1e6"}.fa-slideshare:before{content:"\f1e7"}.fa-twitch:before{content:"\f1e8"}.fa-yelp:before{content:"\f1e9"}.fa-newspaper-o:before{content:"\f1ea"}.fa-wifi:before{content:"\f1eb"}.fa-calculator:before{content:"\f1ec"}.fa-paypal:before{content:"\f1ed"}.fa-google-wallet:before{content:"\f1ee"}.fa-cc-visa:before{content:"\f1f0"}.fa-cc-mastercard:before{content:"\f1f1"}.fa-cc-discover:before{content:"\f1f2"}.fa-cc-amex:before{content:"\f1f3"}.fa-cc-paypal:before{content:"\f1f4"}.fa-cc-stripe:before{content:"\f1f5"}.fa-bell-slash:before{content:"\f1f6"}.fa-bell-slash-o:before{content:"\f1f7"}.fa-trash:before{content:"\f1f8"}.fa-copyright:before{content:"\f1f9"}.fa-at:before{content:"\f1fa"}.fa-eyedropper:before{content:"\f1fb"}.fa-paint-brush:before{content:"\f1fc"}.fa-birthday-cake:before{content:"\f1fd"}.fa-area-chart:before{content:"\f1fe"}.fa-pie-chart:before{content:"\f200"}.fa-line-chart:before{content:"\f201"}.fa-lastfm:before{content:"\f202"}.fa-lastfm-square:before{content:"\f203"}.fa-toggle-off:before{content:"\f204"}.fa-toggle-on:before{content:"\f205"}.fa-bicycle:before{content:"\f206"}.fa-bus:before{content:"\f207"}.fa-ioxhost:before{content:"\f208"}.fa-angellist:before{content:"\f209"}.fa-cc:before{content:"\f20a"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:"\f20b"}.fa-meanpath:before{content:"\f20c"}.fa-buysellads:before{content:"\f20d"}.fa-connectdevelop:before{content:"\f20e"}.fa-dashcube:before{content:"\f210"}.fa-forumbee:before{content:"\f211"}.fa-leanpub:before{content:"\f212"}.fa-sellsy:before{content:"\f213"}.fa-shirtsinbulk:before{content:"\f214"}.fa-simplybuilt:before{content:"\f215"}.fa-skyatlas:before{content:"\f216"}.fa-cart-plus:before{content:"\f217"}.fa-cart-arrow-down:before{content:"\f218"}.fa-diamond:before{content:"\f219"}.fa-ship:before{content:"\f21a"}.fa-user-secret:before{content:"\f21b"}.fa-motorcycle:before{content:"\f21c"}.fa-street-view:before{content:"\f21d"}.fa-heartbeat:before{content:"\f21e"}.fa-venus:before{content:"\f221"}.fa-mars:before{content:"\f222"}.fa-mercury:before{content:"\f223"}.fa-intersex:before,.fa-transgender:before{content:"\f224"}.fa-transgender-alt:before{content:"\f225"}.fa-venus-double:before{content:"\f226"}.fa-mars-double:before{content:"\f227"}.fa-venus-mars:before{content:"\f228"}.fa-mars-stroke:before{content:"\f229"}.fa-mars-stroke-v:before{content:"\f22a"}.fa-mars-stroke-h:before{content:"\f22b"}.fa-neuter:before{content:"\f22c"}.fa-genderless:before{content:"\f22d"}.fa-facebook-official:before{content:"\f230"}.fa-pinterest-p:before{content:"\f231"}.fa-whatsapp:before{content:"\f232"}.fa-server:before{content:"\f233"}.fa-user-plus:before{content:"\f234"}.fa-user-times:before{content:"\f235"}.fa-bed:before,.fa-hotel:before{content:"\f236"}.fa-viacoin:before{content:"\f237"}.fa-train:before{content:"\f238"}.fa-subway:before{content:"\f239"}.fa-medium:before{content:"\f23a"}.fa-y-combinator:before,.fa-yc:before{content:"\f23b"}.fa-optin-monster:before{content:"\f23c"}.fa-opencart:before{content:"\f23d"}.fa-expeditedssl:before{content:"\f23e"}.fa-battery-4:before,.fa-battery-full:before,.fa-battery:before{content:"\f240"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:"\f241"}.fa-battery-2:before,.fa-battery-half:before{content:"\f242"}.fa-battery-1:before,.fa-battery-quarter:before{content:"\f243"}.fa-battery-0:before,.fa-battery-empty:before{content:"\f244"}.fa-mouse-pointer:before{content:"\f245"}.fa-i-cursor:before{content:"\f246"}.fa-object-group:before{content:"\f247"}.fa-object-ungroup:before{content:"\f248"}.fa-sticky-note:before{content:"\f249"}.fa-sticky-note-o:before{content:"\f24a"}.fa-cc-jcb:before{content:"\f24b"}.fa-cc-diners-club:before{content:"\f24c"}.fa-clone:before{content:"\f24d"}.fa-balance-scale:before{content:"\f24e"}.fa-hourglass-o:before{content:"\f250"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:"\f251"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:"\f252"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:"\f253"}.fa-hourglass:before{content:"\f254"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:"\f255"}.fa-hand-paper-o:before,.fa-hand-stop-o:before{content:"\f256"}.fa-hand-scissors-o:before{content:"\f257"}.fa-hand-lizard-o:before{content:"\f258"}.fa-hand-spock-o:before{content:"\f259"}.fa-hand-pointer-o:before{content:"\f25a"}.fa-hand-peace-o:before{content:"\f25b"}.fa-trademark:before{content:"\f25c"}.fa-registered:before{content:"\f25d"}.fa-creative-commons:before{content:"\f25e"}.fa-gg:before{content:"\f260"}.fa-gg-circle:before{content:"\f261"}.fa-tripadvisor:before{content:"\f262"}.fa-odnoklassniki:before{content:"\f263"}.fa-odnoklassniki-square:before{content:"\f264"}.fa-get-pocket:before{content:"\f265"}.fa-wikipedia-w:before{content:"\f266"}.fa-safari:before{content:"\f267"}.fa-chrome:before{content:"\f268"}.fa-firefox:before{content:"\f269"}.fa-opera:before{content:"\f26a"}.fa-internet-explorer:before{content:"\f26b"}.fa-television:before,.fa-tv:before{content:"\f26c"}.fa-contao:before{content:"\f26d"}.fa-500px:before{content:"\f26e"}.fa-amazon:before{content:"\f270"}.fa-calendar-plus-o:before{content:"\f271"}.fa-calendar-minus-o:before{content:"\f272"}.fa-calendar-times-o:before{content:"\f273"}.fa-calendar-check-o:before{content:"\f274"}.fa-industry:before{content:"\f275"}.fa-map-pin:before{content:"\f276"}.fa-map-signs:before{content:"\f277"}.fa-map-o:before{content:"\f278"}.fa-map:before{content:"\f279"}.fa-commenting:before{content:"\f27a"}.fa-commenting-o:before{content:"\f27b"}.fa-houzz:before{content:"\f27c"}.fa-vimeo:before{content:"\f27d"}.fa-black-tie:before{content:"\f27e"}.fa-fonticons:before{content:"\f280"}.fa-reddit-alien:before{content:"\f281"}.fa-edge:before{content:"\f282"}.fa-credit-card-alt:before{content:"\f283"}.fa-codiepie:before{content:"\f284"}.fa-modx:before{content:"\f285"}.fa-fort-awesome:before{content:"\f286"}.fa-usb:before{content:"\f287"}.fa-product-hunt:before{content:"\f288"}.fa-mixcloud:before{content:"\f289"}.fa-scribd:before{content:"\f28a"}.fa-pause-circle:before{content:"\f28b"}.fa-pause-circle-o:before{content:"\f28c"}.fa-stop-circle:before{content:"\f28d"}.fa-stop-circle-o:before{content:"\f28e"}.fa-shopping-bag:before{content:"\f290"}.fa-shopping-basket:before{content:"\f291"}.fa-hashtag:before{content:"\f292"}.fa-bluetooth:before{content:"\f293"}.fa-bluetooth-b:before{content:"\f294"}.fa-percent:before{content:"\f295"}.fa-gitlab:before{content:"\f296"}.fa-wpbeginner:before{content:"\f297"}.fa-wpforms:before{content:"\f298"}.fa-envira:before{content:"\f299"}.fa-universal-access:before{content:"\f29a"}.fa-wheelchair-alt:before{content:"\f29b"}.fa-question-circle-o:before{content:"\f29c"}.fa-blind:before{content:"\f29d"}.fa-audio-description:before{content:"\f29e"}.fa-volume-control-phone:before{content:"\f2a0"}.fa-braille:before{content:"\f2a1"}.fa-assistive-listening-systems:before{content:"\f2a2"}.fa-american-sign-language-interpreting:before,.fa-asl-interpreting:before{content:"\f2a3"}.fa-deaf:before,.fa-deafness:before,.fa-hard-of-hearing:before{content:"\f2a4"}.fa-glide:before{content:"\f2a5"}.fa-glide-g:before{content:"\f2a6"}.fa-sign-language:before,.fa-signing:before{content:"\f2a7"}.fa-low-vision:before{content:"\f2a8"}.fa-viadeo:before{content:"\f2a9"}.fa-viadeo-square:before{content:"\f2aa"}.fa-snapchat:before{content:"\f2ab"}.fa-snapchat-ghost:before{content:"\f2ac"}.fa-snapchat-square:before{content:"\f2ad"}.fa-pied-piper:before{content:"\f2ae"}.fa-first-order:before{content:"\f2b0"}.fa-yoast:before{content:"\f2b1"}.fa-themeisle:before{content:"\f2b2"}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:"\f2b3"}.fa-fa:before,.fa-font-awesome:before{content:"\f2b4"}.fa-handshake-o:before{content:"\f2b5"}.fa-envelope-open:before{content:"\f2b6"}.fa-envelope-open-o:before{content:"\f2b7"}.fa-linode:before{content:"\f2b8"}.fa-address-book:before{content:"\f2b9"}.fa-address-book-o:before{content:"\f2ba"}.fa-address-card:before,.fa-vcard:before{content:"\f2bb"}.fa-address-card-o:before,.fa-vcard-o:before{content:"\f2bc"}.fa-user-circle:before{content:"\f2bd"}.fa-user-circle-o:before{content:"\f2be"}.fa-user-o:before{content:"\f2c0"}.fa-id-badge:before{content:"\f2c1"}.fa-drivers-license:before,.fa-id-card:before{content:"\f2c2"}.fa-drivers-license-o:before,.fa-id-card-o:before{content:"\f2c3"}.fa-quora:before{content:"\f2c4"}.fa-free-code-camp:before{content:"\f2c5"}.fa-telegram:before{content:"\f2c6"}.fa-thermometer-4:before,.fa-thermometer-full:before,.fa-thermometer:before{content:"\f2c7"}.fa-thermometer-3:before,.fa-thermometer-three-quarters:before{content:"\f2c8"}.fa-thermometer-2:before,.fa-thermometer-half:before{content:"\f2c9"}.fa-thermometer-1:before,.fa-thermometer-quarter:before{content:"\f2ca"}.fa-thermometer-0:before,.fa-thermometer-empty:before{content:"\f2cb"}.fa-shower:before{content:"\f2cc"}.fa-bath:before,.fa-bathtub:before,.fa-s15:before{content:"\f2cd"}.fa-podcast:before{content:"\f2ce"}.fa-window-maximize:before{content:"\f2d0"}.fa-window-minimize:before{content:"\f2d1"}.fa-window-restore:before{content:"\f2d2"}.fa-times-rectangle:before,.fa-window-close:before{content:"\f2d3"}.fa-times-rectangle-o:before,.fa-window-close-o:before{content:"\f2d4"}.fa-bandcamp:before{content:"\f2d5"}.fa-grav:before{content:"\f2d6"}.fa-etsy:before{content:"\f2d7"}.fa-imdb:before{content:"\f2d8"}.fa-ravelry:before{content:"\f2d9"}.fa-eercast:before{content:"\f2da"}.fa-microchip:before{content:"\f2db"}.fa-snowflake-o:before{content:"\f2dc"}.fa-superpowers:before{content:"\f2dd"}.fa-wpexplorer:before{content:"\f2de"}.fa-meetup:before{content:"\f2e0"}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:0}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:transparent;background-color:initial}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:content-box;box-sizing:initial;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:0 0;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}.markdown-body hr{border-bottom-color:#eee}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:content-box;box-sizing:initial;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;background-color:initial;border:0}.markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{cursor:pointer;background:#ffea7f}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;-o-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;-o-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;-o-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;-o-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;-o-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;-o-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;-o-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;-o-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;-o-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;-o-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;-o-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;-o-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}code[class*=language-],pre[class*=language-]{color:#c5c8c6;text-shadow:0 1px rgba(0,0,0,.3);font-family:Inconsolata,Monaco,Consolas,Courier New,Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#1d1f21}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#7c7c7c}.token.punctuation{color:#c5c8c6}.namespace{opacity:.7}.token.keyword,.token.property,.token.tag{color:#96cbfe}.token.class-name{color:#ffffb6;text-decoration:underline}.token.boolean,.token.constant{color:#9c9}.token.deleted,.token.symbol{color:#f92672}.token.number{color:#ff73fd}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a8ff60}.token.variable{color:#c6c5fe}.token.operator{color:#ededed}.token.entity{color:#ffffb6;cursor:help}.token.url{color:#96cbfe}.language-css .token.string,.style .token.string{color:#87c38a}.token.atrule,.token.attr-value{color:#f9ee98}.token.function{color:#dad085}.token.regex{color:#e9c062}.token.important{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}.layout .body[data-v-25a2d003]{display:flex;justify-content:space-between;padding:0 1%;max-width:980px;margin:16px auto 0}.layout .body .container[data-v-25a2d003]{border-radius:4px;position:relative;height:100%;max-width:700px;overflow:hidden;flex:1}.layout .body .sidebar[data-v-25a2d003]{width:260px;padding-right:20px}@media(max-width:1020px){.layout .body[data-v-25a2d003]{margin-left:4px;margin-right:4px}}@media(max-width:900px){.layout .body[data-v-25a2d003]{display:block}.layout .body .container[data-v-25a2d003],.layout .body .sidebar[data-v-25a2d003]{max-width:100%;width:100%}.layout .body .sidebar[data-v-25a2d003]{margin-top:20px;padding:0}}.header[data-v-b7b385d2]{position:relative;border-bottom:1px solid #eee}.header .site-name[data-v-b7b385d2]{z-index:999;padding:8px 1%;margin:0 auto;max-width:980px;flex:1;display:flex;align-items:center;justify-content:space-between;transition:all .2s linear}.header .site-name h1 a[data-v-b7b385d2]{display:flex;align-items:center;-webkit-tap-highlight-color:transparent}.header .site-name h1 a img[data-v-b7b385d2]{height:40px}.header .site-name h1 a span[data-v-b7b385d2]{display:block;font-size:1.3rem;color:#6f777d;word-break:break-all;font-family:BodoniModa,LXGWWenKai,serif;font-weight:600}.header .site-name h1 a span[data-v-b7b385d2]:hover{color:#000}.header .site-name .nav-menu[data-v-b7b385d2]{padding:0}.header .site-name .nav-menu .nav-link[data-v-b7b385d2]{padding:10px 2px 4px;margin:3px 10px;line-height:30px;color:#6f777d;font-size:1rem;font-style:inherit;border:1px solid transparent}.header .site-name .nav-menu .nav-link[data-v-b7b385d2]:hover{color:#000}.header .site-name .nav-menu .nav-link.current[data-v-b7b385d2]{color:#000;border-bottom:2px solid #000}.header .site-name .nav-menu .nav-link i[data-v-b7b385d2]:before{margin-right:4px}.header .description[data-v-b7b385d2]{font-size:16px;padding:0 1% 14px;color:#e9e6e6;transition:all .2s linear;display:none;width:100%;text-align:center}@media(max-width:520px){.header[data-v-b7b385d2]{align-items:flex-start}.header .site-name[data-v-b7b385d2]{flex-direction:column;position:relative}.header .site-name h1[data-v-b7b385d2]{padding:20px 0}.header .site-name h1 a span[data-v-b7b385d2]{font-size:1.3rem}.header .site-name .nav-menu[data-v-b7b385d2]{text-align:center;position:-webkit-sticky;position:sticky;top:0}.header .site-name .nav-menu .nav-link i[data-v-b7b385d2]{font-style:inherit}.header .description[data-v-b7b385d2]{display:none}}.aside[data-v-3b730b86]{width:100%;height:100%}.aside .wrapper[data-v-3b730b86]{word-wrap:break-word;position:-webkit-sticky;position:sticky;top:20px;border-right:1px solid #eee}.aside .wrapper .widget[data-v-3b730b86]{padding:10px 4%;border-radius:4px;opacity:.8;transition:all .2s linear}.aside .wrapper .widget[data-v-3b730b86]:hover{opacity:1}.aside .wrapper .widget .widget-title[data-v-3b730b86]{color:#6e7173;line-height:2.7;margin-top:0;border-bottom:1px solid #ddd}.aside .wrapper .widget .widget-title i[data-v-3b730b86]:before{padding-right:6px}.aside .wrapper .widget .gg[data-v-3b730b86]{font-size:15px}.aside .wrapper .widget .gg a[data-v-3b730b86]{display:block}.aside .wrapper .widget .gg a img[data-v-3b730b86]{border-radius:50%;height:80px}.aside .wrapper .widget .gg div h3[data-v-3b730b86]{font-weight:600;padding:6px 0 3px}.aside .wrapper .widget .share[data-v-3b730b86]{margin-left:-4px}.aside .wrapper .widget .share li[data-v-3b730b86]{display:flex;align-items:center;font-size:14px;padding:1px 0}.aside .wrapper .widget .share li i[data-v-3b730b86]{width:20px;font-size:12px;margin-right:2px;display:flex;justify-content:center}.aside .wrapper .widget .share li a[data-v-3b730b86]:hover{text-decoration:underline}.aside .wrapper .widget ul[data-v-3b730b86]{list-style:none;padding:0;margin:14px 0}.aside .wrapper .widget ul li[data-v-3b730b86]{margin:5px 0;line-height:1.5;font-size:14px}.aside .wrapper .widget .tag-list[data-v-3b730b86]{display:flex;flex-wrap:wrap;margin:14px 0}.aside .wrapper .widget .tag-list .tag-item[data-v-3b730b86]{line-height:26px;padding:0 5px;margin:3px;border:1px solid grey;border-radius:5px;color:#555}.aside .wrapper .widget .tag-list .tag-item[data-v-3b730b86]:hover{color:#fff;border:1px solid grey;background:grey}@media(max-width:900px){.aside .wrapper .widget .gg[data-v-3b730b86]{display:flex}.aside .wrapper .widget .gg div[data-v-3b730b86]{margin-left:2rem}.aside .wrapper .widget .gg div h3[data-v-3b730b86]{padding-top:0}.aside .wrapper .widget .share[data-v-3b730b86]{display:none}}.main[data-v-1a593730]{width:100%;margin-bottom:1.6rem}@media print,screen and (max-width:48em){.main[data-v-1a593730]{width:100%;padding-right:15px}}@media print,screen and (max-width:35.5em){.main[data-v-1a593730]{padding-right:0}}.wrapper .archive[data-v-77c6e61a]{padding:25px 1% 15px}.wrapper .archive .archive-category[data-v-77c6e61a]{margin-bottom:1rem}.wrapper .archive .archive-category a[data-v-77c6e61a]{display:inline-block;margin-right:20px;padding:4px 10px 0;color:#000;border-bottom:2px solid #000}.wrapper .archive .archive-list[data-v-77c6e61a]{font-size:16px;line-height:2;padding-bottom:.8em}.wrapper .archive .archive-list .archive-item .archive-time[data-v-77c6e61a]{font-weight:600;margin:0;font-size:1.5rem}.wrapper .archive .archive-list .archive-item .article-list[data-v-77c6e61a]{margin:15px 0;list-style:none}.wrapper .archive .archive-list .archive-item .article-list .article-item .article-date[data-v-77c6e61a]{padding-right:.7em}.footer[data-v-42d73a68]{width:100%;margin-top:1.8em;font-size:.8rem;background:#f2f3f3}.footer .wrapper[data-v-42d73a68]{color:#6e7173;padding:1.6em 2%;text-align:left;max-width:900px;margin:0 auto}.footer .wrapper .social-icons[data-v-42d73a68]{list-style:none;display:flex;flex-wrap:wrap}.footer .wrapper .social-icons li[data-v-42d73a68]{margin-right:1rem;font-weight:600;padding:4px 0}.footer .top-btn[data-v-42d73a68]{position:fixed;right:40px;bottom:60px;-ms-flex-pack:center;align-items:center;background:#fff;border-radius:50%;box-shadow:0 5px 5px 0 rgba(0,0,0,.1);height:40px;justify-content:center;transition:all .4s ease;width:40px;z-index:1}.footer .top-btn[data-v-42d73a68]:hover{cursor:pointer;background:#c1c1c1}.footer .top-btn div[data-v-42d73a68]{position:relative;width:100%;height:100%}.footer .top-btn div i[data-v-42d73a68]{position:absolute;top:18px;background:#666;width:16px;height:2px}.footer .top-btn div i[data-v-42d73a68]:first-child{transform:rotate(-45deg);left:7px;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg)}.footer .top-btn div i[data-v-42d73a68]:nth-child(2){transform:rotate(45deg);right:7px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg)}@media print,screen and (max-width:48em){.footer[data-v-42d73a68]{width:100%}}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="layout" data-v-25a2d003><header class="header" data-v-b7b385d2 data-v-25a2d003><div class="site-name" data-v-b7b385d2><h1 data-v-b7b385d2><a href="/" class="logo nuxt-link-active" data-v-b7b385d2><span data-v-b7b385d2>子舒的博客</span></a></h1> <div class="nav-menu" data-v-b7b385d2><a href="/" class="nav-link nuxt-link-active" data-v-b7b385d2>Home</a> <a href="/archives" aria-current="page" class="nav-link current nuxt-link-active" data-v-b7b385d2>Posts</a> <a href="/tags" class="nav-link" data-v-b7b385d2>Tags</a> <a href="/message" class="nav-link" data-v-b7b385d2>Message</a> <a href="/about" class="nav-link" data-v-b7b385d2>About</a></div></div> <p class="description" data-v-b7b385d2><i data-v-b7b385d2>路漫漫其修远兮，吾将上下而求索！</i></p></header> <div class="body" data-v-25a2d003><div class="sidebar" data-v-25a2d003><aside data-fetch-key="0" class="aside" data-v-3b730b86 data-v-25a2d003><div class="wrapper" data-v-3b730b86><div class="widget" data-v-3b730b86><div class="gg" data-v-3b730b86><a href="/" class="nuxt-link-active" data-v-3b730b86><img src="https://cdn.jsdelivr.net/gh/Nov8nana/cdn/img/author.png" data-v-3b730b86></a> <div data-v-3b730b86><h3 data-v-3b730b86>子舒</h3> <p data-v-3b730b86>前端开发...</p> <a href="/about" data-v-3b730b86>more...</a></div></div> <ul class="share" data-v-3b730b86><li data-v-3b730b86><i class="fa fa-map-marker" data-v-3b730b86></i> <a data-v-3b730b86>杭州</a></li> <li data-v-3b730b86><i class="fa fa-github" data-v-3b730b86></i> <a href="https://github.com/Nov8nana" target="_blank" data-v-3b730b86>Github</a></li> <li data-v-3b730b86><i class="fa fa-envelope" data-v-3b730b86></i> <a href="mailto:shuxhan@163.com" data-v-3b730b86>shuxhan@163.com</a></li> <li data-v-3b730b86><i class="fa fa-link" data-v-3b730b86></i> <a href="/" data-v-3b730b86>我的博客</a></li></ul></div></div></aside></div> <div class="container" data-v-25a2d003><main class="main" data-v-1a593730 data-v-25a2d003><div class="wrapper" data-v-77c6e61a data-v-1a593730><div class="archive" data-v-77c6e61a><div class="archive-category" data-v-77c6e61a><a href="/categories/技术" data-v-77c6e61a>技术</a> <a href="/categories/随笔" data-v-77c6e61a>随笔</a></div> <div class="archive-list" data-v-77c6e61a><div class="archive-item" data-v-77c6e61a><h2 class="archive-time" data-v-77c6e61a>2022</h2> <ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>01月17日</span> <a href="/posts/2022-01-17-nuxt项目中如何引入百度统计" title="Nuxt 项目中如何引入百度统计？" class="article-link" data-v-77c6e61a>Nuxt 项目中如何引入百度统计？</a></li></ul></div><div class="archive-item" data-v-77c6e61a><h2 class="archive-time" data-v-77c6e61a>2021</h2> <ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月27日</span> <a href="/posts/2021-12-27-网易云音乐年度报告分享" title="网易云音乐年度报告分享" class="article-link" data-v-77c6e61a>网易云音乐年度报告分享</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月21日</span> <a href="/posts/2021-12-21-typecho_更换_gravatar_头像源" title="typecho 更换 gravatar 头像源" class="article-link" data-v-77c6e61a>typecho 更换 gravatar 头像源</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月20日</span> <a href="/posts/2021-12-20-有关_cdn.jsdelivr.net_证书错误的一些想法" title="有关 cdn.jsdelivr.net 证书错误的一些想法" class="article-link" data-v-77c6e61a>有关 cdn.jsdelivr.net 证书错误的一些想法</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月17日</span> <a href="/posts/2021-12-17-闲谈2021" title="闲谈2021" class="article-link" data-v-77c6e61a>闲谈2021</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月07日</span> <a href="/posts/2021-12-07-实现图片灯箱功能" title="实现图片灯箱功能" class="article-link" data-v-77c6e61a>实现图片灯箱功能</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月24日</span> <a href="/posts/2021-11-24-关于人际交往的礼节感触" title="关于人际交往的礼节感触" class="article-link" data-v-77c6e61a>关于人际交往的礼节感触</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月18日</span> <a href="/posts/2021-11-18-网易云摸鱼，测测你的听歌流量" title="网易云摸鱼，测测你的听歌流量" class="article-link" data-v-77c6e61a>网易云摸鱼，测测你的听歌流量</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月11日</span> <a href="/posts/2021-11-11-这两天的碎碎念" title="这两天的碎碎念" class="article-link" data-v-77c6e61a>这两天的碎碎念</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月05日</span> <a href="/posts/2021-11-05-揭秘箭头函数" title="揭秘箭头函数" class="article-link" data-v-77c6e61a>揭秘箭头函数</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月04日</span> <a href="/posts/2021-11-04-js奇怪的知识--console.table" title="js奇怪的知识--console.table" class="article-link" data-v-77c6e61a>js奇怪的知识--console.table</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>10月22日</span> <a href="/posts/2021-10-22-通过_getTimezoneOffset()_方法判断当前时区是否为夏令时" title="通过 getTimezoneOffset() 方法判断当前时区是否为夏令时" class="article-link" data-v-77c6e61a>通过 getTimezoneOffset() 方法判断当前时区是否为夏令时</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>10月07日</span> <a href="/posts/2021-10-07-有关国庆出行的感想" title="有关国庆出行的感想" class="article-link" data-v-77c6e61a>有关国庆出行的感想</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>09月29日</span> <a href="/posts/2021-09-29-使用js随机生成背景颜色" title="使用js随机生成背景颜色" class="article-link" data-v-77c6e61a>使用js随机生成背景颜色</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>09月16日</span> <a href="/posts/2021-09-16-hugo_如何使用_Cusdis__" title="hugo 如何使用 Cusdis ?" class="article-link" data-v-77c6e61a>hugo 如何使用 Cusdis ?</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>09月14日</span> <a href="/posts/2021-09-14-使用jq做一个数字递增效果" title="使用jq做一个数字递增效果" class="article-link" data-v-77c6e61a>使用jq做一个数字递增效果</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>08月19日</span> <a href="/posts/2021-08-19-_npm_install_报错和取消本地代理的问题" title="npm install 报错和取消本地代理的问题" class="article-link" data-v-77c6e61a>npm install 报错和取消本地代理的问题</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>07月21日</span> <a href="/posts/2021-07-21-关于我为什么要写博客？" title="关于我为什么要写博客？" class="article-link" data-v-77c6e61a>关于我为什么要写博客？</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>07月09日</span> <a href="/posts/2021-07-09-将数据库中的图片信息导出并调用" title="将数据库中的图片信息导出并调用" class="article-link" data-v-77c6e61a>将数据库中的图片信息导出并调用</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>06月10日</span> <a href="/posts/2021-06-10-冷知识世界新增一个大洋变成五大洋" title="冷知识世界新增一个大洋变成五大洋" class="article-link" data-v-77c6e61a>冷知识世界新增一个大洋变成五大洋</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>06月08日</span> <a href="/posts/2021-06-08-在_vue_中使用_axios_调用数据" title="在 vue 中使用 axios 调用数据" class="article-link" data-v-77c6e61a>在 vue 中使用 axios 调用数据</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>05月30日</span> <a href="/posts/2021-05-30-宝塔如何实现进程守护？" title="宝塔如何实现进程守护？" class="article-link" data-v-77c6e61a>宝塔如何实现进程守护？</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>05月27日</span> <a href="/posts/2021-05-27-css_中_fixed_定位属性和动画的冲突问题及解决方法" title="css 中 fixed 定位属性和动画的冲突问题及解决方法" class="article-link" data-v-77c6e61a>css 中 fixed 定位属性和动画的冲突问题及解决方法</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>05月13日</span> <a href="/posts/2021-05-13-Oracle数据库安装教程（超详细）" title="Oracle数据库安装教程（超详细）" class="article-link" data-v-77c6e61a>Oracle数据库安装教程（超详细）</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>05月11日</span> <a href="/posts/2021-05-11-Typecho博客搭建及优化教程(详细)" title="Typecho博客搭建及优化教程(详细)" class="article-link" data-v-77c6e61a>Typecho博客搭建及优化教程(详细)</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>05月09日</span> <a href="/posts/2021-05-09-网站引入iframe视频，如何实现高度自适应_" title="网站引入iframe视频，如何实现高度自适应?" class="article-link" data-v-77c6e61a>网站引入iframe视频，如何实现高度自适应?</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>05月07日</span> <a href="/posts/2021-05-07-呼吸之野" title="呼吸之野" class="article-link" data-v-77c6e61a>呼吸之野</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>04月24日</span> <a href="/posts/2021-04-24-基耶斯洛夫斯基和他的现实" title="基耶斯洛夫斯基和他的现实" class="article-link" data-v-77c6e61a>基耶斯洛夫斯基和他的现实</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>04月21日</span> <a href="/posts/2021-04-21-基于_docsify_搭建一个文档" title="基于 docsify 搭建一个文档" class="article-link" data-v-77c6e61a>基于 docsify 搭建一个文档</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>04月03日</span> <a href="/posts/2021-04-03-清明时节雨纷纷" title="清明时节雨纷纷" class="article-link" data-v-77c6e61a>清明时节雨纷纷</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>04月01日</span> <a href="/posts/2021-04-01-我的_python_学习笔记" title="我的 python 学习笔记" class="article-link" data-v-77c6e61a>我的 python 学习笔记</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>03月26日</span> <a href="/posts/2021-03-26-实时监听页面的变化" title="实时监听页面的变化" class="article-link" data-v-77c6e61a>实时监听页面的变化</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>03月22日</span> <a href="/posts/2021-03-22-ajax_和_js_事件的执行顺序" title="ajax 和 js 事件的执行顺序" class="article-link" data-v-77c6e61a>ajax 和 js 事件的执行顺序</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>03月22日</span> <a href="/posts/2021-03-22-ajax拼接模版字符串的几种方法" title="ajax拼接模版字符串的几种方法" class="article-link" data-v-77c6e61a>ajax拼接模版字符串的几种方法</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>03月19日</span> <a href="/posts/2021-03-19-用ajax请求获取数据" title="用ajax请求获取数据" class="article-link" data-v-77c6e61a>用ajax请求获取数据</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>03月18日</span> <a href="/posts/2021-03-18-IE10的兼容性处理" title="IE10的兼容性处理" class="article-link" data-v-77c6e61a>IE10的兼容性处理</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>03月17日</span> <a href="/posts/2021-03-17-window.scroll_方法只能存在一次该如何解决？" title="window.scroll 方法只能存在一次该如何解决？" class="article-link" data-v-77c6e61a>window.scroll 方法只能存在一次该如何解决？</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>03月16日</span> <a href="/posts/2021-03-16-IE10下`,`符号不能留白" title="IE10下`,`符号不能留白" class="article-link" data-v-77c6e61a>IE10下`,`符号不能留白</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>03月14日</span> <a href="/posts/2021-03-14-怎么让_css3_里面的动画属性看起来更流畅_" title="怎么让 css3 里面的动画属性看起来更流畅?" class="article-link" data-v-77c6e61a>怎么让 css3 里面的动画属性看起来更流畅?</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>02月26日</span> <a href="/posts/2021-02-26-chrome浏览器无法显示12px以下的字体" title="chrome浏览器无法显示12px以下的字体" class="article-link" data-v-77c6e61a>chrome浏览器无法显示12px以下的字体</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>02月25日</span> <a href="/posts/2021-02-25-使用宝塔面板安装_autoPicCdn_图床工具" title="使用宝塔面板安装 autoPicCdn 图床工具" class="article-link" data-v-77c6e61a>使用宝塔面板安装 autoPicCdn 图床工具</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>02月04日</span> <a href="/posts/2021-02-04-typecho_博客小表情无法显示问题" title="typecho 博客小表情无法显示问题" class="article-link" data-v-77c6e61a>typecho 博客小表情无法显示问题</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>02月03日</span> <a href="/posts/2021-02-03-掘金个人主页头像旋转效果" title="掘金个人主页头像旋转效果" class="article-link" data-v-77c6e61a>掘金个人主页头像旋转效果</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>01月20日</span> <a href="/posts/2021-01-20-ES5_和_ES6_的区别？_" title="ES5 和 ES6 的区别？" class="article-link" data-v-77c6e61a>ES5 和 ES6 的区别？</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>01月18日</span> <a href="/posts/2021-01-18-webpack_的核心概念和构建流程" title="webpack 的核心概念和构建流程" class="article-link" data-v-77c6e61a>webpack 的核心概念和构建流程</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>01月17日</span> <a href="/posts/2021-01-17-小张厨房日记（二）" title="小张厨房日记（二）" class="article-link" data-v-77c6e61a>小张厨房日记（二）</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>01月16日</span> <a href="/posts/2021-01-16-许嵩的歌又一次被抄袭！" title="许嵩的歌又一次被抄袭！" class="article-link" data-v-77c6e61a>许嵩的歌又一次被抄袭！</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>01月07日</span> <a href="/posts/2021-01-07-基于_React_的富文本编辑器－－Braft_Editor" title="基于 React 的富文本编辑器－－Braft Editor" class="article-link" data-v-77c6e61a>基于 React 的富文本编辑器－－Braft Editor</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>01月06日</span> <a href="/posts/2021-01-06-使用_React_与_Vue_创建同一款_App，差别究竟有多大？" title="使用 React 与 Vue 创建同一款 App，差别究竟有多大？" class="article-link" data-v-77c6e61a>使用 React 与 Vue 创建同一款 App，差别究竟有多大？</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>01月05日</span> <a href="/posts/2021-01-05-React_脚手架项目打包时的路径问题" title="React 脚手架项目打包时的路径问题" class="article-link" data-v-77c6e61a>React 脚手架项目打包时的路径问题</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>01月04日</span> <a href="/posts/2021-01-04-如何在_React_中引入_less？_" title="如何在 React 中引入 less？" class="article-link" data-v-77c6e61a>如何在 React 中引入 less？</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>01月01日</span> <a href="/posts/2021-01-01-为什么_key_是必须的？" title="为什么 key 是必须的？" class="article-link" data-v-77c6e61a>为什么 key 是必须的？</a></li></ul></div><div class="archive-item" data-v-77c6e61a><h2 class="archive-time" data-v-77c6e61a>2020</h2> <ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月29日</span> <a href="/posts/2020-12-29-React_学习笔记（三）" title="React 学习笔记（三）" class="article-link" data-v-77c6e61a>React 学习笔记（三）</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月25日</span> <a href="/posts/2020-12-25-2020年度总结" title="2020年度总结" class="article-link" data-v-77c6e61a>2020年度总结</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月21日</span> <a href="/posts/2020-12-21-_React_－－万物皆可组件" title="React －－万物皆可组件" class="article-link" data-v-77c6e61a>React －－万物皆可组件</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月19日</span> <a href="/posts/2020-12-19-javascript_进阶问题" title="javascript 进阶问题" class="article-link" data-v-77c6e61a>javascript 进阶问题</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月16日</span> <a href="/posts/2020-12-16-React_学习笔记（二）" title="React 学习笔记（二）" class="article-link" data-v-77c6e61a>React 学习笔记（二）</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月13日</span> <a href="/posts/2020-12-13-吐槽－－控制好自己的情绪" title="吐槽－－控制好自己的情绪" class="article-link" data-v-77c6e61a>吐槽－－控制好自己的情绪</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月12日</span> <a href="/posts/2020-12-12-React_中的占位符_Fragment" title="React 中的占位符 Fragment" class="article-link" data-v-77c6e61a>React 中的占位符 Fragment</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>12月02日</span> <a href="/posts/2020-12-02-为什么不可变性在_React_中那么重要？" title="为什么不可变性在 React 中那么重要？" class="article-link" data-v-77c6e61a>为什么不可变性在 React 中那么重要？</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月27日</span> <a href="/posts/2020-11-27-关于react的一份学习计划" title="关于react的一份学习计划" class="article-link" data-v-77c6e61a>关于react的一份学习计划</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月26日</span> <a href="/posts/2020-11-26-webpack安装配置指令" title="webpack安装配置指令" class="article-link" data-v-77c6e61a>webpack安装配置指令</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月25日</span> <a href="/posts/2020-11-25-vue学习笔记(3)－－computed,_watch，calss,_style" title="vue学习笔记(3)－－computed, watch，calss, style" class="article-link" data-v-77c6e61a>vue学习笔记(3)－－computed, watch，calss, style</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月24日</span> <a href="/posts/2020-11-24-vue学习笔记(2)－－vue实例和模板语法" title="vue学习笔记(2)－－vue实例和模板语法" class="article-link" data-v-77c6e61a>vue学习笔记(2)－－vue实例和模板语法</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月23日</span> <a href="/posts/2020-11-23-_vue学习笔记(1)－－什么是vue_" title="vue学习笔记(1)－－什么是vue?" class="article-link" data-v-77c6e61a>vue学习笔记(1)－－什么是vue?</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月22日</span> <a href="/posts/2020-11-22-React_学习笔记（一）" title="React 学习笔记（一）" class="article-link" data-v-77c6e61a>React 学习笔记（一）</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月21日</span> <a href="/posts/2020-11-21-对象，类和接口之间的关系" title="对象，类和接口之间的关系" class="article-link" data-v-77c6e61a>对象，类和接口之间的关系</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月20日</span> <a href="/posts/2020-11-20-vue使用cli脚手架构建项目工程" title="vue使用cli脚手架构建项目工程" class="article-link" data-v-77c6e61a>vue使用cli脚手架构建项目工程</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月19日</span> <a href="/posts/2020-11-19-react学习路径－－怎么学习react？" title="react学习路径－－怎么学习react？" class="article-link" data-v-77c6e61a>react学习路径－－怎么学习react？</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月18日</span> <a href="/posts/2020-11-18-在js中运算不能随便把value属性定义成变量" title="在js中运算不能随便把value属性定义成变量" class="article-link" data-v-77c6e61a>在js中运算不能随便把value属性定义成变量</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月17日</span> <a href="/posts/2020-11-17-事件监听函数，以及事件的捕获和冒泡机制" title="事件监听函数，以及事件的捕获和冒泡机制" class="article-link" data-v-77c6e61a>事件监听函数，以及事件的捕获和冒泡机制</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月16日</span> <a href="/posts/2020-11-16-getElementBy系列和querySelector系列的区别" title="getElementBy系列和querySelector系列的区别" class="article-link" data-v-77c6e61a>getElementBy系列和querySelector系列的区别</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月15日</span> <a href="/posts/2020-11-15-DOM－－文档对象模型" title="DOM－－文档对象模型" class="article-link" data-v-77c6e61a>DOM－－文档对象模型</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月14日</span> <a href="/posts/2020-11-14-有关js函数，方法的一些补充总结" title="有关js函数，方法的一些补充总结" class="article-link" data-v-77c6e61a>有关js函数，方法的一些补充总结</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月13日</span> <a href="/posts/2020-11-13-为什么getTime()返回1970年至今的毫秒？" title="为什么getTime()返回1970年至今的毫秒？" class="article-link" data-v-77c6e61a>为什么getTime()返回1970年至今的毫秒？</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月12日</span> <a href="/posts/2020-11-12-面向对象编程" title="面向对象编程" class="article-link" data-v-77c6e61a>面向对象编程</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月09日</span> <a href="/posts/2020-11-09-小张厨房日记（更新中...）" title="小张厨房日记（更新中...）" class="article-link" data-v-77c6e61a>小张厨房日记（更新中...）</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>11月04日</span> <a href="/posts/2020-11-04-javascript——函数、变量和方法" title="javascript——函数、变量和方法" class="article-link" data-v-77c6e61a>javascript——函数、变量和方法</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>10月29日</span> <a href="/posts/2020-10-29-HTML事件属性--DOM" title="HTML事件属性--DOM" class="article-link" data-v-77c6e61a>HTML事件属性--DOM</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>10月21日</span> <a href="/posts/2020-10-21-js基本语法" title="js基本语法" class="article-link" data-v-77c6e61a>js基本语法</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>09月18日</span> <a href="/posts/2020-09-18-对全栈的一些思考" title="对全栈的一些思考" class="article-link" data-v-77c6e61a>对全栈的一些思考</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>09月11日</span> <a href="/posts/2020-09-11-chrome浏览器中对autoplay的一些处理技巧" title="chrome浏览器中对autoplay的一些处理技巧" class="article-link" data-v-77c6e61a>chrome浏览器中对autoplay的一些处理技巧</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>08月11日</span> <a href="/posts/2020-08-11-推荐书籍《CSS世界》" title="推荐书籍《CSS世界》" class="article-link" data-v-77c6e61a>推荐书籍《CSS世界》</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>08月03日</span> <a href="/posts/2020-08-03-文字溢出隐藏以及和flex冲突的问题" title="文字溢出隐藏以及和flex冲突的问题" class="article-link" data-v-77c6e61a>文字溢出隐藏以及和flex冲突的问题</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>06月19日</span> <a href="/posts/2020-06-19-vue生命周期" title="vue生命周期" class="article-link" data-v-77c6e61a>vue生命周期</a></li></ul><ul class="article-list" data-v-77c6e61a><li class="article-item" data-v-77c6e61a><span class="article-date" data-v-77c6e61a>06月14日</span> <a href="/posts/2020-06-14-hello,_world" title="hello, world" class="article-link" data-v-77c6e61a>hello, world</a></li></ul></div></div></div></div></main></div> <div class="toc" data-v-25a2d003></div></div> <footer class="footer" data-v-42d73a68 data-v-25a2d003><div class="wrapper" data-v-42d73a68><ul class="social-icons" data-v-42d73a68><li data-v-42d73a68><a href="https://github.com/Nov8nana" target="_blank" data-v-42d73a68><i class="fa fa-github" data-v-42d73a68></i> GitHub
        </a></li> <li data-v-42d73a68><a href="javascript:void(0);" data-v-42d73a68><i class="fa fa-envelope" data-v-42d73a68></i> shuxhan@163.com
        </a></li> <li data-v-42d73a68><a href="/" data-v-42d73a68><i class="fa fa-link" data-v-42d73a68></i> 我的博客
        </a></li> <li data-v-42d73a68><a href="/about" data-v-42d73a68><i class="fa fa-rss" data-v-42d73a68></i> 关于我
        </a></li></ul> <div data-v-42d73a68>
      © 2020 -2022 ·
      <a href="/" data-v-42d73a68>子舒的博客</a> ·
      已运行
      <span id="days" data-v-42d73a68>0</span> 天 ·
      Power
      <a href="https://nuxtjs.org/" target="_blank" data-v-42d73a68>Nuxt.js</a></div></div> <div class="back_top top-btn" style="opacity:1;display:none" data-v-42d73a68><div data-v-42d73a68><i data-v-42d73a68></i> <i data-v-42d73a68></i></div></div> <script src="https://cdn.jsdelivr.net/gh/Nov8nana/cdn/js/nuxt-blog-main.js" data-v-42d73a68></script></footer></div></div></div><script>window.__NUXT__=function(n,s,a,p,t,o,e,c,l,u,k,i,r,d,g,m,h,f,b,y,v,w,j,x,E,S,q,C,I,R,T,_,D,P,A,M,N,L,B,O,U,V,G,F,H,z,$,J,Y,W,K,X,Q,Z,nn,sn,an,pn,tn,on,en,cn,ln,un,kn,rn,dn,gn,mn,hn,fn,bn,yn,vn,wn,jn,xn,En,Sn,qn,Cn,In,Rn,Tn,_n,Dn,Pn,An,Mn,Nn,Ln,Bn,On,Un,Vn,Gn,Fn,Hn,zn,$n,Jn,Yn,Wn,Kn,Xn,Qn,Zn,ns,ss,as,ps,ts,os,es,cs,ls,us,ks,is,rs,ds,gs,ms,hs,fs,bs,ys){return x.title="Nuxt 项目中如何引入百度统计？",x.date=h,x.updated=h,x.categories=[n],x.tags=[e,E],C.title="网易云音乐年度报告分享",C.date=I,C.updated="2021/12/27 15:50:22",C.categories=[a],C.tags=[a],_.title="typecho 更换 gravatar 头像源",_.date=D,_.updated="2021/12/21 10:14:21",_.categories=[n],_.tags=[i,P],N.title="有关 cdn.jsdelivr.net 证书错误的一些想法",N.date=L,N.updated="2021/12/21 11:37:26",N.categories=[a],N.tags=[a,B],V.title="闲谈2021",V.date=G,V.updated="2021/12/17 16:41:30",V.categories=[a],V.tags=[a,r],{layout:"default",data:[{archives:[{date:2022,articles:[{attributes:x,html:S,date:h,path:q}]},{date:2021,articles:[{attributes:C,html:R,date:I,path:T},{attributes:_,html:A,date:D,path:M},{attributes:N,html:O,date:L,path:U},{attributes:V,html:F,date:G,path:H},{attributes:{title:"实现图片灯箱功能",date:z,updated:"2021/12/07 17:27:51",categories:[n],tags:[e,"插件"]},html:'<p>写博客必不可少的一个功能就是图片灯箱功能，也就是点击放大查看。但是不同程序的博客所使用的插件也都不一样，我这里研究出一套可以满足绝大部分程序的灯箱插件。已经测试过hexo, hugo, typecho 均无问题。</p>\n\x3c!-- more --\x3e\n<h2>引入文件</h2>\n<p>首先引入我们关键的两个文件分别是 <code>zoom.css</code> 和 <code>zoom.js</code> 。</p>\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- head头部 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.xiabanlo.cn/list/zoom.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- body底部 --\x3e</span>\n<span class="token comment">&lt;!-- 如果已经有jq文件了，就不要引入jquery --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.xiabanlo.cn/list/jquery3.6.0.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> \n<span class="token comment">&lt;!--图片灯箱--\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bigimg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mask<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.xiabanlo.cn/list/zoom.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n</code></pre>\n<p>因为这个文件是放在我自己服务器上的，所以不敢保证以后还是这个路径，建议在浏览器打开，然后把里面的代码复制到本地使用。</p>\n<h2>调用js</h2>\n<p>然后我们需要给图片一个类名，以及一个父元素盒子，同样也可以使用 jq 来完成。</p>\n<p>这里的 <code>.post-content</code> 正文的类名，如果你是别的类名，可以直接将 <code>.post-content</code> 替换掉。</p>\n<pre class="language-js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n\t<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">\'.post-content img\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">\'smallimg\'</span><span class="token punctuation">)</span>\n  \t<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">\'.post-content img\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token string">\'&lt;div class="imgbox">&lt;/div>\'</span><span class="token punctuation">)</span>\n\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n</code></pre>\n<p>接着我们需要对插件进行初始化，直接在刚才的代码下面写入。</p>\n<pre class="language-js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n\t<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">\'.post-content img\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">\'smallimg\'</span><span class="token punctuation">)</span>\n\t\t<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">\'.post-content img\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token string">\'&lt;div class="imgbox">&lt;/div>\'</span><span class="token punctuation">)</span>\n\n\t\t<span class="token comment">/*\n\tsmallimg   // 小图\n\tbigimg  //点击放大的图片\n\tmask   //黑色遮罩\n\t*/</span>\n\t<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">zoom</span><span class="token punctuation">(</span><span class="token string">\'mask\'</span><span class="token punctuation">,</span> <span class="token string">\'bigimg\'</span><span class="token punctuation">,</span> <span class="token string">\'smallimg\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tobj<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n</code></pre>\n<p>回到页面上，点击正文的图片就可以成功放大了。</p>\n<h2>结束</h2>\n<p>随便放个图片试验一下吧！</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@8ee72e14b00c8f71d2927ed51093d260f43fe2ea/2021/11/10/5b39fa131726043fecb309d5ce196243.png" alt=""></p>\n<p>之所以我限制了在正文中才可以放大，是因为网站其他地方也有图片，如果都可以点击放大，就很不合理。</p>\n<p>如果在使用中有其他问题，欢迎留言。</p>\n',date:z,path:"/posts/2021-12-07-实现图片灯箱功能"},{attributes:{title:"关于人际交往的礼节感触",date:$,updated:"2021/11/29 11:38:57",categories:[a],tags:[a]},html:"<p>因为一件小事有感而发，在人际交往的过程中，我们通常都会关注一些细节，从而影响对一个人印象。这是一个作为人很正常的行为。</p>\n\x3c!-- more --\x3e\n<p>打个比方，两个人聊天，其中一个人不停拿起手机查看，就很给人一种很没有礼貌的印象。假如说有工作要忙，或者其他要处理的事项，这当然另当别论。换个思维，如果真的有那么忙，也不会发生此次社会交互行为活动。所以这是一个悖论了。基本上不存在忙的要命的情况。</p>\n<p>我们在社会交往中，大多抱着一种善意的目的，希望从别人那里获得一些“利益”，这里的利益更多指代一中虚拟的情绪，比如开心，愉快，满足等。所以我在平时跟朋友社交，包括并不限于聚餐，出行游玩等，都是将重心放在此次活动中，如果有其他的事情，我都会提前处理安排好，不会影响活动进行。</p>\n<p>我想，这是一个正常的人的社交应该有的，一个必需的态度，是一种比较充满正能量，积极向上的态度，如果双方都是如此，我想此次社交行为都将会有一些愉快的体验。</p>\n<p>但有句古话说的挺好， “林子大了什么鸟都有”。 你不能保证每个人的社交态度和行为都是一个积极的方向，将其转化为日常说法就是一个人的礼节，你不能确定他(她)真的有礼貌，或者在某些方面冒犯到你。</p>\n<p>所以在你感觉到情绪不适，或者对他(她)有什么看法，最佳的做法就是旁敲侧击，看看他(她)是什么有什么重要原因，做出了一些失去礼节的行为，如果真的有原因的话，我都会表示理解。</p>\n<p>但是如果真的是性格的方面的问题，导致他(她)一直都是这个样子，我一般也是表示理解，但是往后我会重新审视这个人，是否真的可以有成为好朋友的机会。</p>\n<p>个人觉得最基本的礼节还是要有的。</p>\n<p>另外说，手机真的没有那么好玩，没必要走路，吃饭都在看手机。如果真的想玩，可以独处时尽情的玩耍，多人在一起时，最好还是以社交为主，不然社交不就失去了它的意义吗？</p>\n",date:$,path:"/posts/2021-11-24-关于人际交往的礼节感触"},{attributes:{title:"网易云摸鱼，测测你的听歌流量",date:J,updated:"2021/12/01 14:37:50",categories:[a],tags:[a]},html:'\x3c!-- more --\x3e\n<p>格局刚好。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@d88aebb7cc1108bdf2bf899e247480d0ac94781f/2021/11/18/47f2fd18e0e1e9975e851d2958256a1b.png" alt=""></p>\n',date:J,path:"/posts/2021-11-18-网易云摸鱼，测测你的听歌流量"},{attributes:{title:"这两天的碎碎念",date:Y,updated:"2021/12/09 13:48:44",categories:[a],tags:[a]},html:'<p>这段时间双十一，发现没有了往年那种囤货淘宝的欲望了，翻来翻去不知道买什么，包括那些活动，有好多朋友给我发链接助力我都没怎么弄，可能是生活的打磨让我对它没兴趣了吧~~</p>\n\x3c!-- more --\x3e\n<p>唯一的消费活动就是买了一台服务器，腾讯云正在做双十一特惠活动，一台2h4g6m的服务器，三年才一百多，个人感觉还是比较划算的，以后可以放一些脚本，跑跑服务啥的，还可以把我的博客挂在上面。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@8ee72e14b00c8f71d2927ed51093d260f43fe2ea/2021/11/10/5b39fa131726043fecb309d5ce196243.png" alt=""></p>\n<p>并且购买了一个新的域名 <a href="xiabanlo.cn">xiabanlo.cn</a>，不过最近正在备案，通过之后就会使用了。坚持，不忘初心！</p>\n<hr>\n<p>然后就是突入起来的降温寒潮，虽然提前有了预报，却还是不小心中招了，昨天早上起来喉咙一直痛，想咳嗽。赶紧喝了两杯热水，发现作用不大，依旧是感冒流鼻涕了，不过还好是轻微的。</p>\n<p>晚上回到家，把床垫子加厚了，并且换了加绒的被子。像什么毛衣手套啊，也都安排上了，喝两袋999感冒灵，今天感觉舒服多了，看了一眼天气预报，温度貌似还有回升，这就很棒了。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@a94b9cdefc3535099874487fd1ca0597ba275ee2/2021/11/11/4be3fc47d140d5ca219d1da0cb5275f9.png" alt=""></p>\n<p>不过早上骑车去地铁的时候，还是有些冷，手套带好，裹得紧紧的。</p>\n<p>生活不易，注意身体，防寒保暖~~</p>\n<p>中午，吃了一碗雪菜黄鱼面，味道很不错，点个赞！！（唯一的缺点就是有点小贵~~）</p>\n',date:Y,path:"/posts/2021-11-11-这两天的碎碎念"},{attributes:{title:"揭秘箭头函数",date:W,updated:"2021/12/01 14:37:09",categories:[n],tags:[p,"翻译"]},html:'<blockquote>\n<p>英文地址: https://javascript.plainenglish.io/demystifying-javascript-arrow-functions-7b2a0908a2b3<br>\n通过掘金翻译计划活动进行翻译</p>\n</blockquote>\n\x3c!-- more --\x3e\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@7ffb312dbd5875c97ccd4af3d8fda47532a0b3d5/2021/11/05/b48745e783a796580ccd10fa6b845c71.png" alt=""></p>\n<p>箭头函数是函数表达式的替代方法，但在语法上有所不同，不能在所有情况下使用。如果您还没有阅读 JavaScript 中的函数表达式，我建议您在继续阅读之前先阅读<a href="https://themallu.dev/demystifying-function-expressions">这篇文章</a>。</p>\n<p>现在，让我们试着从语法、执行、作用域和提升以及代码示例方面来理解箭头函数。</p>\n<h2>1. 语法</h2>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">arrowFunctionSyntax</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Hi, I am an arrow function\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token function">arrowFunctionSyntax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>在上面的代码示例中，我们可以看到箭头函数类似于函数表达式，因为它们被赋值为变量。 主要区别在于函数的编写方式。 以下是我们可以根据其语法从上述代码中得出的观察结果：</p>\n<ol>\n<li>它不包含 <strong>function</strong> 关键字。</li>\n<li>它没有 <strong>函数名</strong> ，这意味着这些是匿名函数。</li>\n<li>引入了箭头 <code>=&gt;</code> 符号。</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">arrowFunctionWithOneParam</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> <span class="token function-variable function">arrowFunctionWithMultipleParams</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">numberOne<span class="token punctuation">,</span> numberTwo</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> sum <span class="token operator">=</span> numberOne <span class="token operator">+</span> numberTwo<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> sum<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">arrowFunctionWithOneParam</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">arrowFunctionWithMultipleParams</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>如果我们同时观察 <code>arrowFunctionWithOneParam</code> 和 <code>arrowFunctionWithMultipleParams</code>，我们可以发现三者的不同---括号 <code>()</code>、块 <code>{}</code> 和 <code>return</code> 关键字的使用。 根据箭头函数的语法，如果函数只接受一个参数，可以忽略括号<code>()</code>。如果函数只包含一条语句，则可以忽略块<code>{}</code>，最后其实也可以忽略<code>return</code> ，如果函数只包含一个语句。</p>\n<h2>2. 执行</h2>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">arrowFunctionExecution</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Hi, my execution is similar to normal function\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token function">arrowFunctionExecution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>在执行箭头函数时，它们的执行方式与其他普通函数的执行方式相似。 当 JS 引擎执行 <code>arrowFunctionExecution()</code> 时，它会创建一个函数，执行上下文并被推送到调用堆栈。 一旦创建了执行上下文，它就会启动创建阶段。 在这个阶段，它将创建参数对象并在其本地内存堆中声明所有变量。</p>\n<p>与普通函数相比，主要区别在于 <code>this</code> 的声明。 箭头函数没有自己的 <code>this</code> 变量； <code>this</code> 在箭头函数中使用时会得到词法解析。 在创建阶段之后不久，执行阶段开始。 这时它开始执行语句 <code>console.log()</code> ，并将 <code>&quot;Hi, my execution is similar to normal function&quot;</code> 打印到控制台。</p>\n<h2>3. 作用域</h2>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">arrowFunctionScope</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Hi, my scoping rules works similar to function expression\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>这些函数遵循与其他函数表达式相同的作用域规则。这些函数有自己的作用域，函数内部声明的任何变量都不能在函数外部访问。 这些函数也不适用于 <code>call</code>、<code>apply</code> 和 <code>bind</code> 方法，这些方法通常依赖于作用域。 如果您还没有阅读过 JavaScript 中的作用域，我建议您阅读 <a href="https://themallu.dev/demystifying-scopes"><strong>这篇文章</strong></a>。</p>\n<h2>4. 提升</h2>\n<pre class="language-js"><code class="language-js"><span class="token function">amIGoingToBeHoisted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> <span class="token function-variable function">amIGoingToBeHoisted</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'The answer is NO\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>箭头函数没有被提升，因为它们也是函数表达式，其中函数被分配为变量的值。 当 JavaScript 引擎执行上述代码时，在创建阶段，声明语句 <code>var amIGoingToBeHoisted</code> 将被移到顶部并使用值 <code>undefined</code> 进行初始化，而将初始值留在后面。 在执行阶段，遇到语句<code>amIGoingToBeHoisted</code> 时会抛出类型错误，因为它的值是 undefined ，这不是提升后的函数类型。 要了解有关 JavaScript 提升的更多信息，我建议您阅读 <a href="https://themallu.dev/demystifying-hoisting"><strong>文章</strong></a>。</p>\n',date:W,path:"/posts/2021-11-05-揭秘箭头函数"},{attributes:{title:"js奇怪的知识--console.table",date:K,updated:"2021/12/01 14:36:51",categories:[n],tags:[p],abs:"这个属性对我来说还真有些陌生，无意中发现的，查询过 MDN 之后听得挺有意思的，就记录一下。"},html:'<p>这个属性对我来说还真有些陌生，无意中发现的，查询过 MDN 之后听得挺有意思的，就记录一下。</p>\n<p>根据字面意思就是“将数据以表格的形式显示”。这个方法需要一个必须参数 data，data 必须是一个数组或者是一个对象；还可以使用一个可选参数 columns。</p>\n<p>表格的第一列是 index。如果数据 data 是一个数组，那么这一列的单元格的值就是数组的索引。 如果数据是一个对象，那么它们的值就是各对象的属性名称。 注意（在 FireFox 中）console.table 被限制为只显示1000行（第一行是被标记的索引）。</p>\n<h3>1.直接输出</h3>\n<p>直接进行尝试，在控制台输出 console.table</p>\n<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"双十一"</span><span class="token punctuation">,</span> <span class="token string">"双十二"</span><span class="token punctuation">,</span> <span class="token string">"双十三"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token constant">PS</span> <span class="token constant">E</span><span class="token operator">:</span>\\demo<span class="token operator">></span> node <span class="token number">1.</span>js\n┌─────────┬──────────┐\n<span class="token function">│</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> │  Values  │\n├─────────┼──────────┤\n│    <span class="token number">1</span>    │ <span class="token string">\'双十二\'</span> │\n│    <span class="token number">2</span>    │ <span class="token string">\'双十三\'</span> │\n└─────────┴──────────┘\n</code></pre>\n<p>复制下来怪怪的，直接上个图，就是下面这个样子。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@0fa1ba3edf5d42c768438b5d84bf7e25a865225d/2021/11/04/5b865e6a38851240419ceb0984e6557e.png" alt=""></p>\n<hr>\n<h3>2.定义对象进行输出</h3>\n<p>同样也可以定义一个对象然后输出</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token parameter">title<span class="token punctuation">,</span> date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title\n  <span class="token keyword">this</span><span class="token punctuation">.</span>date <span class="token operator">=</span> date\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fun</span><span class="token punctuation">(</span><span class="token string">"双十一"</span><span class="token punctuation">,</span> <span class="token string">"11.11"</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> two <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fun</span><span class="token punctuation">(</span><span class="token string">"双十二"</span><span class="token punctuation">,</span> <span class="token string">"12.12"</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> three <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fun</span><span class="token punctuation">(</span><span class="token string">"双十三"</span><span class="token punctuation">,</span> <span class="token string">"你是傻子吗，没有13月"</span><span class="token punctuation">)</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token punctuation">[</span>one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"title"</span><span class="token punctuation">,</span> <span class="token string">"date"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n</code></pre>\n<p>打印出来，就是下面这个样子。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@16162c34518b9b064f41bc1b55b661a133d54215/2021/11/04/ed587c8b3373abe1fca2c9cdc6dd50dd.png" alt=""></p>\n<h3>3.console.table() 的应用场景</h3>\n<p>前面是在通过在编辑器中使用 node.js 输出数据，看看在浏览器中输出会不会不一样的效果。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@5e4605636dffcb7e95537ef8797cfbb372a4209b/2021/11/04/092caebd508948e18d29468739d17e18.png" alt=""></p>\n<p>可以看到成功输出数据，并且点击表头时，可以按照不同顺序进行排序，这么一看....嗯，还挺有用的（假笑）</p>\n<p>应用场景大概就是可以对打印的数据进行更直观的观看，在某些情况下有利于调试代码，以后看看是否能用得上这种方法。</p>\n',date:K,path:"/posts/2021-11-04-js奇怪的知识--console.table"},{attributes:{title:"通过 getTimezoneOffset() 方法判断当前时区是否为夏令时",date:X,updated:"2021/12/01 14:27:05",categories:[n],tags:[p]},html:'<p><code>getTimezoneOffset() 方法</code> 方法返回 UTC 时间和本地时间之间的时差，以分钟为单位。</p>\n\x3c!-- more --\x3e\n<blockquote>\n<p>世界协调时间 (UTC) 是世界时间标准设定的时间, UTC 时间与 GMT 时间（格林威治时间）相同。</p>\n</blockquote>\n<p>测一下我所在时区和标准时区的时间差</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myDate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">var</span> n <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getTimezoneOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n<span class="token function">myDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// PS E:\\demo> node 1.js</span>\n<span class="token comment">// -480</span>\n</code></pre>\n<p>也就是 480分钟（8个小时），北京时间是东八区，刚好与格林威治时间相差8个小时，这说明 <code>getTimezoneOffset()</code> 方法是很有效的。</p>\n<p>接下来利用这个方法，判断一下当前时区是否为夏令时。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> time1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> time2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span>time1<span class="token punctuation">.</span><span class="token function">getTimezoneOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> time2<span class="token punctuation">.</span><span class="token function">getTimezoneOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'夏令时\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">else</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'非夏令时\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n\n<span class="token comment">// PS E:\\demo> node 1.js</span>\n<span class="token comment">// 非夏令时</span>\n</code></pre>\n',date:X,path:"/posts/2021-10-22-通过_getTimezoneOffset()_方法判断当前时区是否为夏令时"},{attributes:{title:"有关国庆出行的感想",date:Q,updated:"2021/12/01 14:26:51",categories:[a],tags:["感想","出行"]},html:'<p>好长时间没回老家了，这次本想借着国庆七天回家一趟，顺便处理一些其他的事情。所以我从9月30日晚，与家人一同驾车回家。</p>\n\x3c!-- more --\x3e\n<h3>艰难的回家之路</h3>\n<p>刚上高速跑得很快，原以为已经错开出行高峰期，结果发现是我想多了，不出意外的堵在高速上。</p>\n<p>导航呢，这时候也是推荐不走高速，直接从国道走（真的是后悔），然后我们就下了高速，结果这个导航给我整的有点蒙，在临安绕来绕去，11点从杭州出发，凌晨3点还在临安出不去，国道都在堵车，然后没办法只能就地休息，困得实在不行了，其实睡也睡不舒服，跑夜车都是这个样子。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@dbc3c8f6d01f44d46c71e7ab0de3095c4100f533/2021/10/08/d6b1cfd2d52a28cfbf9f12785ace9a1b.png" alt=""></p>\n<p>睡到5点多，这时候已经是10月1日了，继续出发，按照导航走，结果走到了一个盘山公路，不知道叫什么山，没注意看。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@577a419cca63222a694810238c405cd31a37b390/2021/10/08/3b0fb1402f57634b8781d478a20774d2.png" alt=""></p>\n<p>大概走了3个小时，盘山公路弯弯曲曲的，九转十八弯。不过风景还行，权当安慰自己出来旅游了。</p>\n<p>中午才从山里出来，这时候在安徽境内，接近六安。</p>\n<p>大家随便弄点泡面吃了吃，继续出发，已经是1号下午了。跑到下午5点多的时候，距离老家还有100公里左右，再来两个小时差不多就到了。结果发生了一些小意外，导致轮胎爆了，然后处理事故到后半夜，修好车也不能走了，身心疲惫，就地开了个宾馆休息，一夜的深度睡眠真的很爽，以后再也不熬夜了，难受死。</p>\n<p>早上睡到9点半起，简单收拾一下，10点出发，也没有吃饭，不太饿，打算一口气开回家，也是不负众望，午饭前就赶到县城了。</p>\n<p>好久没回家，发现物价真的低，四个人吃的撑死，最后没吃完，把剩下的菜打包带回去，结账也才150左右。不过工资水平也和物价水平差不多，然后就引发了我的一个新的思考，以后是否可以回县城养老。</p>\n<hr>\n<p>回家碎碎念...照片(无)</p>\n<hr>\n<p>6号踏上返程的道路，7号回到杭州，真的身心疲惫。又是一路的夜车，在服务区休息了两个小时也顶不了多大的用。</p>\n<p>到杭州之后就开始胃疼了，大致算了一下，7天，有4天都在路上奔波，吃的都是饼干泡面，实在是扛不住，到这边之后吃完饭洗了个澡直接睡到下午六点，起来还是精神有些萎靡，我估计至少得三天才能缓成正常。毕竟年纪大了，真的痛苦。</p>\n<h3>关于开车出行的反思</h3>\n<p>长了个记性，以后再也不开学出行跑长途了，特别节假日，火车七八个小时，睡一觉就能解决的问题搞得那么复杂，不过也是因为带了一些行李的缘故。下次就打算行李直接寄回去，随身背个包，然后坐火车轻装上阵，岂不是美滋滋。</p>\n<h3>吐槽高速的一些事情</h3>\n<p>安徽段高速真的不行，管理不到位，救援迟缓，在安徽境内高速上堵车的时候，应急车道基本没闲着，私家车直接跑，路过别的省份基本很少有这种现象，而且出现事故的时候，救援迟缓，交管不到位，直接导致堵车堵了很长时间，我在河南段，浙江段跑的时候，看到事故都是处理的很快，基本没有太长的堵车现象。</p>\n',date:Q,path:"/posts/2021-10-07-有关国庆出行的感想"},{attributes:{title:"使用js随机生成背景颜色",date:Z,updated:"2021/12/01 14:26:11",categories:[n],tags:[p]},html:'\x3c!-- more --\x3e\n<p>先写一个简单的 html 页面出来</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n  <span class="token comment">/* ... */</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>css<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>js<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>通过 <code>Math.random()</code> 属性可以随机生成一个数字，然后通过转化为十六进制的方法进行处理，下面就是随机生成 6 位数字的代码，并进行转化的代码。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">randomHex</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n</code></pre>\n<p>可以在控制台输出看一下结果，随机生成了一个结果 <code>#62113b</code>。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@6b7ef18434bd05126ed7e2ded133242b090fd7ab/2021/09/29/157fa8f9834a8e9001c270d7223a1aa9.png" alt=""></p>\n<p>接下来就需要将这个颜色传给上面的 li 标签，首先需要将所有的 li 遍历然后生成一个数组，可以使用 for 循环进行遍历。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">\'li\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  temp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n</code></pre>\n<p>然后再对数组进行循环处理，每个 li 标签要要运行一遍随机生成颜色，并且传给自身。同样也是通过 for 循环进行操作。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> li<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  \n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> num <span class="token operator">&lt;</span> li<span class="token punctuation">.</span>length<span class="token punctuation">;</span> num<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    li<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token function">randomHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n<span class="token punctuation">}</span>\n\n</code></pre>\n<p>这些事件都是在页面加载完成之后运行的，所以需要通过 <code>window.onload</code> 写入事件，然后把所有的代码合在一起。</p>\n<p>看看效果如果。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@203b7f35ca165b731066707b8d6eae817baea0eb/2021/09/29/ea9f9e27be2f3587cda141bc998d4b80.png" alt=""></p>\n<p>把这些复制下来放到本地运行一下就可以看到效果了。</p>\n<pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>随机生成颜色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n    <span class="token selector">body</span> <span class="token punctuation">{</span>\n      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>\n      <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>\n      <span class="token property">padding-top</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token selector">ul</span> <span class="token punctuation">{</span>\n      <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>\n      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token selector">li</span> <span class="token punctuation">{</span>\n      <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n      <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>\n      <span class="token property">color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>\n      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>\n      <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>\n      <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>\n      <span class="token property">margin-right</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>css<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>js<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">const</span> <span class="token function-variable function">randomHex</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">randomHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">var</span> arr <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">\'li\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      temp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> li<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        \n        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> num <span class="token operator">&lt;</span> li<span class="token punctuation">.</span>length<span class="token punctuation">;</span> num<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          li<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token function">randomHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>如果有更好的写法，欢迎评论!</p>\n',date:Z,path:"/posts/2021-09-29-使用js随机生成背景颜色"},{attributes:{title:"hugo 如何使用 Cusdis ?",date:nn,updated:"2021/12/01 14:25:53",categories:[n],tags:[e]},html:'<p>Cusdis 是一个界面清爽、注重隐私的轻量级 (~5kb gzip) 评论系统，可以很方便地与 React、Vue 或其他博客系统结合，并且还提供了一个后台来管理所有的评论。</p>\n\x3c!-- more --\x3e\n<p>由于 Cusdis 自称是 Disqus 的替代方案，因此它还支持一键从 Disqus 导入、支持邮件通知等功能。</p>\n<p>官方地址: <a href="https://cusdis.com/">https://cusdis.com/</a></p>\n<p>他通常是用于静态博客的一个第三方评论系统，但是官方文档没有提供如何在 hugo 中使用的参数，我也是报错了多次才琢磨出来。</p>\n<h2>1. 本地部署</h2>\n<p>根据提示，注册账号，然后 <code>Add website</code> ，建立一个仓库。</p>\n<p>进入它，然后点击 <code>setting</code>。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@a67c700292029f27c830a4a764fa3902aeb0be05/2021/09/16/68aa68c985a8a9560645c60a98adad6f.png" alt=""></p>\n<p><code>Embed Code</code> 会提供几行代码以及一些 api,复制他们。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@5be297168c318a53fe7d2d8b1bd83d96582d44d9/2021/09/16/059b79361e36b23f0c4ee59f2d69a990.png" alt=""></p>\n<p><code>data-app-id</code> 是注册时自动生成的，注意保密，每个人都不一样。</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cusdis_thread<span class="token punctuation">"</span></span>\n  <span class="token attr-name">data-host</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cusdis.com<span class="token punctuation">"</span></span>\n  <span class="token attr-name">data-app-id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>xxxxxxxxx<span class="token punctuation">"</span></span>\n  <span class="token attr-name">data-page-id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ PAGE_ID }}<span class="token punctuation">"</span></span>\n  <span class="token attr-name">data-page-url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ PAGE_URL }}<span class="token punctuation">"</span></span>\n  <span class="token attr-name">data-page-title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ PAGE_TITLE }}<span class="token punctuation">"</span></span>\n<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span> <span class="token attr-name">defer</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cusdis.com/js/cusdis.es.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>将这些代码复制到本地主题的 <code>comments.html</code> 文件内（就是评论的那个模块，每个主题或许都不一样，注意分辨）。</p>\n<p>这个时候如果你 hugo server 基本都会报错，因为没有修改 <code>{{ PAGE_ID }}</code> 等内容，这不是 hugo 官方提供的参数，按照我下面的格式，将 id, url, title 重写一下即可。</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cusdis_thread<span class="token punctuation">"</span></span>\n  <span class="token attr-name">data-host</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cusdis.com<span class="token punctuation">"</span></span>\n  <span class="token attr-name">data-app-id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c1d43485-e8a7-4895-972e-247eddaf242d<span class="token punctuation">"</span></span>\n  <span class="token attr-name">data-page-id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ .RelPermalink }}<span class="token punctuation">"</span></span>\n  <span class="token attr-name">data-page-url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ .RelPermalink }}<span class="token punctuation">"</span></span>\n  <span class="token attr-name">data-page-title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ .Title }}<span class="token punctuation">"</span></span>\n<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span> <span class="token attr-name">defer</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cusdis.com/js/cusdis.es.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>保存重新 hugo server 即可。</p>\n<blockquote>\n<p>这样做的好处是当你接受一条评论信息后，审核列表可以清楚地标明来自哪一篇文章。通常大多数博客都提供了这么一个功能。</p>\n</blockquote>\n<h2>2. 邮箱提醒</h2>\n<p>除了必备的评论功能， Cusdis 还提供了一个非常快速的邮箱提醒功能，不需要绑定密匙，直接输入自己的邮箱即可。</p>\n<p>先勾选这个 Email Notification，然后点击下方的 Advanced Notification Settings (高级通知设置)</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@dc0d7be6ea100a144d7b8d3ec89db9f6793d74a3/2021/09/16/75641c05cbe66afcbb4ffdfb79bb464e.png" alt=""></p>\n<p>就可以进入设置，输入自己的邮箱。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@bc3a40d9021c16cc236bbfe0354168d3bb8f594b/2021/09/16/a3d47cb11f1662d3894da79ead79d852.png" alt=""></p>\n<h2>3. 中文化</h2>\n<p>默认的评论和提示文字均为英文，对我们很不友好，这里提供一个不错的解决方案，在引入 Cusdis 之后，顺便复制引入下面这段代码。</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  window<span class="token punctuation">.</span><span class="token constant">CUSDIS_LOCALE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token string">"powered_by"</span><span class="token operator">:</span> <span class="token string">"评论由 Cusdis 提供"</span><span class="token punctuation">,</span>\n    <span class="token string">"post_comment"</span><span class="token operator">:</span> <span class="token string">"发送"</span><span class="token punctuation">,</span>\n    <span class="token string">"loading"</span><span class="token operator">:</span> <span class="token string">"加载中"</span><span class="token punctuation">,</span>\n    <span class="token string">"email"</span><span class="token operator">:</span> <span class="token string">"邮箱地址 (可选)"</span><span class="token punctuation">,</span>\n    <span class="token string">"nickname"</span><span class="token operator">:</span> <span class="token string">"昵称"</span><span class="token punctuation">,</span>\n    <span class="token string">"reply_placeholder"</span><span class="token operator">:</span> <span class="token string">"回复内容..."</span><span class="token punctuation">,</span>\n    <span class="token string">"reply_btn"</span><span class="token operator">:</span> <span class="token string">"回复"</span><span class="token punctuation">,</span>\n    <span class="token string">"sending"</span><span class="token operator">:</span> <span class="token string">"发送中..."</span><span class="token punctuation">,</span>\n    <span class="token string">"mod_badge"</span><span class="token operator">:</span> <span class="token string">"管理员"</span><span class="token punctuation">,</span>\n    <span class="token string">"content_is_required"</span><span class="token operator">:</span> <span class="token string">"内容不能为空"</span><span class="token punctuation">,</span>\n    <span class="token string">"nickname_is_required"</span><span class="token operator">:</span> <span class="token string">"昵称不能为空"</span><span class="token punctuation">,</span>\n    <span class="token string">"comment_has_been_sent"</span><span class="token operator">:</span> <span class="token string">"评论已发送，管理员审核通过后会展示"</span>\n  <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>。。。</p>\n',date:nn,path:"/posts/2021-09-16-hugo_如何使用_Cusdis__"},{attributes:{title:"使用jq做一个数字递增效果",date:sn,updated:"2021/12/01 14:25:29",categories:[n],tags:["jquery"]},html:'<p>数字递增，顾名思义就是数字不断增加，数字递增的效果就是要一定时间内，让数字有一个增加的特效，一般用于强调某个内容。</p>\n\x3c!-- more --\x3e\n<p>用 jquery 也很好处理，大概就是下面这些。</p>\n<ul>\n<li><code>data-to</code> 属性代表最后想要递增到的数值</li>\n<li><code>data-speed</code> 代表数值想要递增的过程时间</li>\n</ul>\n<p><code>class=&quot;num-ber&quot;</code> 和 <code>id=&quot;count-number&quot;</code> 按照这个填入。</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>num-ber<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>count-number<span class="token punctuation">"</span></span> <span class="token attr-name">data-to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>40<span class="token punctuation">"</span></span> <span class="token attr-name">data-speed</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1000<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>+\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>引入 jquery 之后再添加下面的 js 代码。</p>\n<pre class="language-js"><code class="language-js">$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">countTo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  a <span class="token operator">=</span> a <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> c <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n      $<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>countTo<span class="token punctuation">.</span>defaults<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n        <span class="token keyword">from</span><span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"from"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        to<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"to"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        speed<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"speed"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        refreshInterval<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"refresh-interval"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        decimals<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"decimals"</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> h <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>speed <span class="token operator">/</span> c<span class="token punctuation">.</span>refreshInterval<span class="token punctuation">)</span><span class="token punctuation">,</span>\n      i <span class="token operator">=</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>to <span class="token operator">-</span> c<span class="token punctuation">.</span>from<span class="token punctuation">)</span> <span class="token operator">/</span> h<span class="token punctuation">;</span>\n    <span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>\n      f <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      e <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>\n      g <span class="token operator">=</span> c<span class="token punctuation">.</span>from<span class="token punctuation">,</span>\n      d <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"countTo"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n    f<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"countTo"</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>d<span class="token punctuation">.</span>interval<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">clearInterval</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>interval<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n    d<span class="token punctuation">.</span>interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> c<span class="token punctuation">.</span>refreshInterval<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">b</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">function</span> <span class="token function">k</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      g <span class="token operator">+=</span> i<span class="token punctuation">;</span>\n      e<span class="token operator">++</span><span class="token punctuation">;</span>\n      <span class="token function">b</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>onUpdate<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        c<span class="token punctuation">.</span><span class="token function">onUpdate</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> g<span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">>=</span> h<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        f<span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span><span class="token string">"countTo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">clearInterval</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        g <span class="token operator">=</span> c<span class="token punctuation">.</span>to<span class="token punctuation">;</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>onComplete<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          c<span class="token punctuation">.</span><span class="token function">onComplete</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> g<span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">var</span> l <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">formatter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> m<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      f<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>countTo<span class="token punctuation">.</span>defaults <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token keyword">from</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n  to<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n  speed<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>\n  refreshInterval<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>\n  decimals<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n  formatter<span class="token operator">:</span> formatter<span class="token punctuation">,</span>\n  onUpdate<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>\n  onComplete<span class="token operator">:</span> <span class="token keyword">null</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">formatter</span><span class="token punctuation">(</span><span class="token parameter">b<span class="token punctuation">,</span> a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> b<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#count-number"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"countToOptions"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  <span class="token function-variable function">formatter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">b<span class="token punctuation">,</span> a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> b<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\\B(?=(?:\\d{3})+(?!\\d))/g</span><span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".num-ber"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  a <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n    a <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n    b<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"countToOptions"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  b<span class="token punctuation">.</span><span class="token function">countTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n',date:sn,path:"/posts/2021-09-14-使用jq做一个数字递增效果"},{attributes:{title:"npm install 报错和取消本地代理的问题",date:an,updated:"2021/12/01 14:24:42",categories:[n],tags:["报错","npm"]},html:'<p><code>npm install</code>下载依赖包的时候出现下面错误，请求失败。</p>\n<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> ERR<span class="token operator">!</span> FetchError: request to https://registry.npm.taobao.org/cnpm failed, reason: connect ECONNREFUSED <span class="token number">127.0</span>.0.1:1181\n</code></pre>\n\x3c!-- more --\x3e\n<p>调试过后发现是本地代理的问题，取消它。</p>\n<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> config delete proxy\n<span class="token function">npm</span> config delete https-proxy\n</code></pre>\n<p><code>npm install</code> 成功运行，完毕。</p>\n',date:an,path:"/posts/2021-08-19-_npm_install_报错和取消本地代理的问题"},{attributes:{title:"关于我为什么要写博客？",date:pn,updated:"2021/12/30 14:24:21",categories:[n],tags:[e,r]},html:'<p>写这篇文章，大概是想回顾一下自己从写第一篇博客，一直到现在的心理历程吧！但是动笔的时候，又突然改变想法了。决定好好审视一下自己的内心，“我为什么要写博客？”</p>\n\x3c!-- more --\x3e\n<h2>关于这个博客的构成</h2>\n<p>这个就放在最前面吗，算是起到一个统计整理的作用。</p>\n<p>这个网站的技术我用的 vue + nuxt.js，毕竟作为前端，使用前端技术栈构建博客也很正常是吧（其实是我不会后端），后期可能会考虑加入后台管理，静态博客功能上还是很有缺失。</p>\n<p>可能是因为没有设计师的天分吧，构思出来的 UI 就很奇怪，朋友吐槽这么拉的ui。（伤心ing）</p>\n<p>我也尽量将色彩往黑白上靠，就是为了避免色彩的冲突造成阅读的不适，以文字为主体，也可以将我的重心转移到写文章上来。</p>\n<p>然后通过本地渲染构建了 <code>public</code> 静态文件，我将这些文件推送到服务器上，<s>服务器的配置是最基础的1h2g</s>，<a href="/posts/2021-11-11-%E8%BF%99%E4%B8%A4%E5%A4%A9%E7%9A%84%E7%A2%8E%E7%A2%8E%E5%BF%B5">没想到吧，我升级到2h4g了</a> 。不过已经完全可以满足个人正常使用了，这样可以提升访问速度。同时的话，我在 Github 备份了源码，这样就不用害怕如果有什么突发事件。</p>\n<p>而且，通过 Github ，我在 vercel 也构建了一个备份网站，基于 rope 可以直接生成一个项目网站，也是非常实用。</p>\n<p>目前这个博客主题我并没有将其分离起来，一是不想专门维护一个开源项目，二是我也很难保证其稳定性，隔三差五我都会优化或者改变整体布局，如果作为一个开源项目的话，这毫无疑问是不合格的。</p>\n<p>如果你想使用同款主题，可以前往仓库 <a href="https://github.com/Nov8nana/hugo-blog">https://github.com/Nov8nana/hugo-blog</a>，这是博客全部的源码。</p>\n<p>你可以把 <code>themes</code> 文件夹下的代码copy走。或者直接 fork 仓库，然后把 <code>/content</code> 内的文章删掉，换成你自己的。</p>\n<hr>\n<p><strong>2021.07.21落笔</strong></p>\n<p>写这篇文章，大概是想回顾一下自己从写第一篇博客，一直到现在的心理历程吧！但是动笔的时候，又突然改变想法了。决定好好审视一下自己的内心，“我为什么要写博客？”</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@9be950485e0cdf83b42cceeea0c35524917257cf/2021/10/28/e579ac9d5607c6fae4f49ebf8a3f5a60.png" alt=""></p>\n<h2>伊始</h2>\n<p>故事最开始源于2020年五月份，当时我正频临毕业之际，正处于找工作的状态，对前途还是有些迷茫的，不知道未来该怎么走，往哪方面发展，再加上对自己不够自信，可能有些焦虑吧。</p>\n<p>但是不论心态怎么变化，生活总是要继续的，在闲暇之余我浏览很多技术网站，希望可以提升自己，当时我比较热衷于csdn 和博客园吧，两个比较大的中文博客网站，不论是学习和查资料，百度出来的内容基本都是这两个网站的文章。然后在平时学习累计的过程中，我也会写一些笔记或者总结的内容，开始我是直接存放在本地，后来我放在 Gayhub 上面。</p>\n<blockquote>\n<p>Gayhub: 又名，Github. 全球最大的同性交友网站，在这里你可以畅快的交流技术，copy code 。</p>\n</blockquote>\n<p>但是上过这个网站的人都懂，它的速度是多么的令人着急。虽然后来学会了一些科学上网的方法，但是还是很不爽，所以我把目光投向了技术交流平台，论坛社区。我开始试着在把笔记放在 csdn 上面，当做博客发布出去，至今还保留一些浅显易懂的文章在我的 csdn 账号上，不过许久没有登陆了。</p>\n<h2>接触</h2>\n<p>有一天，一个做前端的朋友给我推荐了一本书，叫做《Web全栈工程师的自我修养》，作者是余果，之前我还写过一篇读后感，感兴趣的话也可以读一下，<a href="/posts/20200918.html">《对全栈的一些思考》</a></p>\n<blockquote>\n<p>挺好的一本书，也很畅销，读完电子版的，我还专门为此买了一本纸质的书，表示支持一下作者。</p>\n</blockquote>\n<p>然后了解到作者在大学时期就开始写个人博客，在深入了解过程中，我觉得他的思想真的不错，写的内容也很有深度，虽然很多文章跟技术无关，但是不可否认是好文章。（现在他已经转到微信公告号了，有兴趣搜一下：余果的专栏）。然后我就对他挺感兴趣的，以及对于个人博客这件事也突然有了更多的兴趣。</p>\n<p>我感觉这是一个自己的私人领域，可以自由发挥，更像是自己盖了一栋房子，至于房子盖成什么样，就看自己的能力了。</p>\n<p>一开始我选择的是 hexo 静态博客，他有很多优势，免费，部署快，可以不断的白嫖 github 仓库存储，包括文章，图片等，只要你愿意折腾，总有办法可以解决。</p>\n<p>然后还有很多大佬开发了各种各样的插件，还有各种第三方平台。hexo 官网的主题也是相当丰富，都是个人开发者做出来，总能找到自己喜欢的那一款。</p>\n<p>为此我还开发一款轻量的纯文字主题，simple99，感兴趣的话可以在官方列表搜索到，这里就不贴链接了，有夹带私货的嫌疑。</p>\n<p>之后，我就把自己之前写的笔记都放在了这个博客中，部署之后自己查看的时候，也挺有成就感的。</p>\n<h2>本质</h2>\n<blockquote>\n<p>隔了两个月，开始继续更新这篇博客，接下来我会持续讲述自己的道路...</p>\n</blockquote>\n<p>不知不觉已经写了一年的博客，从最开始兴奋，冲动，到现在的平息了内心的悸动，这一场心理历程，其实走的颇为坎坷。</p>\n<p>中间有一段时间，频繁更换博客程序，hexo, hugo, halo, wordpress, typecho</p>\n<p>最后终于确定了 hugo,一方面因为它是静态的系统，不需要服务器和数据库，可以随意在任何支持的平台部署（虽然最后我还是为了速度，将它部署在服务器上），而且它渲染的速度相当快，当文章越来越多时，使用 hexo 会渲染10多秒，让我感到很难受，因此我选择了速度更快的 hugo 。</p>\n<p>度过那段时间后，我感觉自己内心平静了很多，不会再为这些事情而折腾，处于一个平静期的状态。我想，这大概就是每个博主都要经历的阶段吧，抛去花里胡哨的外表，直击博客的本质。</p>\n<p>我把它总结出四个字 --- 记录、分享。</p>\n<p>现在我认识很多新的博主，大部分都是刚刚接触，内心感官就是新奇，渴望部署一个让自己满意的博客，我都会指点一些细节和心得，也很开心。毕竟，在这个博客衰败，碎片化信息的时代，还有人能喜欢这个圈子，这确让人感到开心。</p>\n<p>我会鼓励他们自己动手解决问题，然后进行思考，得出结果，这无疑是很令各位博主有成就感的。</p>\n<p>有时候我也会写一些教程，或者开发的小插件分享出去，有需要的伙伴就可以到搜索引擎输入关键字，或许可以看到我的文章，这也让我感到荣幸。</p>\n<h2>反思</h2>\n<p>很多时候，我都会审视自己，在这个时代要不要继续坚持下去写博客，大部分人做的都是公众号，自媒体等等。这也是时代的趋势。然后我自己慢慢思考，拨开云雾见光明，我发现我想要的不是自媒体那样的感觉，我更渴望拥有自己的一片净土，偶尔放一些新奇的玩意，然后写写自己的生活记录和一些技术笔记。</p>\n<p>我知道自己的水平远达不到大神的地步，单纯的想写点东西。仅此而已，不为其他。</p>\n',date:pn,path:"/posts/2021-07-21-关于我为什么要写博客？"},{attributes:{title:"将数据库中的图片信息导出并调用",date:tn,updated:"2021/12/01 14:23:49",categories:[n],tags:[u,f,"图床"]},html:'\x3c!-- more --\x3e\n<blockquote>\n<p>接口链接：<a href="http://121.196.166.173/img/img.php">http://121.196.166.173/img/img.php</a><br>\n展示demo：<a href="http://121.196.166.173/img">http://121.196.166.173/img</a></p>\n</blockquote>\n<h2>前言</h2>\n<p>为了写博客以及其他的一些用途，我使用服务器搭建了一个连接 github 仓库的上传网页，并且在数据库中记录上传的信息，比如缩略名、时间戳和图片链接。分别对应 GitHub 仓库中的图片，但是后期我发现在 GitHub 查看图片非常别扭，因此我打算写一个可展示图片的网页，把 GitHub 仓库中的图片通过链接展示出来，当然我们不可能一张张复制，还好有数据库。</p>\n<p>看一下具体内容</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@9351eca677b549019cc499bea0209822baa3655f/2021/07/09/ca83cb18747714715f949f90931ec4c4.png" alt=""></p>\n<h2>写一个接口</h2>\n<p>很好，拥有我们需要的字段。事不宜迟，直接开动，下面是完成的接口代码。</p>\n<pre class="language-php"><code class="language-php"><span class="token delimiter important">&lt;?php</span>\n\n<span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">\'Content-Type:application/json; charset=utf-8\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">header</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"Access-Control-Allow-Origin:*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token variable">$servername</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"localhost"</span><span class="token punctuation">;</span>\n<span class="token variable">$username</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"imgbed"</span><span class="token punctuation">;</span>\n<span class="token variable">$password</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"imgbed"</span><span class="token punctuation">;</span>\n<span class="token variable">$dbname</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"imgbed"</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 创建连接</span>\n<span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mysqli</span><span class="token punctuation">(</span><span class="token variable">$servername</span><span class="token punctuation">,</span> <span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">,</span> <span class="token variable">$dbname</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n \n<span class="token comment">// 检测连接</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">connect_error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"连接失败: "</span> <span class="token punctuation">.</span> <span class="token variable">$conn</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">connect_error</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// imgmd5 名称转md5</span>\n<span class="token comment">// imguploadtime 上传时间戳</span>\n<span class="token comment">// imgurl 链接</span>\n<span class="token comment">// 上传 ip</span>\n<span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"select imgmd5,imguploadtime,imgurl,imguploadip from remote_imgs\n"</span><span class="token punctuation">;</span>\n<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$conn</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\n<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$result</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">num_rows</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// 输出数据</span>\n    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token variable">$result</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">fetch_assoc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        \n    <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$row</span><span class="token punctuation">;</span>\n    \n    <span class="token punctuation">}</span>\n    \n    <span class="token variable">$json</span> <span class="token operator">=</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span><span class="token constant">JSON_UNESCAPED_UNICODE</span><span class="token operator">|</span><span class="token constant">JSON_PRETTY_PRINT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//把数据转换为JSON数据.</span>\n    \n    <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token variable">$json</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>\n\n<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token keyword">echo</span> <span class="token double-quoted-string string">"未查询到结果！"</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token variable">$conn</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token operator">?</span><span class="token operator">></span>\n</code></pre>\n<p>分别将缩略名，时间戳，图片链接，和上传ip通过 json 格式导出，非常完美。 接口链接：<a href="http://121.196.166.173/img/img.php">http://121.196.166.173/img/img.php</a></p>\n<h2>使用 ajax 进行调用</h2>\n<p>然后只需要在前端将接口调用，然后简单写一个页面即可，下面是 html 代码,，通过 ajax 调用。</p>\n<pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>图床<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n        <span class="token selector">.container</span> <span class="token punctuation">{</span>\n            <span class="token property">max-width</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>\n            <span class="token property">margin</span><span class="token punctuation">:</span> 40px auto<span class="token punctuation">;</span>\n            <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>\n            <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>\n            <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token selector">.item</span> <span class="token punctuation">{</span>\n            <span class="token property">width</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span>\n            <span class="token comment">/* height: 300px; */</span>\n            <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n            <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #bbb<span class="token punctuation">;</span>\n            <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token selector">.item a</span><span class="token punctuation">{</span>\n            <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>\n            <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>\n            <span class="token comment">/* height: 300px; */</span>\n            <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token selector">.item img</span><span class="token punctuation">{</span>\n            <span class="token property">max-width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>\n            <span class="token property">max-height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.shuxhan.com/jquery3.6.0.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n        <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">\'\'</span><span class="token punctuation">;</span>\n        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n            url<span class="token operator">:</span> <span class="token string">\'http://121.196.166.173/img/img.php\'</span><span class="token punctuation">,</span>\n            type<span class="token operator">:</span> <span class="token string">\'get\'</span><span class="token punctuation">,</span>\n            dataType<span class="token operator">:</span> <span class="token string">\'json\'</span><span class="token punctuation">,</span>\n            async<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n            <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                $<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>\n                    list <span class="token operator">=</span> <span class="token string">"&lt;div class=\'item\'>&lt;p>缩略名："</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>imgmd5 <span class="token operator">+</span> <span class="token string">"&lt;/p>"</span> <span class="token operator">+</span>\n                        <span class="token string">"&lt;p>时间戳："</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>imguploadtime <span class="token operator">+</span> <span class="token string">"&lt;/p>"</span> <span class="token operator">+</span>\n                        <span class="token string">"&lt;a target=\'_blank\' href=\'"</span><span class="token operator">+</span> item<span class="token punctuation">.</span>imgurl <span class="token operator">+</span><span class="token string">"\'>&lt;img src=\'"</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>imgurl <span class="token operator">+</span> <span class="token string">"\'>&lt;/a>"</span> <span class="token operator">+</span>\n                        <span class="token string">"&lt;p>上传ip："</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>imguploadip <span class="token operator">+</span> <span class="token string">"&lt;/p>&lt;/div>"</span>\n\n                    str <span class="token operator">+=</span> list<span class="token punctuation">;</span>\n                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'数据请求成功\'</span><span class="token punctuation">)</span>\n\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'数据请求失败\'</span><span class="token punctuation">)</span>\n            <span class="token punctuation">}</span>\n\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>最后我把这个页面传到我的服务器当中，可以看一下效果 <a href="http://121.196.166.173/img">http://121.196.166.173/img</a></p>\n<p>时间仓促，我也没使用更好的 ui 进行优化，只是大致写一下这个过程，待到以后具体使用时，我会对这个展示图片的页面进一步优化。</p>\n',date:tn,path:"/posts/2021-07-09-将数据库中的图片信息导出并调用"},{attributes:{title:"冷知识世界新增一个大洋变成五大洋",date:on,updated:"2021/12/01 14:23:29",categories:[a],tags:["地理"]},html:"<p>从6月8日世界海洋日开始，南大洋将被认定为世界第五大洋。世界上就有七大洲，五大洋啦！中学课文需要改一改了。</p>\n\x3c!-- more --\x3e\n<p>美国国家地理学会宣布，南极洲周围海域将被称为南大洋，并正式承认南大洋为地球第五大洋。</p>\n<p>南大洋是海洋生态系统的重要家园，也是南半球的焦点。它直接包围着南极洲，从大陆的海岸线一直延伸到南纬 60 度。</p>\n<p>海洋的边界与其他四个大洋中的三个相连——大西洋、印度洋和太平洋。但南大洋与其它大洋的不同之处在于，它在很大程度上不是由周围的陆地决定的，而是由于内部有一股洋流，这片水域很独特。</p>\n",date:on,path:"/posts/2021-06-10-冷知识世界新增一个大洋变成五大洋"},{attributes:{title:"在 vue 中使用 axios 调用数据",date:en,updated:"2021/12/01 14:23:14",categories:[n],tags:[c,u,"axios"]},html:'<p>如何在 vue 中完成一次接口的调用？首选就是 axios，方便快捷又好用，支持各种 api ,封装也很方便。</p>\n\x3c!-- more --\x3e\n<p>先用 node 安装一下。</p>\n<pre class="language-js"><code class="language-js">npm install axios\n</code></pre>\n<p>然后在 main.js 文件中引入。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">\'axios\'</span>\n<span class="token keyword">import</span> VueAxios <span class="token keyword">from</span> <span class="token string">\'vue-axios\'</span>\n\nVue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueAxios<span class="token punctuation">,</span> axios<span class="token punctuation">)</span>\n</code></pre>\n<p>以我的一个工程目录作为实例，看一下代码。</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// ListThere.vue</span>\n\n<span class="token comment">// html 代码</span>\n<span class="token operator">...</span>\n<span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> info <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n<span class="token operator">...</span>\n\n<span class="token comment">// js 代码</span>\n<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  name<span class="token operator">:</span> <span class="token string">"ListThere"</span><span class="token punctuation">,</span>\n  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      <span class="token operator">...</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  components<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token operator">...</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  methods<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token operator">...</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    axios\n      <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"http://api.h-camel.com/api?mod=interview&amp;ctr=issues&amp;act=today"</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> response<span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>数据成功的被取到，然后需要将它在页面中展示出来。使用 vue 自带的 <code>v-for</code> 列表渲染。</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>list-api-show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>(item, index) in show<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    {{ item.title }}\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>然后通过 axios 把数据指向 v-for.</p>\n<pre class="language-js"><code class="language-js"><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  axios\n    <span class="token comment">// ...</span>\n    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>show <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>today<span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>数据成功取出然后展示在 <code>v-for</code> 里面。</p>\n<p>当然了，这是成功的情况，加入失败了呢？我们需要浏览器给出提示，所以 axios 给出了一个 api --- <code>err 语法</code>。</p>\n<pre class="language-js"><code class="language-js"><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  axios\n    <span class="token comment">// ...</span>\n    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'err\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>request<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'err\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Error\'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'err\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'err\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>如果接口有问题，或者我们调用时代码写错了，都会给出报错提示，具体什么样的错误会有什么样的警告，需要我们一一去经历摸索。</p>\n',date:en,path:"/posts/2021-06-08-在_vue_中使用_axios_调用数据"},{attributes:{title:"宝塔如何实现进程守护？",date:cn,updated:"2021/12/01 11:38:37",categories:[n],tags:["服务器","网站","宝塔"]},html:'<p>为了方便写一些东西，pc端和手机端都可以同步，我用leanote搭建了一个在线笔记，但是必须在服务器后台运行一个指令。</p>\n\x3c!-- more --\x3e\n<pre class="language-shell"><code class="language-shell">base run.sh\n</code></pre>\n<p>不然就访问不了端口，我也不可能时刻在终端保持指令运行，所以就需要把指令放在服务器后台，让它自己保持运行，刚好有这么一插件 <code>Supervisor管理器 2.2</code> 。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@07477c7319c5d42a29167444a4c296db3e97ff8a/2021/05/30/9f90c600cafa89430a3ee9c0d5b072e1.png" alt=""></p>\n<p>是一款免费的Python插件，点击下载即可，然后进入设置。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@0b300f1b0793dc3d88e1ec629688c30c5dce8eb7/2021/05/30/0f9c8f2dec3697485a282efa94452184.png" alt=""></p>\n<p>点击添加进程守护。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@4093e6354e08fa091514b4ca30d73738a5eef7a0/2021/05/30/343421d2826ad64d94fd5660ebb0bbe1.png" alt=""></p>\n<p>把进程环境目录和启动命令都填好，名称就随便写个自己能分辨出来的就行，最后点击确定。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@99cbe9c312426d7f5156ec3dc05b8ab91af45461/2021/05/30/03d6e938f29023b5b16032b73143b4fa.png" alt=""></p>\n<p>让它一直保持启动状态就可以，其他的不用动，以后就不用打开服务器终端输入指令了，直接在浏览器访问端口，就可以访问网页。</p>\n<p>如果为了更方便，做个反代处理即可。</p>\n',date:cn,path:"/posts/2021-05-30-宝塔如何实现进程守护？"},{attributes:{title:"css 中 fixed 定位属性和动画的冲突问题及解决方法",date:ln,updated:"2021/12/01 11:38:15",categories:[n],tags:[l]},html:'\x3c!-- more --\x3e\n<h2>1.问题</h2>\n<blockquote>\n<p>css 中使用动画属性会和同标签下的fixed属性冲突，导致定位失效，那么该如何解决他呢？</p>\n</blockquote>\n<h2>2.分析</h2>\n<p>简单说一下问题产生的背景，昨天夜里我想给我的博客页面做一个简单的动画，浏览器刷新的时候从下往上渐现的效果，代码如下：</p>\n<pre class="language-css"><code class="language-css"><span class="token comment">/* index-container类名是页面的主体部分 */</span>\n<span class="token selector">.index-container</span> <span class="token punctuation">{</span>\n\t<span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n\t<span class="token property">animation-name</span><span class="token punctuation">:</span> index<span class="token punctuation">;</span>\n\t<span class="token property">animation-duration</span><span class="token punctuation">:</span> 0.7s<span class="token punctuation">;</span>\n\t<span class="token property">animation-fill-mode</span><span class="token punctuation">:</span> forwards<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">/* 一个简单的动画实现 */</span>\n<span class="token atrule"><span class="token rule">@keyframes</span> index</span> <span class="token punctuation">{</span>\n\t<span class="token selector">0%</span> <span class="token punctuation">{</span>\n\t\t<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>100px<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\t<span class="token selector">100%</span> <span class="token punctuation">{</span>\n\t\t<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>运行之后发现，动画可以很好的显示，但是当我翻阅文章详情的时候发现，目录固定失效了。</p>\n<p>按照原来的设置是当页面往下滑动的时候，目录会紧贴浏览器的顶部，方便跳转和查看目录，但是现在它已经不能紧贴了。看一下浏览器设置，属性确实生效了，但是页面并没有显示我们想要的结果。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@aaf2afb1b40cfce4fa9887c441cdba51768a03ff/2021/05/27/7441ad513b49f05c6caadeb0eb862636.png" alt=""></p>\n<p>之前我写目录固定事件的时候用的是 <code>scroll</code> 事件，然后昨天写动画，绑定的 <code>onload</code> 事件，我初步判断是两个 window 冲突了，导致第二个失效，所以我就改了一种写法，用 <code>addEventListener</code> 事件监听执行他们，但最终无论怎么写，目录固定始终不能生效。</p>\n<p>昨天熬得太晚了，就没管它放在那了，今天一早我就去张鑫旭的网站查了一下，果然有这么一个问题。</p>\n<p>参考文章：<a href="https://www.zhangxinxu.com/wordpress/2015/05/css3-transform-affect/">https://www.zhangxinxu.com/wordpress/2015/05/css3-transform-affect/</a></p>\n<p>但是文章只是介绍了问题产生的原因，并没有明确给出一个好的解决办法。</p>\n<h2>3.方法</h2>\n<p>虽然没有明确的方法，但是给了我一个思路，因为动画中的一些属性，比如 <code>scale</code>、<code>translate</code> 等，会造车容器的宽高重新计算，而 fixed 属性则依赖于规定的一个像素值，所以当执行动画的时候，页面的高度发生了变化，所以 fixed 不能安心的执行自己的任务了。</p>\n<p>原因找到了，方法自然而然就出来了，看图（图很丑，手画的，能理解意思就行）</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@c8fe674af9d869fb63446c94614a907d8fe75ed2/2021/05/27/910fa54dfb26b804cbee9fe688e1e944.png" alt=""></p>\n<p>这是我最开始的布局，我将动画绑定给 <code>红色框</code> 的容器了，而目录就在红色框内，所以失效。</p>\n<p>现在我重新布局一下，</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@48f5e0929d5628ed8ee3abc1e870fe68fa7ca3a3/2021/05/27/e9d5bddc6dc232c127596937e5ba67da.png" alt=""></p>\n<p>目录依旧处于侧边，但是我将他和通常的侧边栏分开成两个容器了，现在我把动画绑定给 <code>主体部分</code> 和 <code>侧边栏</code> ，这样目录就和绑定动画的标签分开了。</p>\n<p>再到页面测试，发现没有任何问题，动画效果和目录固定互不影响。</p>\n<p>很快乐，又可以愉快地折腾了！</p>\n',date:ln,path:"/posts/2021-05-27-css_中_fixed_定位属性和动画的冲突问题及解决方法"},{attributes:{title:"Oracle数据库安装教程（超详细）",date:un,updated:"2021/12/01 11:36:49",categories:[n],tags:[d,f]},html:'<p>本教程讲解Oracle Database Express Edition (XE) Release 11.2.0.2.0 (11gR2)版本的下载安装教程！</p>\n\x3c!-- more --\x3e\n<h2>前言</h2>\n<p>Oracle Database Express Edition (XE) Release 11.2.0.2.0 (11gR2)版本是一个便携式安装版本，直接安装，就可以了，非常方便。</p>\n<p>由于官网的更新，找不到以前那种提供客户端服务端的安装了，所以这里不再讲解！</p>\n<h2>准备</h2>\n<p>访问Oracle官网下载该版本数据库。下载时需要登录账号，可百度搜索共享的Oracle账号！</p>\n<p>下载地址：<a href="https://www.oracle.com/database/technologies/xe-prior-releases.html">https://www.oracle.com/database/technologies/xe-prior-releases.html</a></p>\n<p>选择适合自己的系统版本，本文以Win10为例。建议使用下载工具或者科学上网，下载更快！</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@e1f7fcbd785a29e7557097df1755aed89c16c968/2021/05/11/99cc9b081e46194f8b640e2f352d89f6.png" alt=""></p>\n<h2>安装Oracle</h2>\n<p>下载后解压缩，双击打开文件夹中的 “setup.exe&quot; 安装程序，等待程序启动，进入安装程序。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@1c5eba14ea8007304de26481b669b4cff9426974/2021/05/13/df3abc5a83b7c91f00cf6cf567e1b359.png" alt=""></p>\n<p>开始安装，单击“下一步”</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@a498eff439c7a1fb6ecf689b340a2991a6762244/2021/05/13/6b374bd36f944a00280fab1e2f815373.png" alt=""></p>\n<p>选择“我接受本许可协议中的条款”，然后单击“下一步”。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@1baf820117dab495d28f03fcdfb67a3381c5cc58/2021/05/13/3d6083366f666aec5501c49f1e779d32.png" alt=""></p>\n<p>这一步是选择安装位置，由于文件程序比较大，建议安装D盘。新建一个Oracle文件夹，点击“浏览”，选择文件夹，注意查看目标文件夹，文件路径，然后单击“下一步”。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@d03796ad1360ebcf299a1256c285a9954139d26f/2021/05/13/5e499a1e837713df54db8b0b30158597.png" alt=""></p>\n<p>设置数据库的登录口令，即数据库密码，建议简单一点，比如：root，然后单击“下一步”。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@d7620084d1fa96b23b0fe857d3a3966334bcb254/2021/05/13/e3e27b7444149da7bad8697ae5ed6e8f.png" alt=""></p>\n<p>单击“安装”，开始安装。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@a524ceec42f824eb97159548be97f845e8f69922/2021/05/13/fa6e9c01746ab85be71069ceaaff3f9d.png" alt=""></p>\n<p>安装过程比较慢，耐心等待安装完成！</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@a011e4ff700ed49bd56112a92b3c7389392be504/2021/05/13/c546d78497d65d38ed9edb0a65a0cf9c.png" alt=""></p>\n<p>安装完成后，单击“完成”，即Oracle 11gR2已经安装完成了。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@0b5485723c2b077a44e7b26abd36068e22d3adce/2021/05/13/40bffb1334b9db9aec7b7ad1947539ca.png" alt=""></p>\n<p>安装完成会在桌面新建一个图标，打开可以通过以web形式访问数据库。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@9f98f96ad0a8cbcc25396774457ed673d9d290ae/2021/05/13/04d4abda4d784b316a2e59d33df4027a.png" alt=""></p>\n<p>双击打开，可能会弹出以下错误提示，这个是没有影响的，安装完成后重启一点电脑就可以了！</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@6ff05993f14aa903721fd584aa4d87c1cf19ab52/2021/05/13/6b0a4050880c0304e2f0b9f11a6a68d3.png" alt=""></p>\n<h2>验证数据库</h2>\n<p>选择桌面生成的图标</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@9f98f96ad0a8cbcc25396774457ed673d9d290ae/2021/05/13/04d4abda4d784b316a2e59d33df4027a.png" alt=""></p>\n<p>鼠标右键打开文件所在位置，弹出文件夹，往上翻，在文件夹中找到bin文件夹。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@a526321b88a4d748a7aa76b9222e812b800db612/2021/05/13/dfb0416ef070cf8a0d40346978711b27.png" alt=""></p>\n<p>双击，进入bin文件夹，往下翻，找到sqlplus.exe程序。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@5147b48ae28e6a5aa4dfeb8349cd69c99cd901f2/2021/05/13/c7d4881fd814068a2f80a2cb93e84446.png" alt=""></p>\n<p>双击运行。</p>\n<p>输入用户名：system （统一默认都是system），回车</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@940caba68b237ab9e0a7e3a2ebf797faa7e4e26a/2021/05/13/8b4fd08621b9be9e8d21dc2139197408.png" alt=""></p>\n<p>输入口令：（刚才安装时设置的口令），口令输入是不显示的，直接回车就行了。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@cccfaf923a89a22488b0e5909b1e66ffaf26fbe9/2021/05/13/a0f5417730e52a5a0f1693958364ea7e.png" alt=""></p>\n<p>若出现 “连接到: Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Production” 语句时，则安装成功！</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@121f078ebe25c5553eb55aeae2448c1a05896c62/2021/05/13/d13a463bde29e2148c9984468b7b67e5.png" alt=""></p>\n',date:un,path:"/posts/2021-05-13-Oracle数据库安装教程（超详细）"},{attributes:{title:"Typecho博客搭建及优化教程(详细)",date:kn,updated:"2021/12/22 11:25:22",categories:[n],tags:[e,i,d]},html:'\x3c!-- more --\x3e\n<p>本文从<a href="http://typecho.org/">Typecho</a> 简介开始讲解，其中包括服务器的选择，以及域名注册，服务器系统选择 ，宝塔安装，环境配置，Typecho安装包括中间的防采坑注意事项，为您提供完整的保姆级搭建流程，请珍惜哦！</p>\n<h2>1.前言</h2>\n<p>如果不喜欢前面的啰嗦讲解，请跳过，直接从宝塔安装开始。</p>\n<p>不喜勿喷，谢谢！</p>\n<h2>2.Typecho简介</h2>\n<p><a href="http://typecho.org/">Typecho</a> 基于PHP5开发，支持多种数据库，是一款内核强健﹑扩展方便﹑体验友好﹑运行流畅的轻量级开源博客程序。</p>\n<p><a href="http://typecho.org/">Typecho</a> 非常简洁，仅仅 7 张数据表，加上不足 400KB 的代码，就实现了完整的插件与模板机制。超低的 CPU 和内存使用率，足以发挥主机的最高性能。</p>\n<p>原生支持 <a href="https://www.runoob.com/markdown/md-tutorial.html">Markdown</a> 语法，易读更易写。支持 <code>BAE/GAE/SAE</code> 等各类云主机，即使面对突如其来的高访问量，也能轻松应对。</p>\n<p><a href="http://typecho.org/">Typecho</a> 的默认模板和后台，全部采用了响应式设计。所以Typecho的大多数自制模板，都采用了自适应设计。</p>\n<p>现在<a href="http://typecho.org/">Typecho</a> 拥有很多用户，完整的生态，各种功能插件和简洁优美的主题，是做博客的不二选择，相信你会喜欢上她简洁的风格！</p>\n<h2>3.准备</h2>\n<p><strong>服务器+域名</strong></p>\n<p>搭建<a href="http://typecho.org/">Typecho</a> 博客需要使用服务器或者虚拟机，最近也看到一篇使用Vercel+Mysql搭建Typecho的文章，但是这种是使用外部Mysql服务的 ，相比使用服务器或者虚拟机这种还是不太方便配置和管理的。使用服务器相比虚拟机会更加的好用。</p>\n<p>**注：**本文只讲解服务器的搭建流程，虚拟机请参考！</p>\n<p>**服务器选择：**推荐去腾讯云或阿里云,有学生机（9元/月）可供选择，腾讯云还是25岁以下免学生认证的，学生价续费三次，所以有条件可以选择1年购买和续费，腾讯的还有免费升配置，，阿里云的学生机下架了，但是也可以买为新用户提供的，建议选择 <strong>轻量应用服务器</strong>，1h2g的配置完全够用，流量也完全够用。</p>\n<p>腾讯云：<a href="https://cloud.tencent.com/act/campus">https://cloud.tencent.com/act/campus</a></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@43155aad78ba45bbca19e2d92fbee858741feac7/2021/05/09/49e7bb85ed4228bb7811bf78f79878d0.png" alt=""></p>\n<p>阿里云：<a href="https://developer.aliyun.com/plan/grow-up">https://developer.aliyun.com/plan/grow-up</a></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@03c05d9f21cf0d470c7975e12cf8c68c4d01f81e/2021/05/09/4f77bef832af425c57bbab74075bad78.png" alt=""></p>\n<p>如果你买不了这种，也可以去其他服务商买新用户优惠的服务器，建议选择大厂。</p>\n<p>选择服务器要看下地区，如果是大陆地区的服务器，需要去其对应的服务商进行域名备案，否者你无法使用，如果是香港地区或者国外的服务器，则不需要进行备案。</p>\n<p>**注：**阿里和腾讯这两种轻量应用服务器都是需要 <strong>备案</strong>的，如果嫌麻烦或者不想备案，可选择其他地区的服务器！</p>\n<p>备案操作有些复杂，也需要好几天的时间，但是备案也有备案的好处，比如使用国内的CDN加速等。另请仔细参考各服务商提供的流程，要注意看清备案流程上的注意事项，防止备案驳回浪费时间。</p>\n<p>相比国外和香港的服务器，使用大陆的服务器在国内的访问速度是最好的，当然如果你搞外国业务当我没说。。。</p>\n<p>**域名选择：**域名选择很简单，去各大服务商注册一个就完事了，喜欢什么就注册什么，但是如果你要备案使用大陆服务器，一定不要注册不支持备案的域名，当然绝大多数都是支持备案的。另各大服务商也有新用户注册域名优惠活动，在百度仔细找一下就行了。<br>\n腾讯云：<a href="https://cloud.tencent.com/act/domainsales">https://cloud.tencent.com/act/domainsales</a></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@70268324ee13583520eee5fd56fe5a0abd01be1c/2021/05/11/8857ba9becbbb51df2256bd0cf6acbd3.png" alt=""></p>\n<p>阿里云：<a href="https://wanwang.aliyun.com/domain">https://wanwang.aliyun.com/domain</a></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@4303a988a24359b0d1a32189a52cdc970c52d199/2021/05/11/28dea75217501fa6090df5374a994608.png" alt=""></p>\n<p>华为云：<a href="https://activity.huaweicloud.com/domain1.html">https://activity.huaweicloud.com/domain1.html</a></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@6e85a2867b6235cf8e952581f93c0c67c085d591/2021/05/11/545398ef8ec2147e76d06536ac1bc62a.png" alt=""></p>\n<p>下面开始搭建流程：</p>\n<h2>4.LNMP环境</h2>\n<p>首先我们要搭建的就是LNMP环境，LNMP代表的就是：Linux系统下Nginx+MySQL+PHP这种网站服务器架构。</p>\n<p><code>Linux</code> 是一类Unix计算机操作系统的统称，是目前最流行的免费操作系统。代表版本有：debian、centos、ubuntu、fedora、gentoo等。</p>\n<p><code>Nginx</code> 是一个高性能的HTTP和反向代理web服务器，同时也提供了IMAP/POP3/SMTP服务。</p>\n<p><code>Mysql</code> 是一款安全、跨平台、高效的，并与 <code>PHP</code>、<code>Java</code> 等主流编程语言紧密结合的数据库系统。</p>\n<p><code>PHP</code> 是一种在服务器端执行的嵌入HTML文档的脚本语言。</p>\n<p>当然如果你不喜欢使用Nginx，或者Mysql，请自行更换其它的，这里不过多介绍！</p>\n<p>Linux系统的话，本文使用Centos 8系统讲解。</p>\n<p>搭建LNMP环境，我们可以选择自行下载对应的安装包，然后在Centos系统中，安装<code>Nginx</code>，<code>Mysql</code>，<code>PHP</code>等，这种纯动手的方式，非常麻烦和复杂，在后期进行多网站管理和配置HTTPS证书，以及网站伪静态配置时非常麻烦。</p>\n<p>所以本文讲解使用宝塔面板来进行安装部署环境！</p>\n<h2>5.宝塔是什么</h2>\n<p>宝塔面板是一款服务器管理软件，支持windows和linux系统，可以通过Web端轻松管理服务器，提升运维效率。例如：创建管理网站、FTP、数据库，拥有可视化文件管理器，可视化软件管理器，可视化CPU、内存、流量监控图表，计划任务等功能。</p>\n<p>宝塔面板拥有极速方便的一键配置与管理，可一键配置服务器环境（LAMP/LNMP/Tomcat/Node.js），一键部署SSL，异地备份；提供SSH开启关闭服务，SSH端口更改，禁ping，防火墙端口放行以及操作日志查看；CPU、内存、磁盘IO、网络IO数据监测，可设置记录保存天数以及任意查看某天数据；</p>\n<p>计划任务可按周期添加执行，支持SHELL脚本，提供网站、数据库备份以及日志切割，且支持一键备份到又拍云存储空间，或者其他云存储空间里；通过web界面就可以轻松管理安装所用的服务器软件，还有实用的扩展插件；集成方便高效的文件管理器，支持上传、下载、打包、解压以及文件编辑查看。</p>\n<p>进入搭建正题：</p>\n<h2>6.安装宝塔</h2>\n<p>选择服务器时，选择系统镜像，不要选择服务商提供的应用镜像，操作系统选择Centos，版本的话7和8都可以。当然你也可以选择其他系统，，，</p>\n<p>接着到服务商的控制台，找到你的服务器，进入控制台，重置密码。</p>\n<p>然后在安全--》防火墙那里添加规则。</p>\n<p>端口范围<strong>8888</strong>，其他默认，备注随意。</p>\n<p>**注：**如果你不添加 <strong>8888</strong>，安装宝塔以后你是进不去的，安装宝塔以后可以修改宝塔的进入端口，再修改一下这里就可以了！</p>\n<p>使用SSH工具连接你的服务器，如果没有SSH工具也可以使用控制台那里提供的远程连接！</p>\n<p>在终端界面输入一下命令开始安装！</p>\n<p>Centos安装命令：</p>\n<pre class="language-bash"><code class="language-bash">yum <span class="token function">install</span> -y <span class="token function">wget</span> <span class="token operator">&amp;&amp;</span> <span class="token function">wget</span> -O install.sh http://download.bt.cn/install/install_6.0.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> install.sh\n</code></pre>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@cfa51fb29191de86ea5e1e1b44af41b1927c981b/2021/05/11/8c9554cec2f765f559c272a6ac360d6b.png" alt=""></p>\n<p>不同操作系统有不同的安装命令，详情请去<a href="https://www.bt.cn/bbs/thread-19376-1-1.html">宝塔官网</a>查看！</p>\n<p>遇到安装提示直接输入：y</p>\n<p>安装完成后如下:</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@f4cc9ee5c9230b3190855cda03f9d92833a41430/2021/05/11/e556f7143c95278a969612242a46ebae.png" alt=""></p>\n<p>在浏览器中访问外网面板地址。</p>\n<p>**注：**如果你刚才没有在服务器控制台安全防火墙那里添加端口8888是打不开的。</p>\n<p>使用username和password登录宝塔面板，点击我已阅读并同意“《用户协议》”后进入宝塔面板！</p>\n<p>进入宝塔面板后，会弹出一键安装环境套件选择界面，这时我们选择左边的LNMP环境！</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@a66065eec07834c0c88de1788abe8b1033f41ecf/2021/05/11/c1a01ea7140e5669dd2a039fe5ef81b5.png" alt=""></p>\n<p><strong>Nginx 1.18，Mysql 5.6（如果服务器内存在2g以上可以选择5.7），PHP 7.4（php建议版本选择7.0以上），Pure-Ftpd 1.0.49，phpMyAdmin 5.0（这是一个可以在浏览器页面管理数据库的软件程序，要在服务器控制台安全防火墙那里添加端口888，否则无法打开）</strong></p>\n<p>安装方式有两个，极速安装（安装速度快，节省时间），编译安装（安装速度超级慢，有时会卡死，但会提升服务器性能），可自行选择。本文以极速安装为例！</p>\n<p>安装过程：</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@5bfae75f5dc204bd32e8dcead8a18ac69c2ea9dd/2021/05/11/9f0adbe007c866d5f99d7aecc811c0dd.png" alt=""></p>\n<p>安装完成后，会提示绑定宝塔账号，点击免费注册，去注册一个，然后绑定就可以了！</p>\n<p>**说明：**建议，安装完成后，左侧，面板设置，设置下面板的登录信息，修改一下登录入口，用户名，密码和端口。<br>\n<strong>注：</strong> 如果修改面板设置中的端口，也要在服务器控制台安全防火墙那里修改端口。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@fb7de946a69ddf2ece1a54cb5a19be56e03e903a/2021/05/11/80adff2edec40d09eac4a104b1fd2b0a.png" alt=""></p>\n<h2>7.安装Typecho</h2>\n<p>访问<a href="http://typecho.org/">Typecho</a> 官网，点击立即下载，点击下载1.1正式版。</p>\n<p>下载完成后，得到一个1.1-17.10.30-release.tar.gz压缩包，解压后可以看到里面有一个build文件夹，文件夹里面便是Typecho程序文件。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@3fe15a4565a38bf979ab7acc08c758e1cdbb66dc/2021/05/11/cdfd81118b588eb1591281b9fda9c115.png" alt=""></p>\n<p>先域名解析一下，去你的域名服务商，控制台找到你的域名，解析，添加记录。主机记录填写@，www或者blog其他的都可以（你填写的是什么就要以什么访问，比如填写www便是www.xxx.com等），记录类型A类型，记录值填写自己服务器的IP地址（如果不知道，可查看宝塔页面的左上角），确认就可以了！</p>\n<p>打开宝塔页面，左侧--》网站--》添加站点</p>\n<p>添加域名，数据库选择Mysql utf-8，填写数据库账号和密码以及对应的PHP版本，然后提交。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@7d53614e535098e0c9b3e1a3dd8a2ce74237c6ed/2021/05/11/3d4ae9731d4c32a7d828e3c4d6218ef9.png" alt=""></p>\n<p>这里可以先设置一下站点，点击站点右侧的设置，需要设置的有伪静态，SSL证书，，，</p>\n<p>伪静态选择typecho，然后保存。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@9fd898561a9e0b733e50c5475259781c09cc2db5/2021/05/11/bb5a833133b91a2bcb05fe7c8ad07f97.png" alt=""></p>\n<p>SSL证书，选择宝塔SSL证书，申请证书，填写相关信息，提交资料等申请成功就可以了。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@77733e1a0d614aeb8b6e8e59120d5f01380def5c/2021/05/11/63078aa08ab79cd588722a625640bc55.png" alt=""></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@5ae3b8d7b1ea0bad3da4a329b8e32f08a7149bab/2021/05/11/98cecc20651ad2aa9056965a4004c2a6.png" alt=""></p>\n<p>如果申请失败，可以去域名服务商那里，有提供单域名免费SSL证书，然后选择其他证书，上传证书，开启右上角的强制HTTPs就可以了。</p>\n<p>关闭设置窗口，点击<strong>根目录</strong>下的路径地址**/www/wwwroot/你的域名**，直接进入根目录文件夹，删除index.html文件。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@c6247286c3564aed5ce8923dffcf4434c7a01766/2021/05/11/4764539572826852ef33d9f4f1b4737f.png" alt=""></p>\n<p>点击上传，弹出窗口，点击上传文件，找到下载的Typecho压缩包，打开，然后开始上传，上传完毕关闭窗口。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@875cd37f19504c58c496452d0fec97f1cd4857ca/2021/05/11/019bdf158e1ff508e71662e2ef06bda8.png" alt=""></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@e27ec199f8c28c8e89a9109d14be30a7ba13a2b1/2021/05/11/38a903132952557ffce43ff3d11999c4.png" alt=""></p>\n<p>解压该压缩包后（删除压缩包），得到build文件夹，进入其文件夹内，选择文件名旁边的框，全选文件，右上角选择剪贴，然后回到上一级根目录下，黏贴，然后删掉没用的build文件夹就可以了。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@4def70f5e2a5ce3008d56f1f8fd9ea5fbdc70e1b/2021/05/11/7bfe1bcbc959ee73c9869bf11ab950d6.png" alt=""></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@00a682158cc429b48648f7c29735475cc047a40a/2021/05/11/ea2c1bc80de015657cf1fad157df5274.png" alt=""></p>\n<p>到这一步，浏览器输入你的域名，就可以安装Typecho了。</p>\n<p>如有在上方遇到<code>Deprecated: Function get_magic_quotes_gpc() is deprecated in /www/wwwroot/woshishabi.top/var/Typecho/Common.php on line 208</code>报错，不用管，没什么影响。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@3d40ba3b7c47a42f47db25ad001221aebb584a29/2021/05/11/f82fb90632987b1cdaddb583e4534664.png" alt=""></p>\n<p>点击下一步，进入初始化配置，这一步需要填写修改的是数据库用户名（添加站点时设置的数据库账号，如果忘了可去宝塔面板页面左侧，数据库查看），数据库密码，数据库名（数据库名和数据库用户名是一样的！），用户名，登录密码，邮件地址，确认，开始安装。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@727f4eec24c86c957f0e1b7a5cad3f1aeb2efa72/2021/05/11/0d5e93682c1ec6e5d0b441d49bf28618.png" alt=""></p>\n<p>不出意外，安装成功！</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@a36e5463e04b5047ae55e1603ca9868406c406b5/2021/05/11/f9c0d8bae2e1f5d652774332a986a3ea.png" alt=""></p>\n<p>现在再浏览器访问域名，便可以查看你的Typecho博客了，当然现在是默认主题，还是比较丑的。</p>\n<p>去百度你喜欢的主题下载，然后上传根目录/usr/themes/目录里面，在后台外观设置中更换。各主题教程以及配置教程都有主题文档。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@e4b6d1606ce94074b45f015356ad27fc34ac20c6/2021/05/11/8a851580aaff42f50f52703898b66d6b.png" alt=""></p>\n<p>插件安装是将下载的插件上传根目录/usr/plugin/ 目录里面，在后台设置中启用插件，设置插件。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@0ca25bd622a81618cf05fe5791d2e809c5b81d49/2021/05/11/316748ca1a877075d9e0d50ee0775d9e.png" alt=""></p>\n<p>你的后台面板地址就是你的域名/admin，用设置的用户名和密码登录就可以了！</p>\n<p>基本的安装到此为止了，下面说一些优化问题！</p>\n<h2>8.优化</h2>\n<p>**永久链接：**对文章和页面进行重写地址，可以去掉地址栏中的index.php，对seo也是很友好的。</p>\n<p>启用重写功能，选择文章路径，选择你喜欢的风格，也可以自定义风格，下面有可选参数，本站使用的是个性化定义 <code>/{cid}.html</code> 。然后保存设置，会出现（重写功能检测失败, 请检查你的服务器设置，如果你仍然想启用此功能, 请勾选这里。），勾选这里，再次点击保存设置就可以了。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@d581ec03f915a2d7b4a5433fc1ddfcccfd3050b6/2021/05/11/bc2528e7c7fa51abd06530cd16cc3b7a.png" alt=""></p>\n',date:kn,path:"/posts/2021-05-11-Typecho博客搭建及优化教程(详细)"},{attributes:{title:"网站引入iframe视频，如何实现高度自适应?",date:rn,updated:"2021/12/01 11:34:32",categories:[n],tags:[e,l]},html:'<p>我想很多小伙伴在写博客的时候都能遇到一个令人头疼的问题，某一篇文章想用 <code>iframe</code> 引入一个外链视频，但是大小总是有问题，宽度可以固定到 100% ，但是高度比如用实际高度来表示，比如 <code>100px</code>, <code>200px</code>，诸如此类。</p>\n\x3c!-- more --\x3e\n<p>但是问题来了，在不同的页面宽度下，视频的高度是一致的，就会导致一个很麻烦的问题,</p>\n<p>看下面两个图，</p>\n<p><strong>pc端</strong></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@625e2311a8d0628a07d844ce6a768013f92ea661/2021/05/09/536b956db2e924c141df412e800aa87e.png" alt=""></p>\n<p><strong>移动端</strong></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@114719b23f29f59bcc9edfd11793139e772b71be/2021/05/09/f4b81a36000e814ab16da85082ded5d4.png" alt=""></p>\n<p>很明显，在pc端正常显示的视频，放到移动端高度就错位了，很不美观。</p>\n<p>解决这个问题，可以同媒体查询，但是显然费时费力，还不那么完美。</p>\n<p>其实很简单，只需要不到10行代码即可完美实现。</p>\n<ol>\n<li>\n<p>引入 jq ，（一般网站默认都有这个文件）</p>\n</li>\n<li>\n<p>加上一段 js 代码，最好放在网站底部， <code>&lt;/body&gt;</code> 前即可。</p>\n</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">\'iframe\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token string">\'&lt;p class="iframe">&lt;/p>\'</span><span class="token punctuation">)</span>\n</code></pre>\n<ol start="3">\n<li>在css文件的底部加上:</li>\n</ol>\n<pre class="language-css"><code class="language-css"><span class="token selector">.iframe</span><span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 56.25%<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.iframe iframe</span> <span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>这个时候再访问带有 iframe 视频的网页，不管宽度如何变化，高度可以随视频自适应。</p>\n<p>例如这个网页，可以看一下效果: <a href="/posts/20210507.html">https://shuxhan.com/posts/20210507.html</a></p>\n',date:rn,path:"/posts/2021-05-09-网站引入iframe视频，如何实现高度自适应_"},{attributes:{title:"呼吸之野",date:dn,updated:"2021/12/03 15:59:48",categories:[a],tags:["音乐"]},html:'<blockquote>\n<p>2021许嵩第8张全创作专辑《呼吸之野》首支曲目《乌鸦》5月7日正式发行。</p>\n</blockquote>\n\x3c!-- more --\x3e\n<h2>《乌鸦》</h2>\n<img style="width:100%" src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@871cc17fa17249c4b873b1c2467e3a5fd9cc40a6/2021/05/07/362e4b4d20e38d46a9d8445317a9a020.png">\n<p>我们都曾领受过误解、怀疑、孤立，都品尝过爱而不得或种种挫败的滋味，都有过觉得“一切都糟透了”的时候……但感伤过后，却还是会相信“一切都会好起来的”，还是会为了反转剧情而振作前行——也许是为了心里最在乎的人，也许是因为心底笃定的信念。被生活不断刮蹭的脆弱羽翼之下，有着强韧的骨架。许嵩以从未讨喜的乌鸦为第一视角，飞抵呼吸之野。</p>\n<p>人生不过一场呼吸。呼吸不停，则生命与思考不止。当人们习惯于蒙上口罩生活，畅快呼吸日渐成为一种奢侈。比这更为奢侈的，是袒露真心的酣畅对谈，是呼吸于野，吐纳心声。《呼吸之野》从冷色调里起笔，以自如沉着的笔触，描摹情感与境遇。十首音乐，如十场呼吸冥想般令人全神贯注。许嵩在想象与写实的互照里，在温柔与凛冽的交汇处，在浪漫与生猛的切换中，记述着生活与思考。</p>\n<p>在《呼吸之野》里，古典气质与当代元素浑然一体。许嵩构建了有别于其过往作品的音乐语汇，有承接亦有创新。《呼吸之野》是赤诚、饱满且充满细节的，它能够让人在专注聆听时回归内心深处。</p>\n<p>为拍摄专辑平面相片及音乐录影带，许嵩与二十余人拍摄团队进驻高原上人迹罕至的原始森林。帐篷帘幕外，旷野篝火，雪山江河，独行旅人，构成一幅冷暖交汇的静谧画卷。</p>\n<p>《呼吸之野》专辑10首曲目将于5月7日-5月14日陆续上线!</p>\n<iframe src="//player.bilibili.com/player.html?aid=757930107&bvid=BV1H64y127hM&cid=335064176&page=1&danmaku=0&high_quality=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>\n<h2>《假摔》</h2>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@d808e28e4ad91639a1206221710adb8299c02174/2021/05/10/8e270c6a2280808e8ce7e00503338bc5.png" alt=""></p>\n<p>暴雪天的十字街头，车来人往川流不息，却如临旷野。</p>\n<p>歌里的故事也许是真实发生的生活影像，也许是虚构的文本创作，但究竟是实是虚，就像歌里的“真摔”与“假摔”一样，真假虚实在裁判们心里有自己的答案。而切换到故事里主人公的角度来看，摔过的跟头吃过的苦，只有自己知道，很难期待无关人士的理解。</p>\n<p>《假摔》是印有许嵩独特标记的叙事性写作，极短的篇幅寥寥数笔就勾勒出故事轮廓。如同一个诚恳而又情绪饱满的目击者，把你带去故事里的现场，却不直接留下他的主观评价，只由你自行体会。故事现场的“假摔”与球场、与人生赛场上的“假摔”互为映照，有着极大的玩味空间。</p>\n<p>音乐方面，电子音色铺陈出冰天雪地氛围，生猛鼓点像钝器般无情敲击，副歌的短旋律乐句不断往复，以及电子摇滚曲风经典的节奏型，这些元素共同营造出极寒雪地的麻木感。后半段步步推进至顶点，直到一声放肆呼喊与一声沉闷的“砰”，猛地击中人心后戛然而止。《假摔》既有关怀的温度，也有反思的冷峻，它在冷暖交汇处，不断引发着心里的强降雪。</p>\n<h2>《冰柜》</h2>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@1dfa63be39486221617e10f4ad24a28e60ae5752/2021/05/11/88f4f66e748f81482fcaf4ad318e8346.png" alt=""></p>\n<p>许嵩+黄龄</p>\n<p>当深情与决绝相互碰撞</p>\n<p>既是窜动的电光石火</p>\n<p>也是致命的寒气冰霜</p>\n<p>《冰柜》以惊悚悬疑电影为灵感原点，推演至情感关系的探讨。表层是充满戏剧张力的冷峻叙事，内里是丰富饱满的寓意，内外同步推进。与「惊鸿一面」的黄龄在七年之后再度合唱，默契诠释歌中角色与情感。</p>\n<p>《冰柜》由许嵩创作及制作。迷离的电子乐音色营造出扑朔迷离的诡谲气氛，影像感十足，引人入胜。歌曲在幽微的呼吸声中起始，随后二人交替着不疾不徐地抛出意象，到副歌时揭开面纱，接着以奇诡的Bridge段落，一步步将气氛推至高潮。</p>\n<h2>《科幻》</h2>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@168a8c2fc56c5877157683694d8784a872ce1ef8/2021/05/13/30147e0b8933729c591b8289d2ed2ab6.png" alt=""></p>\n<p>脑海里 记忆与幻想交织 亦真亦幻<br>\n爱在散场之后 才给出关于爱的答案<br>\n——我们把美满 托付「科幻」</p>\n<p>2021许嵩第8张全创作专辑「呼吸之野」<br>\n第四支曲目「科幻」5月13日正式发行</p>\n<p>歌曲从星云浩渺的氛围和隐约的电子频率声里起始，古典气息和R&amp;B节拍梦幻联动，让心神跟随许嵩感而不伤的真挚演绎，飘忽在回忆的宇宙中。</p>\n<p>像一场返璞归真的童梦，像一则年少的浪漫寓言。爱之得失，在他的歌与诗里聚合成辽阔原野。聆听「科幻」，一切都在脑海，一切又都已抛之脑后。</p>\n<p>结尾咚咚的鼓声，如心跳不停，如呼吸不止，如爱一直延续。</p>\n<h2>发行完毕</h2>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@16c6227a88b344637b603d55b3e9f57760dcba81/2021/05/14/832152e4f45feea8802b68aa6aae9516.png" alt=""></p>\n<p>人生不过一场呼吸。呼吸不停，则生命与思考不止。当人们习惯于蒙上口罩生活，畅快呼吸日渐成为一种奢侈。比这更为奢侈的，是袒露真心的酣畅对谈，是呼吸于野，吐纳心声。</p>\n<p>《呼吸之野》从冷色调里起笔，以自如沉着的笔触，描摹情感与境遇。十首音乐，如十场呼吸冥想般令人全神贯注。许嵩在想象与写实的互照里，在温柔与凛冽的交汇处，在浪漫与生猛的切换中，记述着生活与思考。</p>\n<p>在《呼吸之野》里，古典气质与当代元素浑然一体。许嵩构建了有别于其过往作品的音乐语汇，有承接亦有创新。《呼吸之野》是赤诚、饱满且充满细节的，它能够让人在专注聆听时回归内心深处。</p>\n<p>为拍摄专辑平面相片及音乐录影带，许嵩与二十余人拍摄团队进驻高原上人迹罕至的原始森林。帐篷帘幕外，旷野篝火，雪山江河，独行旅人，构成一幅冷暖交汇的静谧画卷。</p>\n<p>呼，向外输出，吸，向内滋长，一呼一吸间，许嵩始终坚持用作品与听众进行交互。自2009年发行首张专辑至今12年里，许嵩已一人作词、作曲、演唱、制作、策划8张个人专辑以及近50首原创单曲，佳作不断。2019年举办“寻宝游戏”巡回演唱会大获好评后，许嵩折返到潜心创作的生活状态，以新作《呼吸之野》再一次展现了强大的创作能量。</p>\n',date:dn,path:"/posts/2021-05-07-呼吸之野"},{attributes:{title:"基耶斯洛夫斯基和他的现实",date:gn,updated:"2021/12/01 11:32:30",categories:[a],tags:[d,"电影"]},html:'<p>克日什托夫·基耶斯洛夫斯基（以下简称基氏），20世纪波兰著名导演，其作品**《蓝白红三部曲》（也称三色系列），被许多评论家视为电影史的巅峰。**</p>\n\x3c!-- more --\x3e\n<blockquote>\n<p>文章作者: <a href="https://www.jannns.com">江江_Jan</a><br>\n文章链接: https://blog.jannns.com/posts/Kieslowski-and-his-reality/<br>\n版权声明: 本博客所有文章除特别声明外，均采用 CC BY-NC-SA 4.0 许可协议。转载请注明来自 江卮可乐！</p>\n</blockquote>\n<h2>前言</h2>\n<p><img src="https://photo.jannns.com/images/2021/03/14/286531de775a99b21cb93109205a5feb.jpg" alt=""></p>\n<p>克日什托夫·基耶斯洛夫斯基（以下简称基氏），20世纪波兰著名导演，其作品**《蓝白红三部曲》（也称三色系列），被许多评论家视为电影史的巅峰。**</p>\n<p><strong>比起身份上电影人的定义，基氏本人更像是一个哲学家、斗争者。他立足于现实生活，擅长用冷静陈述的方式表达对世界的感知，热衷于揭露生活的残酷本质和人性的阴暗内里，并甘愿为【自由的表达】和外界抗衡。</strong></p>\n<p>**我对基氏作品的感知是客观且冷静（甚至有点冷漠）。**他的叙事似乎不带任何感情色彩，但回味起来却能感受到他对生命的热爱。</p>\n<p>基氏的电影没有二元的善恶对错。残暴的杀人犯可以是为妹妹之死隐忍数年的无助青年（《杀人短片》）；权威物理教授会因为相信科学而亲手葬送自己的幼子（《十诫：第一诫》）；少年会因为精神爱情的破灭而赴死（《爱情短片》）；深爱多年的人是否能因为被证实无血缘而在一起（《十诫：父女情深》）……<strong>一些人生困境真实摆在眼前时，比起一些脸谱化的选择，我认为基氏的电影更接近生活的本质，也可能是我个人认同的生活本质。</strong></p>\n<p>总之他的电影蛮有意思的，值得挖掘的东西也很多，自己最近沉迷其中无法自拔。</p>\n<h2>基耶斯洛夫斯基如是说</h2>\n<p>第一次看基耶斯洛夫斯基的电影是《蓝白红三部曲》，四年前，马哲课老师的推荐。看完感觉三观都没了。女主为什么毁了丈夫遗作却念念不忘？她怎么可以这么对待默默爱她那么多年的人？她为什么对破坏自己婚姻的人那么好？…被一大堆灵魂提问炙烤以后，我默默告诫自己以后不要再看欧洲电影了，超出我的认知范围，感情方面尤其跟不上西方人思路。（当然“不看欧洲电影”这个flag?，后来因为被其他优秀电影疯狂打脸。）</p>\n<p>可能因为叙事方式或者文化背景的原因，欧洲电影没有很强的渲染力（美国大片那种看完就热血沸腾的感觉），它热衷于描绘的都是一些很细小很日常挺东西，无论好的还是不好的都客观的摊在你面前，有时候甚至感觉它的道德边界是模糊的（《两小无猜》令我头大），但回味起来，这些电影表达方式可能戏剧化，但对情感的表述很真实，确定的、不确定的、果断的、犹豫的……<strong>它告诉我们生活本来就是残酷的，但也会提示你生活中有很多不容忽视的小美好、值得我们的期待和爱护。</strong></p>\n<p><img src="https://photo.jannns.com/images/2021/03/14/075affcaef685adac94940f7b8258030.jpg" alt=""></p>\n<p><strong>基氏热衷于揭露生活的残酷真相和人性的阴暗面。</strong>（可能这也是他电影十分吸引我的原因，我喜欢真实。）他的早期作品都是纪录片，力求反映真实的社会生活，后来因为一些社会原因和本身对纪录片表达方式的失望，他才开始拍摄剧情片。</p>\n<p><strong>他所处的时代比较动荡，人们渴望真正的自由。</strong></p>\n<p><img src="https://photo.jannns.com/images/2021/03/14/0adc12a9c76b3e7ff9ae25ade51a72da.jpg" alt="《基耶斯洛夫斯基如是说》"></p>\n<p><img src="https://photo.jannns.com/images/2021/03/14/698c6fad878284dc3cfbebe6f1506f90.jpg" alt="《基耶斯洛夫斯基如是说》"></p>\n<p>**他用自己的方式替人们发声，与外部抗衡。**朋友问他为什么不索性做政客去改变环境，他只是表达不适合自己，他在做的是自己应该做的事情。</p>\n<p>对他观点感兴趣的朋友可以在去b站看纪录片《基耶斯洛夫斯基如是说》。</p>\n<p>我比较认同他对人性的看法。</p>\n<p><img src="https://photo.jannns.com/images/2021/03/14/1aacdbf13a62c87544af6f23cb0ef3ea.th.jpg" alt="《基耶斯洛夫斯基如是说》"></p>\n<p>一旦某种特性在人们心中扎了根，很难改变。<strong>性善性恶这种论题没有定论，也说不清这个“本”应该追溯哪里，但就未来而言，现在就是本，我比较相信“日久见人心”这个古话，人的本性经不起时间考验。</strong></p>\n<p>这是一段废话</p>\n<p>突然想到前两年网上疯传的**原生家庭理念，仿佛我们所有的性格缺陷，**只要归在原生家庭的问题上就可以结束了。这个理念让很多人找到了共鸣，大家可以理直气壮的指责原生家庭带给自己的伤害，所以在遇到一些问题时没法很好解决。但这种指责行为只是一种毫无意义的负面情绪宣泄，于家于己都毫无益处。</p>\n<p>我从不否认原生家庭会给人影响，《野草莓》里探讨的持续三代的情感疏离，《小偷家族》里典型东方家庭的内敛……个体在遭受重大事件时性格都会受到影响，更何况耳濡目染的家庭。<strong>但我觉得原生家庭概念的提出不是为了创造家庭矛盾、或者给自己的问题找开脱，而是给个体更多素材（比如家人互动模式）去找到解决问题的方法。</strong></p>\n<hr>\n<p>以下内容含大量剧透及解析，请慎重阅读。</p>\n<p>图源豆瓣或自截。</p>\n<hr>\n<h2>蓝白红三部曲之蓝故事梗概</h2>\n<p><img src="https://photo.jannns.com/images/2021/03/14/5a5cc0c8bb13b66ab30a0fa6bcc5d08f.jpg" alt=""></p>\n<p>茱莉在一场意外中失去了丈夫和幼女，不堪回忆烦扰的她选择重新开始生活。清空过去的家、切断和过去人们的联系，但情感方面的东西，始终无法像切断物质关系一样简单，能够清理的干干净净。媒体四处渗透她的生活、想要她续写她丈夫的遗作，丈夫的助手一直爱着他、默默关心着她，最重要的是，她脑海中总是回荡着她和丈夫一起创作的交响乐…一个电视采访让她意外发现这首乐曲和另一个女人有关，并且她还有了丈夫的骨肉……</p>\n<p>和贯穿全剧的交响乐相契合，故事也可以分成四个乐章。</p>\n<h3>第一乐章</h3>\n<p><strong>常以奏鸣曲或快板形式表现。常常是两个具冲突性的主题交替上演，在最后突出首要主题。</strong></p>\n<p>电影开头是一段行车的镜头。基氏通过一家人的默契互动、小女孩玩糖纸的动作、街边玩耍的路人，来表现这一天的平常以及这个家庭的和谐氛围。</p>\n<p><img src="https://photo.jannns.com/images/2021/03/14/f8a83da899450932e3d2268418d54da6.jpg" alt="朱莉 5岁的女儿在车上快乐的玩着糖纸"></p>\n<p>突然，车离奇的撞上了路外的树。</p>\n<h3>第二乐章</h3>\n<p><strong>复三部曲式或变奏曲，慢板。</strong></p>\n<p>女主茱莉的丈夫、女儿，因为车祸和她阴阳两隔。寻死不成，她开始漫长的适应过程。</p>\n<p>茱莉变卖了家里的东西，安顿园丁和管家的生活， 以决绝的方式和一直对她存有感情的助手道别，自己搬进市区的公寓，想要忘记过去生活的痕迹。</p>\n<p><img src="https://photo.jannns.com/images/2021/03/14/650ef317498af04a8f34c3eac35dca95.jpg" alt=""></p>\n<p>但是不适就像水一样无缝隙的将她包围。过去的生活习惯、一起创作的乐曲、国家要她续写交响曲的请求…人们的互动总是强行把她拉进生活中。</p>\n<p><img src="https://photo.jannns.com/images/2021/03/14/b6c61f5e7cdc6fb72d178f724d27b001.jpg" alt=""></p>\n<h3>第三乐章</h3>\n<p><strong>小步舞曲或谐谑曲，中、快板。</strong></p>\n<p><img src="https://photo.jannns.com/images/2021/03/14/8a839fdc980649976edea0f90f851976.jpg" alt=""></p>\n<p>茱莉不想与周围世界产生关联，但是她控制不了他人。莫名和同栋公寓的prostitute产生了联系以后，她的平静生活慢慢被打破，一次意外看到的电视节目把茱莉彻底逼回现实。助手接受国家委托，续写本已被她销毁的交响曲；丈夫生命中还有另一个女子。原本小心封存的回忆突然就炸开了。她去找助手，责问他凭什么去续写这首乐曲；她去找亡夫的情人，却只能“平静”接受对方已有丈夫骨肉的事实……（女主这段表演真的很精彩）</p>\n<p>茱莉重新审视自己的生活、感情。她把准备变卖的房产赠给了丈夫的情人；重新投入作曲，把一直萦绕在脑内的旋律写出来…</p>\n<h3>第四乐章</h3>\n<p><strong>终曲。通常是快板，经常采用会选取时或者回旋奏鸣曲式。也就是对主题进行呼应。</strong></p>\n<p>电影的最后是本剧的高潮，像走马灯一样回顾了茱莉的遭遇。戴着爱的十字架的男孩突然惊醒、在过去徘徊的母亲永远的沉寂、混乱生活的prostitute的沉思、及情人对新生儿的微笑…伴着最终成曲，回顾了茱莉这段人生经历。</p>\n<p><img src="https://photo.jannns.com/images/2021/03/14/b0ecd4c0d8f973710dc7d1652c3c5fe8.jpg" alt=""></p>\n<p>导演的布局真的太妙了，每一个要素都紧紧地联系在一起。蓝色基调、交响乐贯穿全剧，既烘托氛围，又表达茱莉沉默背后压抑的感情……</p>\n<h2>后记</h2>\n<p>本来想把三色系列都写一遍，但好几遍《蓝》看下来感觉还是需要时间去消化。基耶斯洛夫斯基的电影值得反复看的，不同的人生阶段应该也会有不同的看法。</p>\n<p>一人所学有限，若有疏漏，还请大家批评指正。</p>\n',date:gn,path:"/posts/2021-04-24-基耶斯洛夫斯基和他的现实"},{attributes:{title:"基于 docsify 搭建一个文档",date:mn,updated:"2021/12/01 11:32:12",categories:[n],tags:[hn]},html:'<p>docsify 是一个类似 vuepress, gitbook 等静态文档程序，但是对比之前，个人还是喜欢 docsify 的风格和源码。不想要那么多附带的功能，能满足写文章，目录的功能就行了。</p>\n\x3c!-- more --\x3e\n<h2>一、搭建</h2>\n<p>打开终端输入指令，把本地环境搭建起来：</p>\n<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> docsify-cli -g\n</code></pre>\n<p>初始化文档：</p>\n<pre class="language-shell"><code class="language-shell">docsify init ./docs\n</code></pre>\n<p>本地运行：</p>\n<pre class="language-shell"><code class="language-shell">docs serve\n</code></pre>\n<p>然后在浏览器打开 <code>localhost:3000</code> 就可以查看了。</p>\n<h2>二、页面</h2>\n<p>我觉得最基本的页面就三个</p>\n<ol>\n<li>_navbar.md</li>\n</ol>\n<p>导航栏</p>\n<pre class="language-markdown"><code class="language-markdown"><span class="token list punctuation">*</span> <span class="token url">[<span class="token content">关于</span>](/)</span>\n</code></pre>\n<p>然后在 index.html 调用。</p>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span>$docsify <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token operator">...</span>\n    loadNavbar<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token operator">...</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>如图：</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@d7a7fb56378b88ebbe3d2dde3f06f67752342f03/2021/04/21/c907f1335bbf5e19015c987f7f07c8f0.png" alt=""></p>\n<ol start="2">\n<li>_sidebar.md</li>\n</ol>\n<p>侧边栏</p>\n<pre class="language-markdown"><code class="language-markdown"><span class="token list punctuation">*</span> <span class="token url">[<span class="token content">基于docsify搭建一个文档</span>](基于docsify搭建一个文档.md)</span>\n</code></pre>\n<p>在 index.html 调用。</p>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span>$docsify <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token operator">...</span>\n    loadSidebar<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token operator">...</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>如图：</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@6c269355377cd41033aba6cf73a6f8c35283b47c/2021/04/21/d1099cad662badfa2ba48b13cc469567.png" alt=""></p>\n<ol start="3">\n<li>README.md</li>\n</ol>\n<p>主页</p>\n<pre class="language-markdown"><code class="language-markdown"><span class="token title important"><span class="token punctuation">##</span> about</span>\n\n博客地址：<span class="token url">[<span class="token content">https://shuxhan.com</span>](https://shuxhan.com)</span>\n\n作者：shuxhan\n\n时间：2021.04.20\n\n本文档作为博客的文章备份，如果对文章有一些其他的评论可以直接点击链接到原地址。\n</code></pre>\n<p>如图：</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@8a0c5037e44751a245cfe74c50f94c68aa7cb773/2021/04/21/f8380a54ab6e27eab43998e28ade42d4.png" alt=""></p>\n',date:mn,path:"/posts/2021-04-21-基于_docsify_搭建一个文档"},{attributes:{title:"清明时节雨纷纷",date:fn,updated:"2021/12/01 11:31:53",categories:[a],tags:["旅游"]},html:'<p>清明时节雨纷纷，路上行人欲断魂。</p>\n\x3c!-- more --\x3e\n<h3>云栖竹径</h3>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@b6e0cc36c93954b2088bfc844e9cefff55d517d3/2021/04/04/b2dbd256cb9c3cd65110580c9c02dbfd.png" alt=""></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@9ca27eb0581e8d71290986431da5ce5bebf3e08b/2021/04/04/a27aeb1b582c6a0cd510a5c3ad28fd41.png" alt=""></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@bdece7343a8feb980d1d5da2af1018bb909673c6/2021/04/03/5753d64ad69892c2b64de4a726f63724.png" alt=""></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@4d74d81e1ce087c046775dac4a35ea2153f3e0fd/2021/04/04/b3839222eaf37e4520e183104b876430.png" alt=""></p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@63f84f53bcbc221a501a582b9dd9e3e06a00e640/2021/04/04/c9d1b928b996ee283177be0fa246543b.png" alt=""></p>\n',date:fn,path:"/posts/2021-04-03-清明时节雨纷纷"},{attributes:{title:"我的 python 学习笔记",date:bn,updated:"2021/12/01 11:31:19",categories:[n],tags:[o,"python"]},html:'<p>之所以学习 Python ，本意是想写一些脚本之类的程序，用来在浏览器爬一些自己想要的文字，图片等资料，这些程序其实 GitHub 蛮多的，但奈何我对后端的语言一窍不通，直接拿过来给我用我都不会。</p>\n\x3c!-- more --\x3e\n<p>因此就萌生了先学习 Python 基础知识的想法，一直听说廖雪峰的 Python 教程写的不错，这次趁着这个机会要好好研读一番。也没想说用的多牛逼，至少希望能为自己浅薄的技术栈再增加一点光彩，毕竟我也曾梦想成为一个全栈开发。</p>\n<p>下载安装完 Python 环境,就开始学习吧！</p>\n<h2>运行我的第一个python程序</h2>\n<pre class="language-py"><code class="language-py"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">\'hello,world\'</span><span class="token punctuation">)</span>\n</code></pre>\n<h2>数据类型</h2>\n<p>在 Python 中，能直接处理的数据类型有几种，整数、浮点数、字符串、布尔值、空值、变量。</p>\n<p>这与其他语言其实差别并不大，数据类型基本都是相似的，大概只有变量有自己的特性，所以我单独拿出来记录一下。</p>\n<h3>变量</h3>\n<p>python 是一门动态语言，在赋值时可以不断改变，比如：</p>\n<pre class="language-py"><code class="language-py">a <span class="token operator">=</span> <span class="token number">123</span>\n<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 终端输出数值 123</span>\na <span class="token operator">=</span> <span class="token string">\'abc\'</span>\n<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 终端输出字符串 abc</span>\n</code></pre>\n<p>这是允许的，而在 Java 中则不行，它是一门静态语言，如果多次赋值会报错。相对来说，动态语言更灵活，当然，各有利弊罢了。</p>\n<p>并且在赋值上面有一个逻辑顺序，比如定义一个 <code>a = \'a\'</code> 的变量。在 Python 中其实走了两步，先创造了一个字符串 <code>a</code> ，然后将这个字符串赋值给变量 a 。</p>\n<p>其实这在数学上是有些反逻辑的，<code>x = x + 2</code> 这个计算是行不通的在数学上，但是在计算机中，先计算 <code>x + 2</code> ，然后将其赋值给左侧的 <code>x</code> ，这是计算机的逻辑。</p>\n<pre class="language-py"><code class="language-py">x <span class="token operator">=</span> <span class="token number">1</span>\nx <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">2</span>\n<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment"># 3</span>\n</code></pre>\n<p>其实很多计算机语言都是如此，比如我们所熟知的 js 等等。</p>\n<p>如果有多个变量相互赋值的话，都是一行一行执行</p>\n<pre class="language-shell"><code class="language-shell">a <span class="token operator">=</span> <span class="token number">1</span>\nb <span class="token operator">=</span> a\na <span class="token operator">=</span> <span class="token number">2</span>\nprint<span class="token punctuation">(</span>a<span class="token punctuation">)</span>\nprint<span class="token punctuation">(</span>b<span class="token punctuation">)</span>\n</code></pre>\n<p>最后输出的结果分别是 <code>2</code>, <code>1</code></p>\n<blockquote>\n<p>Python支持多种数据类型，在计算机内部，可以把任何数据都看成一个“对象”，而变量就是在程序中用来指向这些数据对象的，对变量赋值就是把数据和变量给关联起来。<br>\n对变量赋值x = y是把变量x指向真正的对象，该对象是变量y所指向的。随后对变量y的赋值不影响变量x的指向。<br>\n注意：Python的整数没有大小限制，而某些语言的整数根据其存储长度是有大小限制的，例如Java对32位整数的范围限制在-2147483648-2147483647。<br>\nPython的浮点数也没有大小限制，但是超出一定范围就直接表示为inf（无限大）。---《廖雪峰的官方网站》</p>\n</blockquote>\n<h2>字符串和编码</h2>\n<p>Python 提供了两个处理编码的属性，<code>ord</code> 和 <code>chr</code></p>\n<pre class="language-py"><code class="language-py"><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">\'舒\'</span><span class="token punctuation">)</span>\n<span class="token comment"># 33298</span>\n<span class="token comment"># 将字符串转换为整数表示</span>\n\n<span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">33298</span><span class="token punctuation">)</span>\n<span class="token comment"># \'舒\'</span>\n<span class="token comment"># 将整数表示的内容转换为字符串</span>\n</code></pre>\n<h2>list</h2>\n<p><code>list</code> 类似于 js 中的 <code>Array</code>，是多个数据的列表，写法如下</p>\n<pre class="language-shell"><code class="language-shell"><span class="token operator">>></span><span class="token operator">></span> classmates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'a\'</span>, <span class="token string">\'b\'</span>, <span class="token string">\'c\'</span><span class="token punctuation">]</span>\n<span class="token operator">>></span><span class="token operator">></span> classmates\n<span class="token punctuation">[</span><span class="token string">\'a\'</span>, <span class="token string">\'b\'</span>, <span class="token string">\'c\'</span><span class="token punctuation">]</span>\n</code></pre>\n<p>这时候我们就可以说变量 <code>classmates</code> 是一个 list。</p>\n<p>有一个 <code>len()</code> 可以输出 list 元素的个数</p>\n<pre class="language-shell"><code class="language-shell"><span class="token operator">>></span><span class="token operator">></span> len<span class="token punctuation">(</span>classmates<span class="token punctuation">)</span>\n<span class="token operator">>></span><span class="token operator">></span> <span class="token number">3</span>\n</code></pre>\n<p>同时 list 也有索引，从 0 开始，最后一个索引是 <code>len(classmates)-1</code>，同时如果想直接输出最后一个元素，可以使用 <code>classmates[-1]</code>.</p>\n<pre class="language-shell"><code class="language-shell"><span class="token operator">>></span><span class="token operator">></span> classmates<span class="token punctuation">[</span>-1<span class="token punctuation">]</span>\n<span class="token operator">>></span><span class="token operator">></span> <span class="token string">\'c\'</span>\n</code></pre>\n<p>既然都可以用 <code>-1</code> 表示最后一个元素，能不能用 <code>-2</code> 表示倒数第二个呢？答案是可以的。</p>\n<pre class="language-shell"><code class="language-shell"><span class="token operator">>></span><span class="token operator">></span> classmates<span class="token punctuation">[</span>-2<span class="token punctuation">]</span>\n<span class="token operator">>></span><span class="token operator">></span> <span class="token string">\'b\'</span>\n</code></pre>\n<p><strong>另外需要注意的是，在使用索引时不可超出范围，否则会报出下面的错误。</strong></p>\n<pre class="language-shell"><code class="language-shell"><span class="token operator">>></span><span class="token operator">></span> classmates<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>\nTraceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:\n  File <span class="token string">"&lt;stdin>"</span>, line <span class="token number">1</span>, <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>\nIndexError: list index out of range\n</code></pre>\n<p><strong>list</strong> 是一个可变的有序列表，可以往里面添加或者删除元素。</p>\n<ol>\n<li>append 在末尾添加元素</li>\n</ol>\n<pre class="language-shell"><code class="language-shell"><span class="token operator">>></span><span class="token operator">></span> classmates.append<span class="token punctuation">(</span><span class="token string">\'d\'</span><span class="token punctuation">)</span>\n<span class="token operator">>></span><span class="token operator">></span> classmates\n<span class="token punctuation">[</span><span class="token string">\'a\'</span>, <span class="token string">\'b\'</span>, <span class="token string">\'c\'</span>, <span class="token string">\'d\'</span><span class="token punctuation">]</span>\n</code></pre>\n<ol start="2">\n<li>insert 在指定位置添加元素</li>\n</ol>\n<p>其中 <code>1</code> 是索引，表示在索引为 1 的地方插入元素，后面的元素自然往后顺延。</p>\n<pre class="language-shell"><code class="language-shell"><span class="token operator">>></span><span class="token operator">></span> classmates.insert<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token string">\'d\'</span><span class="token punctuation">)</span>\n<span class="token operator">>></span><span class="token operator">></span> classmates\n<span class="token punctuation">[</span><span class="token string">\'a\'</span>, <span class="token string">\'d\'</span>, <span class="token string">\'b\'</span>, <span class="token string">\'c\'</span><span class="token punctuation">]</span>\n</code></pre>\n<ol start="3">\n<li>pop 删除末尾的元素</li>\n</ol>\n<pre class="language-shell"><code class="language-shell"><span class="token operator">>></span><span class="token operator">></span> classmates.pop<span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token string">\'c\'</span> <span class="token comment"># 输出的时候被删除的元素</span>\n\n<span class="token operator">>></span><span class="token operator">></span> classmates\n<span class="token punctuation">[</span><span class="token string">\'a\'</span>, <span class="token string">\'b\'</span><span class="token punctuation">]</span>\n</code></pre>\n<ol start="4">\n<li>pop(i) 删除指定位置的元素</li>\n</ol>\n<pre class="language-shell"><code class="language-shell"><span class="token operator">>></span><span class="token operator">></span> classmates.pop<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>\n<span class="token string">\'b\'</span> <span class="token comment"># 输出被删除的元素</span>\n\n<span class="token operator">>></span><span class="token operator">></span> classmates\n<span class="token punctuation">[</span><span class="token string">\'a\'</span>, <span class="token string">\'c\'</span><span class="token punctuation">]</span>\n<span class="token operator">>></span><span class="token operator">></span> \n</code></pre>\n',date:bn,path:"/posts/2021-04-01-我的_python_学习笔记"},{attributes:{title:"实时监听页面的变化",date:yn,updated:"2021/12/01 11:31:02",categories:[n],tags:[p]},html:'<p>问题产生于需求，因为项目需要适配pc和移动端多套布局，所以某些元素在特定的宽度下会产生错位的现象。</p>\n\x3c!-- more --\x3e\n<p>如果是在css中，可以很好的判断，使用媒体查询可以实时检测页面的宽度，从而给予标签不同的属性。</p>\n<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span>768px<span class="token punctuation">)</span></span><span class="token punctuation">{</span>\n    ...\n<span class="token punctuation">}</span>\n</code></pre>\n<p>在js下可以使用下面这种方法</p>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'load\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'resize\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span>\n        <span class="token keyword">var</span> w <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>\n        <span class="token operator">...</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>具体操作的细节可以尝试一下，还是很不错的一个方法，同时注意 <code>window</code> ，因为这是个例子我就直接写了，实际编码中，慎用<br>\n<code>window</code> 事件。</p>\n',date:yn,path:"/posts/2021-03-26-实时监听页面的变化"},{attributes:{title:"ajax 和 js 事件的执行顺序",date:vn,updated:"2021/12/01 11:29:54",categories:[n],tags:[u]},html:'<p>有一个需求，滚轮滚动到相应位置的时候执行当前的动画，这个动画在<code>footer</code>里面，而网页的主体通过<code>ajax</code>进行渲染，我在js里面调用ajax渲染数据，然后再获取主体的高度，滚动到该高度的时候执行动画。</p>\n\x3c!-- more --\x3e\n<p>本地测试了一下没什么问题，该有的效果都有了。放在服务器上测试发现无论怎么写，都是先获取主体的高度，然后才进行数据的渲染。那么必然高度是一个极小的值，不符合我想要的属性。</p>\n<p>我大致想了两种解决办法，均以失败告终，本地是ajax先执行，服务器是js先执行。</p>\n<ol>\n<li>让获取高度的事件时间延时500ms，发现最后获取不到事件了；</li>\n<li>将该事件写在ajax的success回调里面，结果是只有打开网页第一次能够成功，然后不管刷新多少次均无效，事件被屏蔽，所以方法二也被废除；</li>\n</ol>\n<p>最后我想到了，ajax不就是一种异步方法，我将其改为同步不就行，先让ajax执行完在执行js事件。</p>\n<pre class="language-js"><code class="language-js">async<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n</code></pre>\n<p>我在ajax里面写了<code>async</code>这个方法，<code>false</code> 意思是将其默认为同步获取数据，很好，回到服务器打开控制台，发现是先渲染了数据，才获取了主体的高度，问题得以解决。</p>\n<blockquote>\n<p>当然这样做有弊端的，如果接口出问题，ajax渲染失败，那么整个网页的js都将执行不了。不过我想真到了数据都渲染不出的地方，访问网页就没有意义了，所以最后我采用了这种方法。</p>\n</blockquote>\n',date:vn,path:"/posts/2021-03-22-ajax_和_js_事件的执行顺序"},{attributes:{title:"ajax拼接模版字符串的几种方法",date:wn,updated:"2021/12/01 11:30:08",categories:[n],tags:[u]},html:'<blockquote>\n<p>起因是因为IE10不兼容es6，所以引发了一系列的问题。</p>\n</blockquote>\n\x3c!-- more --\x3e\n<h3>一</h3>\n<p>使用<code>ajax</code>拼接字符串有很多方法，最简单的莫过于使用es6的语法中的关键符号，</p>\n<pre class="language-js"><code class="language-js">str <span class="token operator">+=</span> \n<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li class="wrap-item">\n    &lt;div class="pic-wrap">\n        &lt;div class="pic">\n            &lt;div class="pic-son">\n                &lt;a href=" </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> item<span class="token punctuation">.</span>link <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">" target="_blank">&lt;img src=" </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> item<span class="token punctuation">.</span>pic<span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">" alt="缩略图">&lt;/a>\n            &lt;/div>\n        &lt;/div>\n\n        &lt;div class="pic-main">\n            &lt;div class="pic-title">\n                &lt;span>编号：&lt;/span>\n                &lt;span> </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> item<span class="token punctuation">.</span>title <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> &lt;/span>\n            &lt;/div>\n            &lt;div class="pic-guide"> </span><span class="token template-punctuation string">`</span></span>\n                <span class="token operator">+</span> item<span class="token punctuation">.</span>guide <span class="token operator">+</span>\n            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> &lt;/div>\n            &lt;div class="pic-link" id="picLink">\n                &lt;a href=" </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> item<span class="token punctuation">.</span>link <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> " target="_blank">预览&lt;/a>\n            &lt;/div>\n        &lt;/div>\n    &lt;/div>\n&lt;/li> \n</span><span class="token template-punctuation string">`</span></span>\n</code></pre>\n<p>可以很快的把模版字符串写好，但是正因为它是<code>es6</code>的新特性，因此对于低版本的浏览器兼容性不太好，报错无效字符。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@4a64996e4e009bf24aa4096063d37ee256b5b78f/2021/03/22/a34160c39ebcebc8eb81f6dc9aea3f21.png" alt=""></p>\n<h3>二</h3>\n<p>因此还有一种较为麻烦的写法<code>&quot; \'\' &quot;</code> ，使用单引号和双引号将标签和字符串连接起来。因为太过繁琐，所以需要特别仔细的查看，一不小心漏个符号，就会导致网页报错。</p>\n<pre class="language-js"><code class="language-js">p <span class="token operator">=</span> <span class="token string">"&lt;li class=\'wrap-item\'>"</span>\n    <span class="token operator">+</span><span class="token string">"&lt;div class=\'pic-wrap\'>"</span>\n        <span class="token operator">+</span><span class="token string">"&lt;div class=\'pic\'>"</span>\n            <span class="token operator">+</span><span class="token string">"&lt;div class=\'pic-son-wrap\'>"</span>\n                <span class="token operator">+</span><span class="token string">"&lt;div class=\'pic-son\'>"</span>\n                    <span class="token operator">+</span><span class="token string">"&lt;a href=\'"</span><span class="token operator">+</span>item<span class="token punctuation">.</span>link<span class="token operator">+</span><span class="token string">"\'>"</span>\n                        <span class="token operator">+</span><span class="token string">"&lt;img src=\'"</span><span class="token operator">+</span>item<span class="token punctuation">.</span>pic<span class="token operator">+</span><span class="token string">"\' alt=\'缩略图\'>"</span>\n                    <span class="token operator">+</span><span class="token string">"&lt;/a>"</span>\n                <span class="token operator">+</span><span class="token string">"&lt;/div>"</span>\n            <span class="token operator">+</span><span class="token string">"&lt;/div>"</span>\n            <span class="token operator">+</span><span class="token string">"&lt;div class=\'pic-main\'>"</span>\n                <span class="token operator">+</span><span class="token string">"&lt;div class=\'pic-title\'>"</span>\n                    <span class="token operator">+</span><span class="token string">"&lt;span>"</span><span class="token operator">+</span><span class="token string">"编号："</span><span class="token operator">+</span><span class="token string">"&lt;/span>"</span><span class="token operator">+</span><span class="token string">"&lt;span>"</span><span class="token operator">+</span>item<span class="token punctuation">.</span>title<span class="token operator">+</span><span class="token string">"&lt;/span>"</span>\n                <span class="token operator">+</span><span class="token string">"&lt;/div>"</span>\n                <span class="token operator">+</span><span class="token string">"&lt;div class=\'pic-guide\'>"</span>\n                    <span class="token operator">+</span>item<span class="token punctuation">.</span>guide\n                <span class="token operator">+</span><span class="token string">"&lt;/div>"</span>\n                <span class="token operator">+</span><span class="token string">"&lt;div class=\'pic-link\' id=\'picLink\'>"</span>\n                    <span class="token operator">+</span><span class="token string">"&lt;a href=\'"</span><span class="token operator">+</span>item<span class="token punctuation">.</span>link<span class="token operator">+</span><span class="token string">"\'>"</span>\n                        <span class="token operator">+</span><span class="token string">"预览"</span>\n                    <span class="token operator">+</span><span class="token string">"&lt;/a>"</span>\n                <span class="token operator">+</span><span class="token string">"&lt;/div>"</span>\n            <span class="token operator">+</span><span class="token string">"&lt;/div>"</span>\n        <span class="token operator">+</span><span class="token string">"&lt;/div>"</span>\n        <span class="token operator">+</span><span class="token string">"&lt;/div>"</span>\n    <span class="token operator">+</span><span class="token string">"&lt;/li>"</span>\nstr <span class="token operator">+=</span> p<span class="token punctuation">;</span>\n</code></pre>\n<p>在不同的情况下使用不同的方法，多掌握几种方法总是不亏的，能适用与各种开发环境。</p>\n',date:wn,path:"/posts/2021-03-22-ajax拼接模版字符串的几种方法"},{attributes:{title:"用ajax请求获取数据",date:jn,updated:"2021/12/01 09:03:03",categories:[n],tags:[p,u],thumb:s},html:'<p>通过jquery进行ajax请求数据是一种较为简便的方式，我简单写了一个本地的<code>data.json</code>文件，然后用<code>get</code>请求数据。</p>\n\x3c!-- more --\x3e\n<p>下面是部分代码.</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// ajax 请求获取数据</span>\n<span class="token keyword">function</span> <span class="token function">picShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">\'\'</span><span class="token punctuation">;</span>\n    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        url<span class="token operator">:</span><span class="token string">\'./js/data.json\'</span><span class="token punctuation">,</span>\n        type<span class="token operator">:</span><span class="token string">\'get\'</span><span class="token punctuation">,</span>\n        dataType<span class="token operator">:</span><span class="token string">\'json\'</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'success\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'error\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n<span class="token function">picShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>但是这样做有一个弊端，无法在本地预览，<strong>因为浏览器禁止客户端直接获取本地数据</strong>，这也算一个跨域问题了，不过这也是为了保证用户的安全。当然这对前端来说很不爽！</p>\n<p>其实解决的方法也很简单，通过node服务，用<code>live server</code>在本地跑一下，就可以让ajax获取数据，当然还有其他更好的解决方法，或者直接在服务器跑，通过jsonp等等。</p>\n<p><code>live server</code> 不明白的可以百度看看，也是一个技巧。</p>\n',date:jn,path:"/posts/2021-03-19-用ajax请求获取数据"},{attributes:{title:"IE10的兼容性处理",date:xn,updated:"2021/12/01 09:01:54",categories:[n],tags:[g,m],thumb:s},html:'\x3c!-- more --\x3e\n<ol>\n<li>\n<p>IE10不支持箭头函数，写js的时候慎用。</p>\n</li>\n<li>\n<p>IE10下对js的语法要求严格，正常参数后如果没有多余的代码，写个<code>,</code>会报错，如果加了删掉就OK，Chrome下不会产生影响。</p>\n</li>\n<li>\n<p>zoom属性能不用，尽量别用。我在Chrome使用zoom进行大小调整，放到IE10运行，整个页面都错位了，找半天才想起来之前给一个容器设置了<code>zoom: 1.1;</code>，真是让人头大。</p>\n</li>\n<li>\n<p>IE10下<code>img</code>标签自带白边，在默认样式里面设置<code>border: none;</code>即可。</p>\n</li>\n</ol>\n<pre class="language-css"><code class="language-css"><span class="token selector">img</span> <span class="token punctuation">{</span>\n    <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<ol start="5">\n<li>\n<p>IE10能兼容大部分的html5新标签，唯独不能兼容 <code>main</code>。</p>\n</li>\n<li>\n<p>box-shadow 阴影属性其实IE10是支持的，但是需要注意语法问题，在普通浏览器color可以用<code>rgba</code>,<code>#</code>等写法，但是在IE10下，只能通过<code>#000000</code>写法，<code>#</code>和六位的颜色标记，不可以简写，否则不生效。</p>\n</li>\n<li>\n<p>IE10不兼容es6新语法。</p>\n</li>\n</ol>\n',date:xn,path:"/posts/2021-03-18-IE10的兼容性处理"},{attributes:{title:"window.scroll 方法只能存在一次该如何解决？",date:En,updated:"2021/12/01 09:01:36",categories:[n],tags:[m],thumb:s},html:'<p>页面监听是我们经常用的一个功能，下面两个段代码表示两个事件，分别在页面滚动500px和1000px的时候触发，在代码中使用了箭头函数。</p>\n\x3c!-- more --\x3e\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'scroll\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n   <span class="token keyword">var</span> scrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop \n   <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollTop <span class="token operator">></span> <span class="token number">500</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'滚动了500px\'</span><span class="token punctuation">)</span>\n   <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\nwindow<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'scroll\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n   <span class="token keyword">var</span> scrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop \n   <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollTop <span class="token operator">></span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'滚动了1000px\'</span><span class="token punctuation">)</span>\n   <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>但是后面又要求代码兼容到IE10，就不能采用这种写法了。然后我就想使用原生的<code>function</code>写法。</p>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// ...</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>在用的过程中我发现，如果只有一个<code>window.scroll</code>没有任何问题，但是如果有多个<code>window.scroll</code>，后面的就不会生效。</p>\n<p><strong>那么如何解决这个问题呢？</strong></p>\n<p><code>window.scroll</code>只能存在一次，第一个会生效，后面的不生效，可以通过js处理这个问题。</p>\n<pre class="language-JS"><code class="language-JS">function addEvent(type, toDo) {\n    if (window.attachEvent) {\n        window.attachEvent(\'on\' + type, function() {\n            toDo.call(window)\n        })\n    } else {\n        window.addEventListener(type, toDo, false)\n    }\n}\n\naddEvent(\'scroll\', function(){\n    console.log(\'第一次调用window.scroll\')\n}\n\naddEvent(\'scroll\', function(){\n    console.log(\'第一次调用window.scroll\')\n}\n</code></pre>\n<p>运行一下，多个<code>scroll</code>可以同时运行。</p>\n',date:En,path:"/posts/2021-03-17-window.scroll_方法只能存在一次该如何解决？"},{attributes:{title:"IE10下`,`符号不能留白",date:Sn,updated:"2021/12/01 09:00:54",categories:[n],tags:[l,m],thumb:s},html:'\x3c!-- more --\x3e\n<pre class="language-js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#test"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token function"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n<span class="token function">    $</span><span class="token punctuation">(</span><span class="token string">\'html,body\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">\'scrollTop\'</span><span class="token operator">:</span> <span class="token string">\'0\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>这行代码使用的是jquery的写法，一个500毫秒的动画，这样写在Chrome浏览器等没问题，可以正常运行。</p>\n<p>但是今天在写项目的过程中，要求代码兼容到IE10，没办法，被迫在IE浏览器下运行，结果发现这行代码会报错。这是怎么回事呢？</p>\n<p>简单分析一下，这有点类似js中定时器的写法，setimeout，两个参数，分别代表指定的时间，和定时时间。</p>\n<p>而animate是动画的属性，这个时间共花费500毫秒执行完毕。但是这个不是重点，为什么会报错呢？</p>\n<p>这时候我注意到500后面的<code>,</code>，我突然想到一种可能，先把<code>,</code>删掉。果然不出我所料。控制台不会报错了。</p>\n<p>我猜测，这是由IE的机制引起的，浏览器识别到<code>,</code>的时候，会自动默认后面跟有语句，但是如果空着不写，与浏览器预期的后果不同，就会产生报错。可能IE内核要求也比较严格吧。</p>\n',date:Sn,path:"/posts/2021-03-16-IE10下`,`符号不能留白"},{attributes:{title:"怎么让 css3 里面的动画属性看起来更流畅?",date:qn,updated:"2021/12/01 09:00:24",categories:[n],tags:[l],thumb:s},html:'<p>ps：先说点题外话，因为工作的原因很久没更新博客了，最近也是告一段落，处理一了一些事情之后可以安心坐下来，把我的博客重新整理一下。</p>\n\x3c!-- more --\x3e\n<p>今天要讲的是 css3 的一个新属性 <code>animation</code>，也算是一个回顾吧，我只是将平时如何使用，以及一些技巧分享出来。如果想学习更基础的内容，可以点击链接：<a href="https://www.runoob.com/css3/css3-animations.html">https://www.runoob.com/css3/css3-animations.html</a>，网上类似的教程还是蛮多的。</p>\n<p>这篇文章并不细讲动画的基础属性，而是稍微扩展一个话题：<strong>怎么让 css3 里面的动画属性看起来更流畅？</strong></p>\n<p>当然在讲之前还是要简单介绍一下 animation 基本属性。</p>\n<h3>animation 属性</h3>\n<p>animation 属性有下面几个值：</p>\n<ol>\n<li>@keyframes | 动画本身（最重要的）</li>\n<li>animation-name | 动画的名称</li>\n<li>animation-duration | 动画所经历的时间</li>\n<li>animation-fill-mode | 当属性为 forwards 时，动画停留在最后一帧</li>\n</ol>\n<p>动画主要可以用于一些官网特效，或者自适应的布局。</p>\n<h3>如何写一个最基本的动画</h3>\n<p>动画就是由一个状态到另一个状态的过程，比如从左到右的一个移动过程。</p>\n<p>首先要先了解各个属性具体的作用是什么，就拿从白到黑举个例子吧，首先写一个 <code>@keyframes</code> 的动画过程。</p>\n<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> leftright</span> <span class="token punctuation">{</span>\n    <span class="token selector">0%</span> <span class="token punctuation">{</span>\n        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token selector">100%</span> <span class="token punctuation">{</span>\n        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>100px<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>这段代码的意思就是有一个名为 <code>leftright</code> 的动画，将容器从左到右移动了 100px。</p>\n<p>然后我们进一步补全这个动画。</p>\n<pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>动画<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n        <span class="token selector">.demo</span> <span class="token punctuation">{</span>\n            <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n            <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n            <span class="token property">background</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>\n            <span class="token property">animation-name</span><span class="token punctuation">:</span> leftright<span class="token punctuation">;</span>\n            <span class="token property">animation-duration</span><span class="token punctuation">:</span> 1s<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token atrule"><span class="token rule">@keyframes</span> leftright</span> <span class="token punctuation">{</span>\n            <span class="token selector">0%</span> <span class="token punctuation">{</span>\n                <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token selector">100%</span> <span class="token punctuation">{</span>\n                <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>100px<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>然后我们到浏览器跑一下这个页面试试看，可以看到一个黑色的方块从左右移动了 100px 的距离，总计1秒完成。</p>\n<p>但是这个动画结束的很突兀，容器突然回到原地，这是为什么呢？因为我们没有保留最后一帧，这需要一个属性，最上面我们讲过了。</p>\n<pre class="language-css"><code class="language-css"><span class="token selector">.demo</span> <span class="token punctuation">{</span>\n    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>\n    <span class="token property">animation-name</span><span class="token punctuation">:</span> leftright<span class="token punctuation">;</span> <span class="token comment">/* 将动画的名称绑定到该标签 */</span>\n    <span class="token property">animation-duration</span><span class="token punctuation">:</span> 1s<span class="token punctuation">;</span>     <span class="token comment">/* 给动画的过程设一个时长 */</span>\n    <span class="token property">animation-fill-mode</span><span class="token punctuation">:</span> forwards<span class="token punctuation">;</span> <span class="token comment">/* 动画停留在最后一帧 */</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>运行一下，可以看到动画最后停住了。</p>\n<h3>让动画拥有一个惯性</h3>\n<p>我们仔细观察这个动画，发现他整个过程不拖泥带水，很迅速的完成了，但是我发现一个问题，整个过程不流畅圆滑，很死板，从左到右，一点也不圆滑。</p>\n<p>分析一下，因为缺少了一个日常生活的习惯动画，那就是惯性，这个属性可不存在啊，没法直接设置，只能通过动画本身的属性来进行调整，继续看这一段代码。</p>\n<pre class="language-css"><code class="language-css"> <span class="token atrule"><span class="token rule">@keyframes</span> leftright</span> <span class="token punctuation">{</span>\n    <span class="token selector">0%</span> <span class="token punctuation">{</span>\n        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token selector">100%</span> <span class="token punctuation">{</span>\n        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>100px<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p><code>0%</code>代表开始，<code>100%</code>代表结束，他们指的是一个时间节点，在这个时间点动画要运行到他们指定的位置。</p>\n<p>所以我们可以添加一个新的时间节点，<code>50%</code>，我们让当时间过了一半的时候，方块运行到 120px 的位置，然后再折回来。</p>\n<p>下面是完整的代码，可以复制到本地，自己运行一下试试看。</p>\n<pre class="language-css"><code class="language-css"><span class="token selector">&lt;!DOCTYPE html>\n&lt;html>\n&lt;head>\n    &lt;title>动画&lt;/title>\n    &lt;style>\n        .demo</span> <span class="token punctuation">{</span>\n            <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n            <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n            <span class="token property">background</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>\n            <span class="token property">animation-name</span><span class="token punctuation">:</span> leftright<span class="token punctuation">;</span>\n            <span class="token property">animation-duration</span><span class="token punctuation">:</span> 1s<span class="token punctuation">;</span>\n            <span class="token property">animation-fill-mode</span><span class="token punctuation">:</span> forwards<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token atrule"><span class="token rule">@keyframes</span> leftright</span> <span class="token punctuation">{</span>\n            <span class="token selector">0%</span> <span class="token punctuation">{</span>\n                <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token selector">50%</span> <span class="token punctuation">{</span>\n                <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>120px<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token selector">100%</span> <span class="token punctuation">{</span>\n                <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>100px<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    &lt;/style>\n&lt;/head>\n&lt;body>\n    &lt;div class=<span class="token string">"demo"</span>>&lt;/div>\n&lt;/body>\n&lt;/html>\n</code></pre>\n<p>修改完之后，到浏览器看一下效果。</p>\n<p>是不是流畅了很多，有了一种惯性的感觉，这一点在工作中如何遇到写动画的需求就很关键了，怎么让用户的体验更强，是一门技巧。</p>\n<p>虽说这都是一些基础的东西，但是我觉得体验感上去了，网站的回头率才会更高。打一个比方，去某个商城网站购物，整个页面看起来很舒服，特效细节很流畅，是不是就增加了购物的欲望。虽然这么说很浅薄，但是真的会有一些心里作用。</p>\n<p>如何用好动画特效，是一门学问，将 css 玩出花样来，可不是那么简单的。</p>\n',date:qn,path:"/posts/2021-03-14-怎么让_css3_里面的动画属性看起来更流畅_"},{attributes:{title:"chrome浏览器无法显示12px以下的字体",date:Cn,updated:"2021/12/01 08:59:25",categories:[n],tags:[l,g],thumb:s},html:'<p>最近正在面试，遇到了很多有意思的东西，比如今天，在面试前先做了一套面试题，其中有这么一道题，觉得挺有意思，之前也没见过，就打算记录下来。</p>\n\x3c!-- more --\x3e\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- chrome浏览器12px字体大小以下无法显示，均显示为12px，应该怎么解决。 --\x3e</span>\n</code></pre>\n<p>我确实有点蒙，在之前写代码的时候，没有遇到过这样的情况，不过既然这样问了，就得想出解决的办法。</p>\n<p>首先我想到之前的一个问题，0.5px 的边框该如何实现，通过 scale(0.5) 可以实现，这是 css3 新属性。</p>\n<p>所以当时我就写了通过 <code>transform:scale()</code> 可以实现。不过后续在面试的中，面试官也没有提及这些问题。</p>\n<hr>\n<p>回到家之后，吃完饭坐在电脑旁，正准备逛一逛 github ，突然想起来了这么一个问题，就自己测试了一遍：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> 13px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    测试\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    测试\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> 11px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    测试\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@225175a52a04387f9c9f7fb0c6070626d640b0ef/2021/02/26/d3c345e515d6a29d9ff49f78382ac95b.png" alt=""></p>\n<p>竟然真的存在这样的问题，Chrome 12px 以下的字体无法正常显示，均显示为12px。</p>\n<p>然后我用 scale 设置了一下属性，</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> 13px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    测试\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    测试\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">font-size</span><span class="token punctuation">:</span> 11px<span class="token punctuation">;</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    测试\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@b195c8efe1939100f04b5150926e843d4c7446dd/2021/02/26/9e5f13c26524aae53acbc9bd5edd57f9.png" alt=""></p>\n<p>字体确实可以再次缩小到自己想到的程度，但是存在一些弊端，所有带有长度的属性均被缩小，比如图中的div的长度，本来默认是 <code>100%</code> ，但是显示只有原来的一半了。</p>\n<p>虽然存在这么个问题，但是按照我自己的预估，平时我们浏览的网站基本没有低于12px大小的字体吧！反正我是没有遇到过，我估计面试题也是想考验我们对一些生僻知识的处理吧，不过也不算生僻，前有0.5px，后有12px，其实都大同小异。</p>\n<p>在遇到这个问题的时候，确实可以通过 <code>scale()</code> 处理一下，然后在认真设置其他属性，尽量避免更多的弊端。</p>\n',date:Cn,path:"/posts/2021-02-26-chrome浏览器无法显示12px以下的字体"},{attributes:{title:"使用宝塔面板安装 autoPicCdn 图床工具",date:In,updated:"2021/12/01 08:57:26",categories:[n],tags:[b],thumb:s},html:'<p>很多小伙伴在做个人网站或者博客时，总能用到各种各样的图床工具，毕竟在写文章的时候需要插入一些图片，我也不例外，来盘点一下之前用的工具，</p>\n\x3c!-- more --\x3e\n<ol>\n<li>最开始是找一些免费的图床网站，比如sm.ms等，但是后来为了安全性和稳定性考虑放弃了这种。</li>\n<li>然后是在 github，gitee 仓库存储的（缺点就是github访问速度有些尴尬，gitee其实挺好的，但时用起来怪怪的）</li>\n<li>阿里云oss储存桶（挺好使的，搭配picgo软件，一年也才9.9，但是链接很尴尬，直接下载，无法右键访问图片，搜过了解决办法，嫌太麻烦就搁置了，至今在那放着）</li>\n<li>后来在自己的服务器建一个网站，把图片放进去，使用的时候直接引用链接（缺点就是上传太麻烦，然后就是图片太占内存了，影响服务器的性能）</li>\n<li>然后就是今天的重头戏，autoPicCdn ，一款开源软件</li>\n</ol>\n<p>也是基于github实现图床功能，后来才知道可以用 jsdelivr 给资源进行加速，autoPicCdn 就是基于这样的功能实现。</p>\n<p>今天就讲讲用宝塔面板配置 autoPicCdn 的流程吧！</p>\n<h3>准备工作</h3>\n<ol>\n<li>进入 github 仓库下载资源到本地。<br>\n<a href="https://github.com/yumusb/autoPicCdn">https://github.com/yumusb/autoPicCdn</a></li>\n</ol>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@98daf8b68f2d5f1beca63efdf831e8004211a7f3/2021/02/25/c5afee4580eb4e9ab70e48e79024efa9.png" alt=""></p>\n<ol start="2">\n<li>在 github 建立一个新的仓库，自由命名，我的是 shuxhan/pic-cdn ，简单易懂</li>\n<li>去这个页面 <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>生成一个有写权限的 token（repo：Full control of private repositories 和write:packages 前打勾，然后点击确定，会生成一个 token码，<strong>记住它，最好复制到你的记事本，不然一刷新网页就不会再显示了</strong></li>\n</ol>\n<p>然后解压。</p>\n<h3>上传到服务器</h3>\n<p>先利用自己的域名添加一个新的站点，比如我使用的是 <a href="https://img.shuxhan.com">img.shuxhan.com</a> ，然后建立数据库。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@9947d54e9552a26bba8cee0810416de5a07ecfdc/2021/02/25/22154c6e873e4741530c0344940069b2.png" alt=""></p>\n<p>站点建立成功后，进入目录将默认生成的文件删除，然后点击上传，找到刚才解压的文件，点击上传即可。</p>\n<h3>配置文件</h3>\n<p>找到目录中的 up.php 配置文件，</p>\n<p>将下面两个地方配置好，具体的内容在代码里。</p>\n<pre class="language-php"><code class="language-php"><span class="token comment">//必选项</span>\n<span class="token function">define</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"TYPE"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">"GITHUB"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//选择github</span>\n<span class="token comment">//define("TYPE","GITEE");//选择gitee，如果使用gitee，需要手动建立master分支，可以看这里 https://gitee.com/help/articles/4122</span>\n\n<span class="token function">define</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"USER"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">"shuxhan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//你的GitHub/Gitee的用户名</span>\n\n<span class="token function">define</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"REPO"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">"pic-cdn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//必须是上面用户名下的 公开仓库</span>\n\n<span class="token function">define</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"MAIL"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">"shuxhan@163.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//邮箱无所谓，随便写</span>\n\n<span class="token function">define</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"TOKEN"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">"971b0a96ff5af545d5fe081f829cf5542007e70b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// Github 去这个页面 https://github.com/settings/tokens生成一个有写权限的token（repo：Full control of private repositories 和write:packages前打勾）</span>\n<span class="token comment">// gitee  去往这个页面 https://gitee.com/personal_access_tokens</span>\n</code></pre>\n<pre class="language-php"><code class="language-php"><span class="token comment">//数据库配置文件</span>\n<span class="token comment">//请确保把当前目录下的 pic.sql 导入到你的数据库</span>\n<span class="token variable">$database</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>\n    <span class="token single-quoted-string string">\'dbname\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">\'img\'</span><span class="token punctuation">,</span><span class="token comment">//你的数据库名字</span>\n    <span class="token single-quoted-string string">\'host\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">\'localhost\'</span><span class="token punctuation">,</span>\n    <span class="token single-quoted-string string">\'port\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">3306</span><span class="token punctuation">,</span>\n    <span class="token single-quoted-string string">\'user\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">\'img\'</span><span class="token punctuation">,</span><span class="token comment">//你的数据库用户名</span>\n    <span class="token single-quoted-string string">\'pass\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">\'img\'</span><span class="token punctuation">,</span><span class="token comment">//你的数据库用户名对应的密码</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>然后最重要的一步是，将目录下的 pic.sql 导入刚才建立并链接的数据库，先右键复制 pic.sql 文件，然后进入路径</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@69d571697df734f1755b7eed183475b61176a37f/2021/02/25/8d1badf54c5439b18c8dd8334357183c.png" alt=""></p>\n<p>点击粘贴即可。</p>\n<h3>测试访问</h3>\n<p>打开你的浏览器，输入绑定的站点</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@891b73e65bdc34d266065dc0f1b2bd234e6def56/2021/02/25/a5a7c37f2f0312035c54726c9d1cd46f.png" alt=""></p>\n<p>然后随便截个图，然后拖动到上传窗口，显示上传成功，下面是图片的廉价，复制 markdown 可以在写文章的时候使用辣！</p>\n<p><img src="https://cdn.jsdelivr.net/gh/shuxhan/pic-cdn@ff0049589d0e277fa7a0ad1c935ef8cbfcfb9f2b/2021/02/25/908c287c823d4ceb7752e9071cde6737.png" alt=""></p>\n<p>通过 jsdelivr 加速，结果非常令人满意，以后就决定使用 github + jsdelivr + autoPicCdn 来做图床工具啦！</p>\n',date:In,path:"/posts/2021-02-25-使用宝塔面板安装_autoPicCdn_图床工具"},{attributes:{title:"typecho 博客小表情无法显示问题",date:Rn,updated:"2021/12/01 08:56:57",categories:[n],tags:[e,i],thumb:s},html:'<p>typecho 博客建立完成之后，会发现如果插入一些小表情，页面渲染完之后，表情不会显示，并且表情之后的内容全部消失，导致体验感很差。</p>\n<p>表情无法显示的原因是 uft-8 编码的问题，无法识别小表情，需要将其改成 utf8mb4</p>\n\x3c!-- more --\x3e\n<h3>第一步，进入数据库</h3>\n<p>首先登陆博客后台的数据库，然后点击 sql ，输入下列代码：</p>\n<pre class="language-sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> typecho_comments <span class="token keyword">convert</span> <span class="token keyword">to</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4 <span class="token keyword">collate</span> utf8mb4_unicode_ci<span class="token punctuation">;</span>\n<span class="token keyword">alter</span> <span class="token keyword">table</span> typecho_contents <span class="token keyword">convert</span> <span class="token keyword">to</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4 <span class="token keyword">collate</span> utf8mb4_unicode_ci<span class="token punctuation">;</span>\n<span class="token keyword">alter</span> <span class="token keyword">table</span> typecho_fields <span class="token keyword">convert</span> <span class="token keyword">to</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4 <span class="token keyword">collate</span> utf8mb4_unicode_ci<span class="token punctuation">;</span>\n<span class="token keyword">alter</span> <span class="token keyword">table</span> typecho_metas <span class="token keyword">convert</span> <span class="token keyword">to</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4 <span class="token keyword">collate</span> utf8mb4_unicode_ci<span class="token punctuation">;</span>\n<span class="token keyword">alter</span> <span class="token keyword">table</span> typecho_options <span class="token keyword">convert</span> <span class="token keyword">to</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4 <span class="token keyword">collate</span> utf8mb4_unicode_ci<span class="token punctuation">;</span>\n<span class="token keyword">alter</span> <span class="token keyword">table</span> typecho_relationships <span class="token keyword">convert</span> <span class="token keyword">to</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4 <span class="token keyword">collate</span> utf8mb4_unicode_ci<span class="token punctuation">;</span>\n<span class="token keyword">alter</span> <span class="token keyword">table</span> typecho_users <span class="token keyword">convert</span> <span class="token keyword">to</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4 <span class="token keyword">collate</span> utf8mb4_unicode_ci<span class="token punctuation">;</span>\n</code></pre>\n<p>直接复制，然后点击右下角的执行</p>\n<h3>第二步，修改 typecho 配置文件</h3>\n<p>我使用的宝塔面板，点击左侧 <code>网站</code> ，然后点击我们这个网站的根目录，进入之后，可以找到一个 <code>config.inc.php</code> 的文件，进入然后滑到最下面。</p>\n<p>**可以发现 <code>\'charset\' =&gt; \'utf8\',</code>**下面我为了更直观的显示，将其注释掉，重新写的，实际操作中，将 <code>utf8</code> 改为 <code>utf8mb4</code> 即可。</p>\n<pre class="language-php"><code class="language-php"><span class="token comment">/** 定义数据库参数 */</span>\n<span class="token variable">$db</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Typecho_Db</span><span class="token punctuation">(</span><span class="token single-quoted-string string">\'Pdo_Mysql\'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">\'typecho_\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token variable">$db</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">addServer</span><span class="token punctuation">(</span><span class="token keyword">array</span> <span class="token punctuation">(</span>\n  <span class="token single-quoted-string string">\'host\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">\'localhost\'</span><span class="token punctuation">,</span>\n  <span class="token single-quoted-string string">\'user\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">\'blog\'</span><span class="token punctuation">,</span>\n  <span class="token single-quoted-string string">\'password\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">\'blog\'</span><span class="token punctuation">,</span>\n  <span class="token comment">/** \'charset\' => \'utf8\', */</span>\n  <span class="token single-quoted-string string">\'charset\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">\'utf8mb4\'</span><span class="token punctuation">,</span>\n  <span class="token single-quoted-string string">\'port\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">\'3306\'</span><span class="token punctuation">,</span>\n  <span class="token single-quoted-string string">\'database\'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">\'blog\'</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span> Typecho_Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">READ</span> <span class="token operator">|</span> Typecho_Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">WRITE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nTypecho_Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token variable">$db</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>在文章后台重新输入小表情，然后保存回到页面，小表情成功显示了。</p>\n',date:Rn,path:"/posts/2021-02-04-typecho_博客小表情无法显示问题"},{attributes:{title:"掘金个人主页头像旋转效果",date:Tn,updated:"2021/12/01 08:56:29",categories:[n],tags:[l],thumb:s},html:'<p>在浏览掘金社区的时候，发现一个很有意思的小彩蛋，在个人主页将鼠标悬浮在头像上，会不停的加速旋转，我感觉挺有意思，f12 看看这个样式怎么写的，发现用到了 css3 的相关技术。</p>\n\x3c!-- more --\x3e\n<p>下面是具体代码，img 是头像元素，直接写在 hover 中即可。</p>\n<pre class="language-css"><code class="language-css"><span class="token selector">img:hover</span> <span class="token punctuation">{</span>\n    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>666turn<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token property">transition-delay</span><span class="token punctuation">:</span> 1s<span class="token punctuation">;</span>\n    <span class="token property">transition-property</span><span class="token punctuation">:</span> all<span class="token punctuation">;</span>\n    <span class="token property">transition-duration</span><span class="token punctuation">:</span> 59s<span class="token punctuation">;</span>\n    <span class="token property">transition-timing-function</span><span class="token punctuation">:</span> <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.34<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.84<span class="token punctuation">,</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>ps：今天是2021年2月4号，农历腊月二十三，传统的小年，祝朋友们小年愉快。不知不觉，快过年了。</p>\n',date:Tn,path:"/posts/2021-02-03-掘金个人主页头像旋转效果"},{attributes:{title:"ES5 和 ES6 的区别？",date:_n,updated:"2021/12/01 08:55:55",categories:[n],tags:[p,"ES6"],thumb:s},html:'\x3c!-- more --\x3e\n<h2>一、javascript 由三部分组成</h2>\n<h3>1.ECMAScript（核心）</h3>\n<p>它规定了语言的组成部分：法语，类型，语句，关键字，操作符等等。</p>\n<p><img src="https://shuxhan-imgbed.oss-cn-hangzhou.aliyuncs.com/img/20210120215430.png" alt=""></p>\n<h3>2.DOM（文档对象模型）</h3>\n<p>DOM 把整个页面映射为一个多层节点结果，开发人员可借助DOM提供的API，轻松地删除、添加、替换或修改任何节点。</p>\n<p><img src="https://shuxhan-imgbed.oss-cn-hangzhou.aliyuncs.com/img/20210120215524.png" alt=""></p>\n<h3>3.BOM（浏览器对象模型）</h3>\n<p>支持可以访问和操作浏览器窗口的浏览器对象模型，开发人员可以控制浏览器显示的页面以外的部分。</p>\n<h2>二、什么是ES5？</h2>\n<p>作为ECMAScript第五个版本（第四版因为过于复杂废弃了），浏览器支持情况可看第一副图，增加特性如下。</p>\n<h3>1.strict模式</h3>\n<p>严格模式，限制一些用法，\'use strict\';</p>\n<h3>2.Array增加方法</h3>\n<p>增加了every、some 、forEach、filter 、indexOf、lastIndexOf、isArray、map、reduce、reduceRight方法</p>\n<p>PS： 还有其他方法 Function.prototype.bind、String.prototype.trim、Date.now</p>\n<h3>3.Object方法</h3>\n<ul>\n<li>Object.getPrototypeOf</li>\n<li>Object.create</li>\n<li>Object.getOwnPropertyNames</li>\n<li>Object.defineProperty</li>\n<li>Object.getOwnPropertyDescriptor</li>\n<li>Object.defineProperties</li>\n<li>Object.keys</li>\n<li>Object.preventExtensions / Object.isExtensible</li>\n<li>Object.seal / Object.isSealed</li>\n<li>Object.freeze / Object.isFrozen</li>\n</ul>\n<p>PS：只讲有什么，不讲是什么。</p>\n<h3>2.什么是ES6?</h3>\n<p>ECMAScript6在保证向下兼容的前提下，提供大量新特性，目前浏览器兼容情况如下：</p>\n<p><strong>ES6特性如下：</strong></p>\n<ol>\n<li>\n<p>块级作用域 关键字let, 常量const</p>\n</li>\n<li>\n<p>对象字面量的属性赋值简写（property value shorthand）</p>\n</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token comment">// __proto__</span>\n    __proto__<span class="token operator">:</span> theProtoObj<span class="token punctuation">,</span>\n    <span class="token comment">// Shorthand for ‘handler: handler’</span>\n    handler<span class="token punctuation">,</span>\n    <span class="token comment">// Method definitions</span>\n    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// Super calls</span>\n    <span class="token keyword">return</span> <span class="token string">"d "</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">// Computed (dynamic) property names</span>\n    <span class="token punctuation">[</span> <span class="token string">\'prop_\'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">42</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<ol start="3">\n<li>赋值解构</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> singer <span class="token operator">=</span> <span class="token punctuation">{</span> first<span class="token operator">:</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> last<span class="token operator">:</span> <span class="token string">"Dylan"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> <span class="token punctuation">{</span> first<span class="token operator">:</span> f<span class="token punctuation">,</span> last<span class="token operator">:</span> l <span class="token punctuation">}</span> <span class="token operator">=</span> singer<span class="token punctuation">;</span> <span class="token comment">// 相当于 f = "Bob", l = "Dylan"</span>\n<span class="token keyword">let</span> <span class="token punctuation">[</span>all<span class="token punctuation">,</span> year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">]</span> <span class="token operator">=</span>  <span class="token regex">/^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">"2015-10-25"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// x = 1, y = 2</span>\n</code></pre>\n<ol start="4">\n<li>函数参数 - 默认值、参数打包、 数组展开（Default 、Rest 、Spread）</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token comment">//Default</span>\n<span class="token keyword">function</span> <span class="token function">findArtist</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">\'lu\'</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token string">\'26\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token operator">...</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">//Rest</span>\n<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> <span class="token operator">...</span>y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// y is an Array</span>\n  <span class="token keyword">return</span> x <span class="token operator">*</span> y<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span>\n\n<span class="token comment">//Spread</span>\n<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// Pass each elem of array as argument</span>\n<span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span>\n</code></pre>\n<ol start="5">\n<li>箭头函数 Arrow functions</li>\n</ol>\n<p>(1) 简化了代码形式，默认return表达式结果。</p>\n<p>(2) 自动绑定语义this，即定义函数时的this。如上面例子中，forEach的匿名函数参数中用到的this。</p>\n<p>6.字符串模板 Template strings</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> time <span class="token operator">=</span> <span class="token string">"today"</span><span class="token punctuation">;</span>\n<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, how are you </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?</span><span class="token template-punctuation string">`</span></span>\n<span class="token comment">// return "Hello Bob, how are you today?"</span>\n</code></pre>\n<ol start="7">\n<li>Iterators（迭代器）+ for..of</li>\n</ol>\n<p>迭代器有个next方法，调用会返回：</p>\n<p>(1) 返回迭代对象的一个元素：{ done: false, value: elem }</p>\n<p>(2) 如果已到迭代对象的末端：{ done: true, value: retVal }</p>\n<pre><code>for (var n of [\'a\',\'b\',\'c\']) {\n  console.log(n);\n}\n// 打印a、b、c\n</code></pre>\n<ol start="8">\n<li>\n<p>生成器 （Generators）</p>\n</li>\n<li>\n<p>Class</p>\n</li>\n</ol>\n<p>Class，有constructor、extends、super，但本质上是语法糖（对语言的功能并没有影响，但是更方便程序员使用）。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Artist</span> <span class="token punctuation">{</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">perform</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">" performs "</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Singer</span> <span class="token keyword">extends</span> <span class="token class-name">Artist</span> <span class="token punctuation">{</span>\n\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> song</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>song <span class="token operator">=</span> song<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">perform</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"["</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>song <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">let</span> james <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singer</span><span class="token punctuation">(</span><span class="token string">"Etta James"</span><span class="token punctuation">,</span> <span class="token string">"At last"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\njames <span class="token keyword">instanceof</span> <span class="token class-name">Artist</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\njames <span class="token keyword">instanceof</span> <span class="token class-name">Singer</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n\njames<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Etta James performs [At last]"</span>\n</code></pre>\n<ol start="10">\n<li>Modules</li>\n</ol>\n<p>ES6的内置模块功能借鉴了CommonJS和AMD各自的优点：</p>\n<p>(1) 具有CommonJS的精简语法、唯一导出出口(single exports)和循环依赖(cyclic dependencies)的特点。</p>\n<p>(2) 类似AMD，支持异步加载和可配置的模块加载。</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// lib/math.js</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">export</span> <span class="token keyword">var</span> pi <span class="token operator">=</span> <span class="token number">3.141593</span><span class="token punctuation">;</span>\n\n<span class="token comment">// app.js</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> math <span class="token keyword">from</span> <span class="token string">"lib/math"</span><span class="token punctuation">;</span>\n<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"2π = "</span> <span class="token operator">+</span> math<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// otherApp.js</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>sum<span class="token punctuation">,</span> pi<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lib/math"</span><span class="token punctuation">;</span>\n<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"2π = "</span> <span class="token operator">+</span> <span class="token function">sum</span><span class="token punctuation">(</span>pi<span class="token punctuation">,</span> pi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nModule Loaders<span class="token operator">:</span>\n<span class="token comment">// Dynamic loading – ‘System’ is default loader</span>\nSystem<span class="token punctuation">.</span><span class="token function">import</span><span class="token punctuation">(</span><span class="token string">\'lib/math\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"2π = "</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> m<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// Directly manipulate module cache</span>\nSystem<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">\'jquery\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nSystem<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'jquery\'</span><span class="token punctuation">,</span> <span class="token function">Module</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$<span class="token operator">:</span> $<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// WARNING: not yet finalized</span>\n</code></pre>\n<ol start="11">\n<li>Map + Set + WeakMap + WeakSet</li>\n</ol>\n<p>四种集合类型，WeakMap、WeakSet作为属性键的对象如果没有别的变量在引用它们，则会被回收释放掉。</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// Sets</span>\n<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\ns<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"goodbye"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\ns<span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">;</span>\ns<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n\n<span class="token comment">// Maps</span>\n<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">34</span><span class="token punctuation">;</span>\n\n<span class="token comment">//WeakMap</span>\n<span class="token keyword">var</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nwm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token punctuation">{</span> extra<span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nwm<span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token keyword">undefined</span>\n\n<span class="token comment">// Weak Sets</span>\n<span class="token keyword">var</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nws<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Because the added object has no other references, it will not be held in the set</span>\n</code></pre>\n<ol start="12">\n<li>Math + Number + String + Array + Object APIs</li>\n</ol>\n<p>一些新的API</p>\n<pre class="language-js"><code class="language-js">Number<span class="token punctuation">.</span><span class="token constant">EPSILON</span>\nNumber<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span> <span class="token comment">// false</span>\nNumber<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">"NaN"</span><span class="token punctuation">)</span> <span class="token comment">// false</span>\n\nMath<span class="token punctuation">.</span><span class="token function">acosh</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 1.762747174039086</span>\nMath<span class="token punctuation">.</span><span class="token function">hypot</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// 5</span>\nMath<span class="token punctuation">.</span><span class="token function">imul</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>\n\n<span class="token string">"abcde"</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"cd"</span><span class="token punctuation">)</span> <span class="token comment">// true</span>\n<span class="token string">"abc"</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// "abcabcabc"</span>\n\nArray<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">\'*\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Returns a real Array</span>\nArray<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// Similar to new Array(...), but without special one-arg behavior</span>\n\n<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// [0,7,7]</span>\n<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=></span> x <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>\n<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=></span> x <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>\n<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 1, 2]</span>\n<span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// iterator [0, "a"], [1,"b"], [2,"c"]</span>\n<span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// iterator 0, 1, 2</span>\n<span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// iterator "a", "b", "c"</span>\n\nObject<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>Point<span class="token punctuation">,</span> <span class="token punctuation">{</span> origin<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<ol start="13">\n<li>Proxies</li>\n</ol>\n<p>使用代理（Proxy）监听对象的操作，然后可以做一些相应事情。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">receiver<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>\np<span class="token punctuation">.</span>world <span class="token operator">===</span> <span class="token string">\'Hello, world!\'</span><span class="token punctuation">;</span>\n</code></pre>\n<p>可监听的操作： get、set、has、deleteProperty、apply、construct、getOwnPropertyDescriptor、defineProperty、getPrototypeOf、setPrototypeOf、enumerate、ownKeys、preventExtensions、isExtensible。</p>\n<ol start="14">\n<li>Symbols</li>\n</ol>\n<p>Symbol是一种基本类型。Symbol 通过调用symbol函数产生，它接收一个可选的名字参数，该函数返回的symbol是唯一的。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> key <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> key2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nkey <span class="token operator">==</span> key2  <span class="token comment">//false</span>\n</code></pre>\n<ol start="15">\n<li>Promises</li>\n</ol>\n<p>Promises是处理异步操作的对象，使用了 Promise 对象之后可以用一种链式调用的方式来组织代码，让代码更加直观（类似jQuery的deferred 对象）。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fakeAjax</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// setTimeouts are for effect, typically we would handle XHR</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>reject<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// no url, promise rejected</span>\n<span class="token function">fakeAjax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'success\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n',date:_n,path:"/posts/2021-01-20-ES5_和_ES6_的区别？_"},{attributes:{title:"webpack 的核心概念和构建流程",date:Dn,updated:"2021/12/01 08:55:30",categories:[n],tags:[p,y],thumb:s},html:'\x3c!-- more --\x3e\n<h2>1.webpack 的核心概念</h2>\n<ol>\n<li><strong>entry（入口）</strong>：一个可执行模块或者库的入口。定义了打包后的入口文件。</li>\n<li><strong>output（出口）</strong>：指示 webpack 如何去输出，以及在哪里输出。<br>\npath: 打包文件存放的绝对路径<br>\npublicPath: 网站运行时的访问路径<br>\nfilename: 打包后的文件名</li>\n<li><strong>module（模块）</strong>：在 webpack 里，一切皆模块，一个模块对应一个文件。webpack 会从配置的 entry 中开始递归找出所有依赖的模块。</li>\n<li><strong>chunk（代码块）</strong>：一个 <code>chunk</code> 由多个 <code>模块</code> 组合而成。可以将可执行的模块和他所依赖的模块组合成一个 chunk ，这就是打包。</li>\n<li><strong>loader（模块转换器）</strong>：用于把一个模块原内容按照需求转换成新的内容。例如：es6 转换为 es5，scss 转换为 css 等。</li>\n<li><strong>plugin（扩展）</strong>：扩展webpack功能的插件。在webpack构建的生命周期节点上加入扩展hook，添加功能。</li>\n</ol>\n<h2>2.webpack 构建流程</h2>\n<ol>\n<li><strong>初始化参数</strong>：解析 webpack 的配置参数，合并 shell 传入和 webpack.config.js 文件配置的参数，形成最后的配置结果。</li>\n<li><strong>开始编译</strong>：上一步得到的参数初始化 compiler 对象，注册所有配置的插件，插件监听 webpack 构建生命周期的事件节点，做出相应的反应，执行对象的 run 方法开始执行编译。</li>\n<li><strong>确定入口</strong>：其配置的 entry 入口，开始解析文件构建的 AST 语法树，找出依赖，递归下去。</li>\n<li><strong>编译模块</strong>：根据文件类型和 loader 配置，调用所有配置的 loader 对文件进行转换，再找出该模块依赖的模块，再递归本步骤知道所有入口依赖的文件都经过了本步骤的处理。</li>\n<li><strong>完成模块编译并输出</strong>：递归完后，得到每个文件结果，包含了每个模块及她们之间的依赖关系，根据 entry 配置生成代码块 chunk 。</li>\n<li><strong>输出完成</strong>：输出所有的 chunk 到文件系统。</li>\n</ol>\n<h2>3.有哪些常见的 loader ？</h2>\n<ol>\n<li>babel-loader：把es6转成es5；</li>\n<li>css-loader：加载css，支持模块化，压缩，文件导入等特性；</li>\n<li>style-loader：把css代码注入到js中，通过dom操作去加载css；</li>\n<li>eslint-loader：通过Eslint检查js代码；</li>\n<li>image-loader：加载并且压缩图片晚间；</li>\n<li>file-loader：文件输出到一个文件夹中，在代码中通过相对url去引用输出的文件；</li>\n<li>url-loader：和file-loader类似，文件很小的时候可以base64方式吧文件内容注入到代码中。</li>\n<li>source-map-loader：加载额外的source map文件，方便调试。</li>\n</ol>\n<h2>4.业务场景和对应解决方案</h2>\n<h3>1.单页应用</h3>\n<p>一个单页应用需要配置一个entry指明执行入口，web-webpack-plugin里的WebPlugin可以自动的完成这些工作：webpack会为entry生成一个包含这个入口的所有依赖文件的chunk，但是还需要一个html来加载chunk生成的js，如果还提取出css需要HTML文件中引入提取的css。</p>\n<p>一个简单的webpack配置文件例子：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> WebPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'web-webpack-plugin\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  entry<span class="token operator">:</span> <span class="token punctuation">{</span>\n    app<span class="token operator">:</span> <span class="token string">\'./src/doc/index.js\'</span><span class="token punctuation">,</span>\n    home<span class="token operator">:</span> <span class="token string">\'./src/doc/home.js\'</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token comment">// 一个WebPlugin对应生成一个html文件</span>\n    <span class="token keyword">new</span> <span class="token class-name">WebPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      <span class="token comment">//输出的html文件名称</span>\n      filename<span class="token operator">:</span> <span class="token string">\'index.html\'</span><span class="token punctuation">,</span>\n      <span class="token comment">//这个html依赖的`entry`</span>\n      requires<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">\'app\'</span><span class="token punctuation">,</span><span class="token string">\'home\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<blockquote>\n<p>说明：require: [\'app\', \'home\']指明这个html依赖哪些entry，entry生成的js和css会自动注入到html中。</p>\n</blockquote>\n<p>还支持配置这些资源注入方式，支持如下属性：</p>\n<ol>\n<li>_dist只有在生产环境中才引入的资源；</li>\n<li>_dev只有在开发环境中才引入的资源；</li>\n<li>_inline把资源的内容潜入到html中；</li>\n<li>_ie只有IE浏览器才需要引入的资源。</li>\n</ol>\n<p>这些属性可以通过在js里配置，看个简单例子：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">WebPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    filename<span class="token operator">:</span> <span class="token string">\'index.html\'</span><span class="token punctuation">,</span>\n    requires<span class="token operator">:</span> <span class="token punctuation">{</span>\n         app<span class="token operator">:</span><span class="token punctuation">{</span>\n              _dist<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>\n              _inline<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>\n         <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre>\n<p>这些属性还可以在模板中设置，使用模板好处就是可以灵活的控制资源的注入点</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">WebPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      filename<span class="token operator">:</span> <span class="token string">\'index.html\'</span><span class="token punctuation">,</span>\n      template<span class="token operator">:</span> <span class="token string">\'./template.html\'</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre>\n<pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zh-cn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app?_inline<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ie-polyfill?_ie<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>react-body<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>WebPlugin插件借鉴了fis3的思想，补足了webpack缺失的以HTML为入口的功能。想了解WebPlugin的更多功能，见文档。</p>\n<h3>2.一个项目管理多个单页面</h3>\n<p>一个项目中会包含多个单页应用，虽然多个单页面应用可以合成一个，但是这样做会导致用户没有访问的部分也加载了，如果项目中有很多的单页应用。为每一个单页应用配置一个entry和WebPlugin？如果又新增，又要新增webpack配置，这样做麻烦，这时候有一个插件web-webpack-plugin里的AutoWebPlugin方法可以解决这些问题。</p>\n<pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token comment">// 所有页面的入口目录</span>\n        <span class="token keyword">new</span> <span class="token class-name">AutoWebPlugin</span><span class="token punctuation">(</span><span class="token string">\'./src/\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p><strong>分析：</strong></p>\n<ol>\n<li><code>AutoWebPlugin</code>会把./src/目录下所有每个文件夹作为一个单页页面的入口，自动为所有的页面入口配置一个 <code>WebPlugin</code> 输出对应的html。</li>\n<li>要新增一个页面就在 <code>./src/</code> 下新建一个文件夹包含这个单页应用所依赖的代码，<code>AutoWebPlugin</code> 自动生成一个名叫文件夹名称的html文件。</li>\n</ol>\n<h3>3.代码分隔优化</h3>\n<p>一个好的代码分割对浏览器首屏效果提升很大。</p>\n<p><strong>最常见的react体系：</strong></p>\n<ol>\n<li>先抽出基础库react react-dom redux react-redux到一个单独的文件而不是和其它文件放在一起打包为一个文件，这样做的好处是只要你不升级他们的版本这个文件永远不会被刷新。如果你把这些基础库和业务代码打包在一个文件里每次改动业务代码都会导致文件hash值变化从而导致缓存失效浏览器重复下载这些包含基础库的代码。所以把基础库打包成一个文件。</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token comment">// vender.js 文件抽离基础库到单独的一个文件里防止跟随业务代码被刷新</span>\n<span class="token comment">// 所有页面都依赖的第三方库</span>\n<span class="token comment">// react基础</span>\n<span class="token keyword">import</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'react-dom\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'react-redux\'</span><span class="token punctuation">;</span>\n<span class="token comment">// redux基础</span>\n<span class="token keyword">import</span> <span class="token string">\'redux\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'redux-thunk\'</span><span class="token punctuation">;</span>\n<span class="token comment">// webpack配置</span>\n<span class="token punctuation">{</span>\n  entry<span class="token operator">:</span> <span class="token punctuation">{</span>\n    vendor<span class="token operator">:</span> <span class="token string">\'./path/to/vendor.js\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<ol start="2">\n<li>通过CommonsChunkPlugin可以提取出多个代码块都依赖的代码形成一个单独的chunk。在应用有多个页面的场景下提取出所有页面公共的代码减少单个页面的代码，在不同页面之间切换时所有页面公共的代码之前被加载过而不必重新加载。所以通过CommonsChunkPlugin可以提取出多个代码块都依赖的代码形成一个单独的chunk。</li>\n</ol>\n<h3>4.构建服务端渲染</h3>\n<p>服务端渲染的代码要运行在nodejs环境，和浏览器不同的是，服务端渲染代码需要采用commonjs规范同时不应该包含除js之外的文件比如css。</p>\n<p>webpack配置如下：</p>\n<pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  target<span class="token operator">:</span> <span class="token string">\'node\'</span><span class="token punctuation">,</span>\n  entry<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string">\'server_render\'</span><span class="token operator">:</span> <span class="token string">\'./src/server_render\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  output<span class="token operator">:</span> <span class="token punctuation">{</span>\n    filename<span class="token operator">:</span> <span class="token string">\'./dist/server/[name].js\'</span><span class="token punctuation">,</span>\n    libraryTarget<span class="token operator">:</span> <span class="token string">\'commonjs2\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  module<span class="token operator">:</span> <span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex">/\\.js$/</span><span class="token punctuation">,</span>\n        loader<span class="token operator">:</span> <span class="token string">\'babel-loader\'</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex">/\\.(scss|css|pdf)$/</span><span class="token punctuation">,</span>\n        loader<span class="token operator">:</span> <span class="token string">\'ignore-loader\'</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p><strong>分析一下：</strong></p>\n<ol>\n<li><code>target: \'node\'</code> 指明构建出代码要运行在node环境中。</li>\n<li><code>libraryTarget: \'commonjs2\'</code> 指明输出的代码要是 commonjs 规范。</li>\n<li><code>{test: /\\.(scss|css|pdf)$/,loader: \'ignore-loader\'}</code> 是为了防止不能在node里执行服务端渲染也用不上的文件被打包进去。</li>\n</ol>\n<h3>5.fis3迁移到webpack</h3>\n<p>fis3和webpack有很多相似地方也有不同的地方，相似地方：都采用commonjs规范，不同地方：导入css这些非js资源的方式。</p>\n<p>fis3通过@require \'./index.scss\'，而webpack是通过require(\'./index.scss\')。</p>\n<p>如果想把fis3平滑迁移到webpack，可以使用comment-require-loader。</p>\n<p>比如：你想在webpack构建是使用采用了fis3方式的imui模块</p>\n<pre class="language-js"><code class="language-js">loaders<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>\n     test<span class="token operator">:</span> <span class="token regex">/\\.js$/</span><span class="token punctuation">,</span>\n     loaders<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">\'comment-require-loader\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n     include<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'node_modules/imui\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">]</span>\n</code></pre>\n<h2>5.自定义webpack扩展</h2>\n<p>如果你在社区找不到你的应用场景的解决方案，那就需要自己动手了写loader或者plugin了。</p>\n<p>在你编写自定义webpack扩展前你需要想明白到底是要做一个loader还是plugin呢？可以这样判断：</p>\n<p>如果你的扩展是想对一个个单独的文件进行转换那么就编写loader剩下的都是plugin。</p>\n<p>其中对文件进行转换可以是像：</p>\n<ol>\n<li>babel-loader把es6转为es5；</li>\n<li>file-loader把文件替换成对应的url；</li>\n<li>raw-loader注入文本文件内容到代码中。</li>\n</ol>\n<h3>1.编写webpack loader</h3>\n<p>编写loader非常简单，以comment-require-loader为例：</p>\n<pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token function">replace</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>loader的入口需要导出一个函数，这个函数要干的事情就是转换一个文件的内容。</p>\n<p>函数接收的参数content是一个文件在转换前的字符串形式内容，需要返回一个新的字符串形式内容作为转换后的结果，所有通过模块化倒入的文件都会经过loader。从这里可以看出loader只能处理一个个单独的文件而不能处理代码块。可以参考官方文档。</p>\n<h3>2. 编写webpack plugin</h3>\n<p>plugin应用场景广泛，所以稍微复杂点。以end-webpack-plugin为例：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">EndWebpackPlugin</span> <span class="token punctuation">{</span>\n\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">doneCallback<span class="token punctuation">,</span> failCallback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>doneCallback <span class="token operator">=</span> doneCallback<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>failCallback <span class="token operator">=</span> failCallback<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// 监听webpack生命周期里的事件，做相应的处理</span>\n        compiler<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">\'done\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">stats</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doneCallback</span><span class="token punctuation">(</span>stats<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        compiler<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">\'failed\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">failCallback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> EndWebpackPlugin<span class="token punctuation">;</span>\n</code></pre>\n<p>loader的入口需要导出一个class，在new EndWebpackPlugin()的时候通过构造函数传入这个插件需要的参数，在webpack启动的时候会先实例化plugin，再调用plugin的apply方法，插件在apply函数里监听webpack生命周期里的事件，做相应的处理。</p>\n<p><strong>webpack plugin的两个核心概念：</strong></p>\n<ol>\n<li>compiler：从webpack启动到退出只存在一个Compiler，compiler存放着webpack的配置。</li>\n<li>compilation：由于webpack的监听文件变化自动编译机制，compilation代表一次编译。</li>\n</ol>\n<p>Compiler 和 Compilation 都会广播一系列事件。webpack生命周期里有非常多的事件。</p>\n<p>以上只是一个最简单的demo，更复杂的可以查看 how to write a plugin或参考web-webpack-plugin。</p>\n<blockquote>\n<p>参考文章：https://www.cnblogs.com/chengxs/p/11022842.html</p>\n</blockquote>\n',date:Dn,path:"/posts/2021-01-18-webpack_的核心概念和构建流程"},{attributes:{title:"小张厨房日记（二）",date:Pn,updated:"2021/12/01 08:54:56",categories:[a],tags:[v],thumb:s},html:"<p>自从上次更新厨房日记之后，好像过了两个月多，实际上我一直在进阶我的厨艺，为什么没有更新我的厨房日记呢？因为实际在做的过程中我发现，每种菜的组合太多了，没必要组合一次就写一篇攻略，那样就有些做无用功了，没有太大的意义。</p>\n\x3c!-- more --\x3e\n<p>思来想去，我决定了，不再更新做菜的步骤攻略，我想这些攻略网上一抓一大把。把内容着重放在做菜中遇到的一些问题，细节，这样不但可以让我记忆的深刻，还能分享出更多有意思的东西让小伙伴们开心。</p>\n<p>今天做了一道菜，红烧茄子，我在茄子的时候发现皮挺硬的，就在想要不要去皮（不要笑我，因为之前没做过茄子）。想了一会没想出个所以然，直接百度一番，“烧茄子要不要去皮？”，第一条搜索结果是这样说的，</p>\n<blockquote>\n<p>“不要。营养专家建议在吃茄子的时候最好不要去皮，因在茄子表皮及表皮与肉质的连接部位，含有大量的有益于人体健康的物质，如芦丁、维生素E、维生素P的含量都隐藏在茄子皮中，如果将茄子皮去掉会降低营养价值。”</p>\n</blockquote>\n<p>嗯，挺好，不用去皮，但是作为百度谷歌资深用户，怎么可能只相信第一条搜索结果呢？我又往下翻了翻，有一条知乎用户是这样说的</p>\n<blockquote>\n<p>茄子去不去皮，关键还是看你做什么菜了。如果是家常茄子，最好是不要去皮；如是是油煎茄子，因为要打花刀的原因，所以也不要去皮；如果是茄子煲，那就非去皮不可了。</p>\n</blockquote>\n<p>略加思考，好像说得有那么几分道理，很是欣喜，所以我就采用了他的说法。今天做的是烧茄子，所以不用去皮，直接炒就可以了。</p>\n<p>又增加了一个小技巧。</p>\n<p>结束语：当你在心情不好的时候，或者有心事，可以做一些让你分散注意力的事情，就比如说做菜，不仅可以享受食物，享受生活，内心还可以获得成就感，我感觉这是一举两得的事情。</p>\n",date:Pn,path:"/posts/2021-01-17-小张厨房日记（二）"},{attributes:{title:"许嵩的歌又一次被抄袭！",date:An,updated:"2021/12/01 08:54:32",categories:[a],tags:[a],thumb:s},html:'<p>最新网上爆出风风火火的一件事，许嵩的《有何不可》被抄袭，抄袭者为罗聪，《简单的幸福》。</p>\n\x3c!-- more --\x3e\n<p>我从14年开始听许嵩的歌，一直到现在，许多年过去了，他的歌依旧脍炙人口，从之前的抒情浪漫情歌，批判社会的思想，一直到现在具体哲学内涵，中华传统思想。大部分都是包揽作词作曲为一身，真的很有才华。</p>\n<p>因为太有才华了，所以被“碰瓷”抄袭。这也算是一场闹剧了。据说嵩哥本人对此没有发表什么看法和言论，一直都是粉丝和公司在发声。</p>\n<p>据网友戏称：“许嵩：这要放十年前，我早写歌骂你了。”，“低情商：这不就是抄袭《有何不可》？高情商：你这《有何不可》唱得有点跑调”。</p>\n<p>令人没有想象到的事，罗聪所在公司发表声明：</p>\n<p><img src="https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2021%2F0107%2Fa2d8b18dj00qmk2qy002cd000hs00sqp.jpg&amp;thumbnail=650x2147483647&amp;quality=80&amp;type=jpg" alt=""></p>\n<p>突然感觉有些搞笑，我也不对他再发表什么看法，只希望官方能解决这件事，给我们松鼠一个交代。</p>\n<p>要是靠抄袭就能火的话，还要才华做什么。</p>\n<p>这也一直是我的理念，在写博客的时候，我也很注重版权，引用别人写的文章的时候，我都会申请作者授权，标明出处。同时，对于我自己的文章，如果你想要引用转载，只需要标明出处即可。</p>\n<p>大部分做技术的人应该都是和我抱有一样的想法，喜欢分享，但是可不能张冠李戴，毕竟写文章也是耗费脑细胞的。并不指望能获得什么成绩，只是希望当有人看到你的文章时，解决了自己的问题，有一丝认可足以。</p>\n<p>版权一直是一件很重要的事情，很多年前我们还比较淡漠，但是这几年对版权的重视开始慢慢提升了，审查力度增加，这是一件好事。</p>\n',date:An,path:"/posts/2021-01-16-许嵩的歌又一次被抄袭！"},{attributes:{title:"基于 React 的富文本编辑器－－Braft Editor",date:Mn,updated:"2021/12/01 08:53:53",categories:[n],tags:[t,w],thumb:s},html:'<p>最近发了很多关于 React 的文章，记录遇到的新技术点，以及在写代码过程中遇到的问题，希望可以帮助到和我遇到同样问题的同学。</p>\n<p>今天分享的是一款基于 React 的富文本编辑器－－Braft Editor。</p>\n\x3c!-- more --\x3e\n<blockquote>\n<p>Braft Editor 官网：<a href="https://braft.margox.cn">https://braft.margox.cn</a><br>\nGithub 仓库地址：<a href="https://github.com/margox/braft-editor">https://github.com/margox/braft-editor</a></p>\n</blockquote>\n<p>这款插件非常方便，只需要下载然后引入即可直接使用，页面整体风格清新，符合绝大多数人的审美观，支持图片，音视频的插入。</p>\n<p>按照官方的说法，假如你对它的功能还不够满意，不够使用，完全可以扩展它，自己写一个插件来强化他。</p>\n<p>经过我的测试，功能绝对强大，可以满足市面上绝大多数的需求。接下来就说一下如何使用这款插件。</p>\n<h2>1.安装</h2>\n<p>在项目中直接通过 <code>npm</code> 或者 <code>yarn</code> 下载插件：</p>\n<pre class="language-shell"><code class="language-shell"><span class="token comment"># 使用 npm 安装</span>\n<span class="token function">npm</span> <span class="token function">install</span> braft-editor --save\n\n<span class="token comment"># 使用 yarn 安装</span>\n<span class="token function">yarn</span> <span class="token function">add</span> braft-editor\n</code></pre>\n<h2>2.使用</h2>\n<p>新建一个组件 <code>EditorDemo.js</code>，在里面写入下列代码：</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// EditorDemo.js</span>\n\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> BraftEditor <span class="token keyword">from</span> <span class="token string">\'braft-editor\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'braft-editor/dist/index.css\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">PageDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n\n  state <span class="token operator">=</span> <span class="token punctuation">{</span>\n    editorState<span class="token operator">:</span> BraftEditor<span class="token punctuation">.</span><span class="token function">createEditorState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>BraftEditor value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>editorState<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">editorState</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> editorState <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n<span class="token punctuation">}</span>\n</code></pre>\n<p>然后引入到 <code>index.js</code> 中去。</p>\n<h2>3.运行</h2>\n<p>写完组件之后，<code>npm start</code> 运行看看效果</p>\n<p><img src="https://shuxhan-imgbed.oss-cn-hangzhou.aliyuncs.com/img/20210108143022.png" alt=""></p>\n<p>相当不错，页面很简洁，如果觉得样式不喜欢，完全可以自己重新定制风格，非常方便。</p>\n<h2>4.文档</h2>\n<p>如果想使用更多功能、方法，进入 <a href="https://www.yuque.com/braft-editor/be/gz44tn">Braft Editor 官方文档</a>吧，还有更多关于它的讲解！</p>\n<p>属性、方法、示例，一应俱全。</p>\n',date:Mn,path:"/posts/2021-01-07-基于_React_的富文本编辑器－－Braft_Editor"},{attributes:{title:"使用 React 与 Vue 创建同一款 App，差别究竟有多大？",date:Nn,updated:"2021/12/01 08:53:31",categories:[n],tags:[c,k,t],thumb:s},html:'<p>关于 <a href="https://react.docschina.org/">React 框架</a> 和 <a href="https://cn.vuejs.org/">Vue 框架</a> 的对比，用两者写出同一个程序，对比其代码实现的过程，看看它们的差异究竟有多大？</p>\n\x3c!-- more --\x3e\n<blockquote>\n<p>转载于：https://blog.csdn.net/csdnnews/article/details/81880378<br>\n原文：https://medium.com/javascript-in-plain-english/i-created-the-exact-same-app-in-react-and-vue-here-are-the-differences-e9a1ae8077fd<br>\n作者简介：Sunil Sandhu，一位 Web 全栈工程师 + 空想家。<br>\n译者：安翔，责编：屠敏</p>\n</blockquote>\n<p>众所周知，Vue 和 React 都是目前非常著名的前端框架。我在工作中经常使用 Vue，因此我对它有很深入的了解。同时，我也对 React 充满了好奇，想要学习一下，一探究竟。</p>\n<p>于是我阅读了 React 文档并观看了一些视频教程，虽然这些资料很不错，但是我真正想了解的是 React 与 Vue 之间的不同之处。所谓“不同之处”，我并非想知道它们是否都具有虚拟 DOMS 或者它们如何渲染页面，而是希望有人能够从代码的角度解释这两者之间的差异。我想找到一篇解释这些差异的文章，以便 Vue 或者 React 的初学者可以更好地理解它们两者之间的差异。</p>\n<p>很遗憾，我并未找到一篇这样的文章。于是我意识到必须自己动手来比较 Vue 与 React 之间的异同。在我自力更生的过程中，我用这篇文章记录下了具体过程。</p>\n<h2>1.目标</h2>\n<p>我将会构建一个标准的待办事项应用程序，允许用户添加和删除列表中的项目。这两个应用程序都使用默认的 CLI（command-line interface，命令行界面） 构建，React 使用 create-react-app，Vue 使用 vue-cli。</p>\n<p>两个应用程序的外观如下：</p>\n<p><img src="https://shuxhan-imgbed.oss-cn-hangzhou.aliyuncs.com/img/20210108143025.jpg" alt=""></p>\n<p>两个应用程序的 CSS 代码几乎一样，但这些代码的位置存在差异。考虑到这一点，我们来看看这两个应用程序的文件结构：</p>\n<p><img src="https://shuxhan-imgbed.oss-cn-hangzhou.aliyuncs.com/img/20210108143026.jpg" alt=""></p>\n<p>你会发现它们的结构几乎完全相同。唯一的区别在于 React App 拥有三个 CSS 文件，而 Vue App 中没有 CSS 文件。这是因为 React 的 create-react-app 组件需要一个附带文件来保存其样式，而 Vue CLI 采用全包方法，其样式在实际组件文件中声明。</p>\n<p>两种不同的策略得到的结果是一样的，相信开发者很快能够掌握这两种不同的策略。开发者可以根据自己的偏好做出选择，你会听到开发社区关于如何构建 CSS 的大量讨论。以上，我们遵循两个 CLI 列出了代码结构。</p>\n<p>在我们进一步讨论之前，先快速看一下典型的 Vue 和 React 组件的外观：</p>\n<p><img src="https://shuxhan-imgbed.oss-cn-hangzhou.aliyuncs.com/img/20210108143027.jpg" alt=""></p>\n<p>现在让我们正式开始，深入其中的细节！</p>\n<h2>2.如何修改数据</h2>\n<p>首先，我们需要明白“修改数据”的意思是什么。它听起来有些学术，但实际上很简单，就是把我们已经存储好的数据进行更改。比如，如果我们想把一个人的名字变量从“Jhon”改为“Mark”，我们就需要执行“修改数据”的操作。在这一点上，React 和 Vue 的处理方式有所区别。Vue 本质上会创建一个数据对象，其中的数据可以自由更改；React 则创建一个状态对象，更改数据需要一些额外的操作。React 之所以需要额外的操作有着自己的理由，稍后我会深入介绍。在此之前，我们先看看 Vue 中的数据对象和 React 中的状态对象：</p>\n<p><strong>vue 数据对象</strong><br>\n<img src="https://shuxhan-imgbed.oss-cn-hangzhou.aliyuncs.com/img/20210108143028.jpg" alt=""></p>\n<p><strong>React 状态对象</strong><br>\n<img src="https://shuxhan-imgbed.oss-cn-hangzhou.aliyuncs.com/img/20210108143029.jpg" alt=""></p>\n<p>从图中可以看出，我们传入了相同的数据，但它们的标记方法不同。因此，将初始数据传递到组件的方式非常相似。但正如我们提到的那样，在两个框架中更改数据的方式有所不同。</p>\n<p>假设我们有一个名为 name: ‘Sunil’ 的数据元素。</p>\n<p>在 Vue 中，我们通过调用 this.name 来引用它。我们也可以通过调用 this.name =\'John\' 来更新它。这样一来，名字就被成功改为了 “Jhon”。</p>\n<p>在 React 中，我们通过调用 this.state.name 来引用同一段数据。现在关键的区别在于，我们不能简单地写成 this.state.name =\'John\'，因为 React 有限制机制，它会阻止这种简单的修改方式。在 React 中，我们需要这样写：this.setState({name：\'John\'})。</p>\n<p>虽然这基本上与我们在 Vue 中实现的结果一样，但是 React 的操作更为繁琐，那是因为 Vue 在每次更新数据时默认组合了自己的 setState 版本。 简单来说就是，React 需要 setState，然后更新其内部数据，而对于 Vue 来说，当你更新数据对象的值时它就默认了你的更改意图。 那么为什么 React 没有进行简化，为什么需要 setState 呢？ Revanth Kumar 对此做出了解释：</p>\n<blockquote>\n<p>“这是因为 React 希望在状态发生变化时重新运行某些生命周期 hook，比如 componentWillReceiveProps、shouldComponentUpdate、componentWillUpdate、render、componentDidUpdate。当你调用 setState 函数时，它知道状态已经改变。如果你直接改变状态，React 将需要做更多工作来跟踪更改以及运行生命周期 hook 等等。所以为了简单起见，React 使用 setState。&quot;</p>\n</blockquote>\n<p><img src="https://shuxhan-imgbed.oss-cn-hangzhou.aliyuncs.com/img/20210108143030.jpg" alt=""></p>\n<h2>3.添加新的待办事项</h2>\n<h3>React 的实现方法</h3>\n<pre class="language-js"><code class="language-js"><span class="token function-variable function">createNewToDoItem </span><span class="token operator">=</span><span class="token function"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token parameter"> </span><span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token function"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span> list<span class="token punctuation">,</span> todo <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token parameter"> </span><span class="token operator">=></span><span class="token function"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      list<span class="token operator">:</span> <span class="token punctuation">[</span>\n          <span class="token operator">...</span>list<span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n          todo\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      todo<span class="token operator">:</span> <span class="token string">\'\'</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>在 React 中，我们的输入字段有一个名为 value 的属性。这个 value 通过使用几个函数自动更新，这些函数绑定在一起以创建双向绑定。我们通过在输入字段上附加一个 onChange 事件监听器来创建这种形式的双向绑定。看看代码，一探究竟：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> \n       <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>{this.state.todo}</span> \n       <span class="token attr-name">onChange</span><span class="token attr-value"><span class="token punctuation">=</span>{this.handleInput}/</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>只要输入字段的值发生更改，handleInput 函数就会运行。它通过将状态对象设置为输入字段中的任何内容来更新状态对象内的 todo。handleInput 函数如下：</p>\n<pre class="language-js"><code class="language-js"><span class="token function-variable function">handleInput </span><span class="token operator">=</span><span class="token parameter"> e </span><span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    todo<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>现在，只要用户按下页面上的 + 按钮添加新项目，createNewToDoItem 函数就会运行 this.setState 并向其传递一个函数。该函数有两个参数，第一个是来自状态对象的整个列表数组，第二个是由 handleInput 函数更新的todo。然后该函数返回一个新对象，该对象包含之前的整个列表，并在其末尾添加todo。整个列表是通过使用扩展运算符添加的。</p>\n<p>最后，我们将 todo 设置为空字符串，它会自动更新输入字段中的 value。</p>\n<h3>Vue 的实现方法</h3>\n<pre class="language-js"><code class="language-js"><span class="token function">createNewToDoItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>\n        <span class="token punctuation">{</span>\n            <span class="token string">\'todo\'</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todo\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>todo <span class="token operator">=</span> <span class="token string">\'\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>在 Vue 中，我们的输入字段中有一个名为 v-model 的句柄。这实现了**双向绑定。输入字段代码如下：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>todo<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>\n</code></pre>\n<p>V-Model 将输入字段的内容绑定到名为 toDoItem 的数据对象的键（key）上。当页面加载时，我们将 toDoItem 设置为空字符串，比如：todo：\' \'。如果已经存在数据，例如 todo：\'添加文本处\'，输入字段将加载添加文本处的输入内容。无论如何，将其作为空字符串，我们在输入字段中键入的任何文本都会绑定到 todo。这实际上是双向绑定（输入字段可以更新数据对象，数据对象可以更新输入字段）。</p>\n<p>因此，回顾前面的 createNewToDoItem() 代码块，我们将 todo 的内容存放到列表数组中 ，然后将 todo 改为空字符串。</p>\n<h2>4.删除待办事项</h2>\n<h3>React 的实现方法</h3>\n<pre class="language-js"><code class="language-js"><span class="token function-variable function">deleteItem </span><span class="token operator">=</span><span class="token parameter"> indexToDelete </span><span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> list <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token parameter"> </span><span class="token operator">=></span><span class="token function"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      list<span class="token operator">:</span> list<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>toDo<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token parameter"> </span><span class="token operator">=></span> index <span class="token operator">!==</span> indexToDelete<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>尽管 deleteItem 函数位于 ToDo.js 文件中，但是从 ToDoItem.js 文件中引用它也很容易，将 deleteItem() 函数作为 上的 prop 传递：</p>\n<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>ToDoItem deleteItem<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">deleteItem</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>\n</code></pre>\n<p>这会将该函数传递给子组件，使其可以访问。我们绑定了 this 并传递 key 参数，当用户点击删除项时，函数通过 key 区分用户点击的是哪一条 ToDoItem 。然后，在ToDoItem 组件内部，我们执行以下操作：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span>”ToDoItem-Delete”</span> <span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation">=</span>{this.props.deleteItem}</span><span class="token punctuation">></span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> \n</code></pre>\n<p>想要引用位于父组件内部的函数，只需引用 this.props.deleteItem 即可。</p>\n<h3>Vue 的实现方法</h3>\n<pre class="language-js"><code class="language-js"><span class="token function">onDeleteItem</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item <span class="token operator">!==</span> todo<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>Vue 的实现方法稍有不同，我们需要做到以下三点：</p>\n<ol>\n<li>首先，在元素上调用函数：</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>”ToDoItem-Delete”</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span>”deleteItem(todo)”</span><span class="token punctuation">></span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<ol start="2">\n<li>然后我们必须创建一个 emit 函数，将其作为子组件的内部方法（在本例中为ToDoItem.vue），如下所示：</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token function">deleteItem</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">\'delete\'</span><span class="token punctuation">,</span> todo<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<ol start="3">\n<li>之后，你会发现，当我们添加 ToDo.vue的 ToDoItem.vue 时，实际上引用了一个函数：</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>ToDoItem v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"todo in list"</span> \n\t<span class="token operator">:</span>todo<span class="token operator">=</span><span class="token string">"todo"</span> \n\t@<span class="token keyword">delete</span><span class="token operator">=</span><span class="token string">"onDeleteItem"</span> <span class="token comment">// &lt;-- this :)</span>\n\t<span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"todo.id"</span> <span class="token operator">/</span><span class="token operator">></span>\n</code></pre>\n<p>这就是所谓的自定义事件监听器。它会监听任何使用 \'delete\' 字符串的触发事件。一旦监听到事件，它会触发一个名为 onDeleteItem 的函数。此函数位于 ToDo.vue 内部，而不是 ToDoItem.vue。如前所述，该函数只是过滤数据对象内的 todo 数组 ，以删除被点击的待办事项。</p>\n<p>在 Vue 示例中还需要注意的是，我们可以在 @click 侦听器中编写 $emit 部分，这样更加简单，如下所示：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>”ToDoItem-Delete”</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span>”$emit(‘delete’,</span> <span class="token attr-name">todo)”</span><span class="token punctuation">></span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> \n</code></pre>\n<p>如果你喜欢，这样做可以把 3 步减少到 2 步。</p>\n<p>React 中的子组件可以通过 this.props 访问父函数，而在 Vue 中，你需要从子组件中发出事件，父组件来收集事件。</p>\n<h2>5.如何传递事件监听器</h2>\n<h3>React 的实现方法</h3>\n<p>事件监听器处理简单事件（比如点击）非常直接。我们为待办事项创建了点击事件，用于创建新的待办事项，代码如下：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span>”ToDo-Add”</span> <span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation">=</span>{this.createNewToDoItem}</span><span class="token punctuation">></span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>非常简单，就像使用 vanilla JS 处理内联 onClick 一样。正如前文所述，只要按下回车按钮，设置事件监听器就需要花费更长的时间。这需要输入标签处理 onKeyPress 事件，代码如下：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>”text”</span> <span class="token attr-name">onKeyPress</span><span class="token attr-value"><span class="token punctuation">=</span>{this.handleKeyPress}/</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>该函数只要识别到\'enter\'键被按下，它就会触发 <strong>createNewToDoItem</strong> 函数，代码如下所示：</p>\n<pre class="language-js"><code class="language-js"><span class="token function-variable function">handleKeyPress</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>key <span class="token operator">===</span> ‘Enter’<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t\t<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createNewToDoItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>Vue 的实现方法</h3>\n<p>Vue 的事件监听器更加直接。我们只需要使用一个简单的 @ 符号，就可以构建出我们想要的事件监听器。例如，想要添加 click 事件监听器，代码：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>”ToDo-Add”</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span>”createNewToDoItem()”</span><span class="token punctuation">></span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> \n</code></pre>\n<blockquote>\n<p>注意：@click 实际上是 v-on:click 的简写。Vue 事件监听器很强大，你可以为其选择属性，例如 .once 可以防止事件监听器被多次触发。此外，它还包含很多快捷方式。按下回车按钮时，React 就需要花费更长的时间来创建事件监听器，从而创建新的 ToDo 项目。在 Vue，代码如下：</p>\n</blockquote>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>”text”</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keyup.enter</span><span class="token attr-value"><span class="token punctuation">=</span>”createNewToDoItem”/</span><span class="token punctuation">></span></span>\n</code></pre>\n<h2>6.如何将数据传递给子组件</h2>\n<h3>React 的实现方法</h3>\n<p>在 React 中，我们将 props 传递到子组件的创建处。比如：</p>\n<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>ToDoItem key<span class="token operator">=</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span> item<span class="token operator">=</span><span class="token punctuation">{</span>todo<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n</code></pre>\n<p>此处我们向 ToDoItem 组件传递了两个 prop。之后，我们可以在子组件中通过 this.props 引用它们。因此，想要访问 item.todo prop，我们只需调用this.props.item 。</p>\n<h3>Vue 的实现方法</h3>\n<p>在 Vue 中，我们将 props 传递到子组件创建处的方式如下：</p>\n<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>ToDoItem v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"todo in list"</span> \n\t<span class="token operator">:</span>todo<span class="token operator">=</span><span class="token string">"todo"</span>\n\t<span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"todo.id"</span>\n\t@<span class="token keyword">delete</span><span class="token operator">=</span><span class="token string">"onDeleteItem"</span> <span class="token operator">/</span><span class="token operator">></span>\n</code></pre>\n<p>我们将它们传递给子组件中的 props 数组，如：props：[\'id\'，\'todo\']。然后可以在子组件中通过名字引用它们。</p>\n<h2>7.如何将数据发送回父组件</h2>\n<h3>React 的实现方法</h3>\n<p>我们首先将函数传递给子组件，方法是在我们调用子组件时将其引用为 prop。然后我们通过引用 this.props.whateverTheFunctionIsCalled，为子组件添加调用函数，例如 onClick。然后，这将触发父组件中的函数。删除待办事项一节中详细介绍了整个过程。</p>\n<h3>Vue 的实现方法</h3>\n<p>在子组件中我们只需编写一个函数，将一个值发送回父函数。在父组件中编写一个函数来监听子组件何时发出该值的事件，监听到事件之后触发函数调用。同样，删除待办事项一节中详细介绍了整个过程。</p>\n<h2>8.总结</h2>\n<p>我们研究了添加、删除和更改数据，以 prop 形式从父组件到子组件传递数据，以及通过事件监听器的形式将数据从子组件发送到父组件。当然，React 和 Vue 之间存在一些小差异，希望本文的内容有助于理解这两个框架。</p>\n<p>两个应用程序的 GitHub 地址：</p>\n<p>**Vue ToDo：**https://github.com/sunil-sandhu/vue-todo</p>\n<p>**React ToDo：**https://github.com/sunil-sandhu/react-todo</p>\n',date:Nn,path:"/posts/2021-01-06-使用_React_与_Vue_创建同一款_App，差别究竟有多大？"},{attributes:{title:"React 脚手架项目打包时的路径问题",date:Ln,updated:"2021/12/01 08:52:57",categories:[n],tags:[t],thumb:s},html:'<p><code>create-react-app</code> 脚手架指令可以生成 React 项目，在项目完成之后执行打包命令 <code>npm run build</code>，文件夹内生成 <code>build</code>文件夹，就是打包后的文件，在浏览器运行 <code>index.html</code> 发现页面空白，打开控制台有报错，css 和 js 文件的引用路径有问题。</p>\n\x3c!-- more --\x3e\n<p>浏览 <code>index.html</code> 代码可以发现：</p>\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- index.html --\x3e</span>\n\n<span class="token doctype">&lt;!doctype html></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zh<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width=device-width,initial-scale=1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>theme-color<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#000000<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Web site created using create-react-app<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>React App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/static/css/main.3394d54e.chunk.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noscript</span><span class="token punctuation">></span></span>You need to enable JavaScript to run this app.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noscript</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token operator">!</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">function</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> n<span class="token punctuation">,</span> l<span class="token punctuation">,</span> f <span class="token operator">=</span> r<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> i <span class="token operator">=</span> r<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> a <span class="token operator">=</span> r<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> c <span class="token operator">&lt;</span> f<span class="token punctuation">.</span>length<span class="token punctuation">;</span> c<span class="token operator">++</span><span class="token punctuation">)</span>l <span class="token operator">=</span> f<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> l<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>o<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>n <span class="token keyword">in</span> i<span class="token punctuation">)</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>p <span class="token operator">&amp;&amp;</span> <span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> u<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> a <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">function</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> e<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> r <span class="token operator">&lt;</span> u<span class="token punctuation">.</span>length<span class="token punctuation">;</span> r<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> t <span class="token operator">=</span> u<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> f <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> f <span class="token operator">&lt;</span> t<span class="token punctuation">.</span>length<span class="token punctuation">;</span> f<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> i <span class="token operator">=</span> t<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token number">0</span> <span class="token operator">!==</span> o<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> n <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>u<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>r<span class="token operator">--</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>s <span class="token operator">=</span> t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">return</span> e <span class="token punctuation">}</span> <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> u <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">function</span> <span class="token function">l</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">.</span>exports<span class="token punctuation">;</span> <span class="token keyword">var</span> t <span class="token operator">=</span> n<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> i<span class="token operator">:</span> r<span class="token punctuation">,</span> l<span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span> exports<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">return</span> e<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> t<span class="token punctuation">,</span> t<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>l <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>exports <span class="token punctuation">}</span> l<span class="token punctuation">.</span>m <span class="token operator">=</span> e<span class="token punctuation">,</span> l<span class="token punctuation">.</span>c <span class="token operator">=</span> n<span class="token punctuation">,</span> l<span class="token punctuation">.</span><span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> r<span class="token punctuation">,</span> t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> l<span class="token punctuation">.</span><span class="token function">o</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> r<span class="token punctuation">)</span> <span class="token operator">||</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> r<span class="token punctuation">,</span> <span class="token punctuation">{</span> enumerable<span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">get</span><span class="token operator">:</span> t <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> l<span class="token punctuation">.</span><span class="token function-variable function">r</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token string">"undefined"</span> <span class="token operator">!=</span> <span class="token keyword">typeof</span> Symbol <span class="token operator">&amp;&amp;</span> Symbol<span class="token punctuation">.</span>toStringTag <span class="token operator">&amp;&amp;</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> Symbol<span class="token punctuation">.</span>toStringTag<span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">"Module"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">"__esModule"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> l<span class="token punctuation">.</span><span class="token function-variable function">t</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&amp;</span> r <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token operator">&amp;</span> r<span class="token punctuation">)</span> <span class="token keyword">return</span> e<span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">&amp;</span> r <span class="token operator">&amp;&amp;</span> <span class="token string">"object"</span> <span class="token operator">==</span> <span class="token keyword">typeof</span> e <span class="token operator">&amp;&amp;</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>__esModule<span class="token punctuation">)</span> <span class="token keyword">return</span> e<span class="token punctuation">;</span> <span class="token keyword">var</span> t <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">r</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token string">"default"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> enumerable<span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> value<span class="token operator">:</span> e <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">&amp;</span> r <span class="token operator">&amp;&amp;</span> <span class="token string">"string"</span> <span class="token operator">!=</span> <span class="token keyword">typeof</span> e<span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> n <span class="token keyword">in</span> e<span class="token punctuation">)</span> l<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> e<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> t <span class="token punctuation">}</span><span class="token punctuation">,</span> l<span class="token punctuation">.</span><span class="token function-variable function">n</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> r <span class="token operator">=</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>__esModule <span class="token operator">?</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> e<span class="token punctuation">.</span>default <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> e <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">return</span> l<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">,</span> r <span class="token punctuation">}</span><span class="token punctuation">,</span> l<span class="token punctuation">.</span><span class="token function-variable function">o</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> r<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> l<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token string">"./"</span><span class="token punctuation">;</span> <span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>webpackJsonpdemo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>webpackJsonpdemo <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> i <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span> f<span class="token punctuation">.</span>push <span class="token operator">=</span> r<span class="token punctuation">,</span> f <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> a <span class="token operator">&lt;</span> f<span class="token punctuation">.</span>length<span class="token punctuation">;</span> a<span class="token operator">++</span><span class="token punctuation">)</span><span class="token function">r</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">var</span> p <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/static/js/2.1902eda2.chunk.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/static/js/main.cbf35db7.chunk.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>发现 css 和 js 文件都是用绝对路径引用的，这是 webpack 打包一贯拥有的问题，将 <code>/static</code> 改成 <code>./static</code> ，再运行，页面没有问题成功显示。</p>\n<p>但是在写实际项目的时候手动修改相对路径，不但麻烦，而且容易引起其他问题。因此直接在项目的 <code>package.json</code> 配置文件进行修改，添加 <code>&quot;homepage&quot;: &quot;.&quot;</code></p>\n<pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>\n\n<span class="token punctuation">{</span>\n  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"demo"</span><span class="token punctuation">,</span>\n  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.1.0"</span><span class="token punctuation">,</span>\n  <span class="token property">"private"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  <span class="token property">"homepage"</span><span class="token operator">:</span> <span class="token string">"."</span><span class="token punctuation">,</span>  <span class="token comment">// 添加这一行</span>\n  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">"@babel/core"</span><span class="token operator">:</span> <span class="token string">"7.12.3"</span><span class="token punctuation">,</span>\n    ...\n</code></pre>\n<p>然后再执行 <code>npm run build</code> ，运行打包后的文件，没有任何问题。</p>\n',date:Ln,path:"/posts/2021-01-05-React_脚手架项目打包时的路径问题"},{attributes:{title:"如何在 React 中引入 less？",date:Bn,updated:"2021/12/01 08:52:20",categories:[n],tags:[t],thumb:s},html:'<p>本文主要写如何在 React 中引入 less 。因为 less 和 css 非常像，因此很容易学习。而且 less 仅对 css 语言增加了少许方便的扩展，这就是 less 如此易学的原因之一。</p>\n\x3c!-- more --\x3e\n<h2>1.安装 less</h2>\n<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> <span class="token function">less</span> less-loader --save-dev\n</code></pre>\n<h2>2.暴露 webpack 文件</h2>\n<p>利用 npx create-react-app  搭建的 React 项目，默认隐藏 webpack 配置文件，引入 less 需要修改 webpack 配置文件，因此我们需要执行命令暴露 webpack 配置文件。</p>\n<blockquote>\n<p>这里需要注意，一旦暴露，无法回退。</p>\n</blockquote>\n<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> run <span class="token function">eject</span>\n</code></pre>\n<p>如果这一步失败，执行下列命令：</p>\n<pre class="language-shell"><code class="language-shell"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>\n\n<span class="token function">git</span> commit -m <span class="token string">"init"</span>\n</code></pre>\n<p>然后再执行 <code>npm run eject</code></p>\n<blockquote>\n<p>注意：暴露 webpack 文件只能在 <code>create-react-app</code> 之初，一旦项目结构发生改变，再进行暴露操作就会失败。所以尽量在项目建立时就进行 <code>npm run eject</code> 操作。</p>\n</blockquote>\n<h2>3.修改 wenpack.config.js 配置</h2>\n<p>在合适的位置添加：</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// 放在 </span>\n<span class="token comment">// const sassRegex = /\\.(scss|sass)$/;</span>\n<span class="token comment">// const sassModuleRegex = /\\.module\\.(scss|sass)$/; </span>\n<span class="token comment">// 后面</span>\n\n<span class="token keyword">const</span> lessRegex <span class="token operator">=</span> <span class="token regex">/\\.less$/</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> lessModuleRegex <span class="token operator">=</span> <span class="token regex">/\\.module\\.less$/</span><span class="token punctuation">;</span>\n</code></pre>\n<pre class="language-js"><code class="language-js"><span class="token comment">// 放在 oneof 数组下</span>\n\n<span class="token punctuation">{</span>\n  test<span class="token operator">:</span> lessRegex<span class="token punctuation">,</span>\n  exclude<span class="token operator">:</span> lessModuleRegex<span class="token punctuation">,</span>\n  use<span class="token operator">:</span> <span class="token function">getStyleLoaders</span><span class="token punctuation">(</span>\n    <span class="token punctuation">{</span>\n      importLoaders<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n      sourceMap<span class="token operator">:</span> isEnvProduction <span class="token operator">&amp;&amp;</span> shouldUseSourceMap<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token string">\'less-loader\'</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token comment">// Don\'t consider CSS imports dead code even if the</span>\n  <span class="token comment">// containing package claims to have no side effects.</span>\n  <span class="token comment">// Remove this when webpack adds a warning or an error for this.</span>\n  <span class="token comment">// See https://github.com/webpack/webpack/issues/6571</span>\n  sideEffects<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token comment">// Adds support for CSS Modules, but using SASS</span>\n<span class="token comment">// using the extension .module.scss or .module.sass</span>\n<span class="token punctuation">{</span>\n  test<span class="token operator">:</span> lessModuleRegex<span class="token punctuation">,</span>\n  use<span class="token operator">:</span> <span class="token function">getStyleLoaders</span><span class="token punctuation">(</span>\n    <span class="token punctuation">{</span>\n      importLoaders<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n      sourceMap<span class="token operator">:</span> isEnvProduction <span class="token operator">&amp;&amp;</span> shouldUseSourceMap<span class="token punctuation">,</span>\n      modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n      getLocalIdent<span class="token operator">:</span> getCSSModuleLocalIdent<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token string">\'less-loader\'</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre>\n<h2>4.如何使用 less</h2>\n<p>新建一个 <code>App.less</code> 文件，然后在 <code>App.js</code> 中引入：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token string">\'./Map.less\'</span>\n</code></pre>\n<p><a href="https://less.bootcss.com/#%E6%A6%82%E8%A7%88">less 语法手册</a></p>\n',date:Bn,path:"/posts/2021-01-04-如何在_React_中引入_less？_"},{attributes:{title:"为什么 key 是必须的？",date:On,updated:"2021/12/01 08:52:02",categories:[n],tags:[t],thumb:s},html:'<p>之前有说到，在 React 中渲染列表的时候，要给每一个数据加一个 key 值，赋予一个确定的标示，而且也详细描述了如何给一个标示，方法知道了，那么为什么要这么做呢？</p>\n\x3c!-- more --\x3e\n<p><a href="../20201216-react-note-2/#%E4%B8%89%E3%80%81%E8%BD%AC%E6%8D%A2%E5%88%97%E8%A1%A8">在 React 中如何渲染列表？</a></p>\n<p>在默认条件下，当递归 DOM 节点的子元素时，React 会同时遍历两个子元素的列表；当产生差异时，生成一个 mutation。</p>\n<p>在子元素列表末尾新增元素时，更新开销比较小。比如：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>first<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>first<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>third<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>React 会先匹配两个 <code>&lt;li&gt;first&lt;/li&gt;</code> 对应的树，然后匹配第二个元素 <code>&lt;li&gt;second&lt;/li&gt;</code> 对应的树，最后插入第三个元素的 <code>&lt;li&gt;third&lt;/li&gt;</code> 树。</p>\n<p>如果只是简单的将新增元素插入到表头，那么更新开销会比较大。比如：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Duke<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Villanova<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Connecticut<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Duke<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Villanova<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>React 不会意识到应该保留 <code>&lt;li&gt;Duke&lt;/li&gt;</code> 和 <code>&lt;li&gt;Villanova&lt;/li&gt;</code>，而是会重建每一个子元素 。这种情况会带来性能问题。</p>\n<p><strong>key</strong></p>\n<p>为了解决上述问题， React 支持 <code>key</code> 属性，当子元素拥有 key 时，React 使用 key 来匹配原有树上的子元素以及最新树上的子元素。以下例子在新增 <code>key</code> 之后使得之前的低效转换变得高效：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Duke<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Villanova<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Connecticut<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Duke<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Villanova<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>现在 React 知道只有带着 <code>\'0\'</code> key 的元素是新元素，带着 <code>\'1\'</code> 以及 <code>\'2\'</code> key 的元素仅仅移动了。</p>\n<p>现实场景中，产生一个 key 并不困难。你要展现的元素可能已经有了一个唯一 ID，于是 key 可以直接从你的数据中提取：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span>{item.id}</span><span class="token punctuation">></span></span>{item.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>当以上情况不成立时，你可以新增一个 ID 字段到你的模型中，或者利用一部分内容作为哈希值来生成一个 key。这个 key 不需要全局唯一，但在列表中需要保持唯一。</p>\n<p>最后，你也可以使用元素在数组中的下标作为 key。这个策略在元素不进行重新排序时比较合适，如果有顺序修改，diff 就会变得慢。</p>\n<p>当基于下标的组件进行重新排序时，组件 state 可能会遇到一些问题。由于组件实例是基于它们的 key 来决定是否更新以及复用，如果 key 是一个下标，那么修改顺序时会修改当前的 key，导致非受控组件的 state（比如输入框）可能相互篡改导致无法预期的变动。</p>\n',date:On,path:"/posts/2021-01-01-为什么_key_是必须的？"}]},{date:2020,articles:[{attributes:{title:"React 学习笔记（三）",date:Un,updated:"2021/12/01 08:51:31",categories:[n],tags:[o,t],thumb:s},html:'\x3c!-- more --\x3e\n<p>来源于：<a href="https://react.docschina.org/docs/forms.html">https://react.docschina.org/docs/forms.html</a></p>\n<h2>一、表单</h2>\n<p>在 React 中，html 表单元素的工作方式和其他的 DOM 元素不太一样，因为表单内部通常会保持一些内部的 <code>state</code>，比如下面这个纯 html 表单只接受一个名称：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>\n    名字:\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>提交<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>这个表单具有默认的 html 表单行为，即在用户提交表单之后自动刷新页面。如果你在 React 中执行相同的代码，它仍然有效。</p>\n<p>但大多数情况下，使用 JavaScript 函数可以很方便的处理表单的提交， 同时还可以访问用户填写的表单数据。实现这种效果的标准方式是使用“受控组件”。</p>\n<h3>受控组件</h3>\n<p>在 html 中，表单元素比如<code>&lt;input&gt;</code>，<code>&lt;textarea&gt;</code>，<code>&lt;select&gt;</code>，这些表单元素通常自己维护 <code>state</code>，并根据用户输入进行更新。而在 React 中，可变状态（mutable state）通常保存在组件的 state 属性中，并且只能通过使用 <code>setState()</code> 来更新。</p>\n<p>我们可以把两者结合起来，使 React 的 state 成为“唯一数据源”。渲染表单的 React 组件还控制着用户输入过程中表单发生的操作。被 React 以这种方式控制取值的表单输入元素就叫做“受控组件”。</p>\n<p>例如，如果我们想让前一个示例在提交时打印出名称，我们可以将表单写为受控组件：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">NameForm</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>value<span class="token operator">:</span> <span class="token string">\'\'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span>handleChange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleSubmit</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>value<span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'提交的名字: \'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span>label<span class="token operator">></span>\n          名字<span class="token operator">:</span>\n          <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span>\n        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"提交"</span> <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>由于在表单元素上设置了 <code>value</code> 属性，因此显示的值将始终为 <code>this.state.value</code>，这使得 React 的 state 成为唯一数据源。由于 <code>handlechange</code> 在每次按键时都会执行并更新 React 的 state，因此显示的值将随着用户输入而更新。</p>\n<p>对于受控组件来说，输入的值始终由 React 的 state 驱动。你也可以将 value 传递给其他 UI 元素，或者通过其他事件处理函数重置，但这意味着你需要编写更多的代码。</p>\n<h3>textarea 标签</h3>\n<p>在 html 中，<code>&lt;textarea&gt;</code> 元素通过其子元素定义其文本：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span><span class="token punctuation">></span></span>\n  测试！\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>而在 React 中，<code>&lt;textarea&gt;</code> 使用 <code>value</code> 属性代替。这样，可以使得使用 <code>&lt;textarea&gt;</code> 的表单和使用单行 input 的表单非常类似：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">EssayForm</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>\n      value<span class="token operator">:</span> <span class="token string">\'请撰写一篇关于你喜欢的 DOM 元素的文章.\'</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span>handleChange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleSubmit</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>value<span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'提交的文章: \'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span>label<span class="token operator">></span>\n          文章<span class="token operator">:</span>\n          <span class="token operator">&lt;</span>textarea value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span>\n        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"提交"</span> <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>请注意，<code>this.state.value</code> 初始化于构造函数中，因此文本区域默认有初值。</p>\n<h3>select 标签</h3>\n<p>在 HTML 中，<code>&lt;select&gt;</code> 创建下拉列表标签。例如，如下 html 创建了水果相关的下拉列表：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>grapefruit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>葡萄柚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>lime<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>酸橙<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">selected</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>coconut<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>椰子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mango<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>芒果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>请注意，由于 <code>selected</code> 属性的缘故，椰子选项默认被选中。React 并不会使用 <code>selected</code> 属性，而是在根 <code>select</code> 标签上使用 <code>value</code> 属性。这在受控组件中更便捷，因为您只需要在根标签中更新它。例如：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">FlavorForm</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>value<span class="token operator">:</span> <span class="token string">\'coconut\'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span>handleChange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleSubmit</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>value<span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'你喜欢的风味是: \'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span>label<span class="token operator">></span>\n          选择你喜欢的风味<span class="token operator">:</span>\n          <span class="token operator">&lt;</span>select value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span><span class="token operator">></span>\n            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"grapefruit"</span><span class="token operator">></span>葡萄柚<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>\n            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"lime"</span><span class="token operator">></span>酸橙<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>\n            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"coconut"</span><span class="token operator">></span>椰子<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>\n            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"mango"</span><span class="token operator">></span>芒果<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>\n          <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">></span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span>\n        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"提交"</span> <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>总的来说，这使得 <code>&lt;input type=&quot;text&quot;&gt;</code>, <code>&lt;textarea&gt;</code> 和 <code>&lt;select&gt;</code> 之类的标签都非常相似—它们都接受一个 value 属性，你可以使用它来实现受控组件。</p>\n<blockquote>\n<p>注意:你可以将数组传递到 value 属性中，以支持在 select 标签中选择多个选项：</p>\n<pre class="language-html"><code class="language-html">&lt;select multiple={true} value={[\'B\', \'C\']}>\n</code></pre>\n</blockquote>\n<h3>文件 input 标签</h3>\n<p>在 HTML 中，<code>&lt;input type=&quot;file&quot;&gt;</code> 允许用户从存储设备中选择一个或多个文件，将其上传到服务器，或通过使用 JavaScript 的 <code>File API</code> 进行控制。</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n</code></pre>\n<p>因为它的 value 只读，所以它是 React 中的一个非受控组件。</p>\n<h3>处理多个输入</h3>\n<p>当需要处理多个 <code>input</code> 元素时，我们可以给每个元素添加 <code>name</code> 属性，并让处理函数根据 <code>event.target.name</code> 的值选择要执行的操作。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Reservation</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>\n      isGoing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n      numberOfGuests<span class="token operator">:</span> <span class="token number">2</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span>handleInputChange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleInputChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">handleInputChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> target <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">;</span>\n    <span class="token keyword">const</span> value <span class="token operator">=</span> target<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">\'isGoing\'</span> <span class="token operator">?</span> target<span class="token punctuation">.</span>checked <span class="token operator">:</span> target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>\n    <span class="token keyword">const</span> name <span class="token operator">=</span> target<span class="token punctuation">.</span>name<span class="token punctuation">;</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">:</span> value\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>form<span class="token operator">></span>\n        <span class="token operator">&lt;</span>label<span class="token operator">></span>\n          参与<span class="token operator">:</span>\n          <span class="token operator">&lt;</span>input\n            name<span class="token operator">=</span><span class="token string">"isGoing"</span>\n            type<span class="token operator">=</span><span class="token string">"checkbox"</span>\n            checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isGoing<span class="token punctuation">}</span>\n            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleInputChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span>\n        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span>label<span class="token operator">></span>\n          来宾人数<span class="token operator">:</span>\n          <span class="token operator">&lt;</span>input\n            name<span class="token operator">=</span><span class="token string">"numberOfGuests"</span>\n            type<span class="token operator">=</span><span class="token string">"number"</span>\n            value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>numberOfGuests<span class="token punctuation">}</span>\n            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleInputChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>这里使用了 ES6 <code>计算属性名称</code>的语法更新给定输入名称对应的 state 值：</p>\n<p>例如：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">:</span> value\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>等同于 es5：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> partialState <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\npartialState<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>\n<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>partialState<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>另外，由于 <code>setState()</code> 自动将部分 state 合并到当前 state, 只需调用它更改部分 state 即可。</p>\n<h3>受控输入空值</h3>\n<p>在受控组件上指定 value 的 prop 会阻止用户更改输入。如果你指定了 <code>value</code>，但输入仍可编辑，则可能是你意外地将 <code>value</code> 设置为 <code>undefined</code> 或 <code>null</code>。</p>\n<p>下面的代码演示了这一点。（输入最初被锁定，但在短时间延迟后变为可编辑。）</p>\n<pre class="language-js"><code class="language-js">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token string">"hi"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">null</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>受控组件的替代品</h3>\n<p>有时使用受控组件会很麻烦，因为你需要为数据变化的每种方式都编写事件处理函数，并通过一个 React 组件传递所有的输入 state。当你将之前的代码库转换为 React 或将 React 应用程序与非 React 库集成时，这可能会令人厌烦。在这些情况下，你可能希望使用非受控组件, 这是实现输入表单的另一种方式。</p>\n<h3>成熟的解决方案</h3>\n<p>如果你想寻找包含验证、追踪访问字段以及处理表单提交的完整解决方案，使用 Formik 是不错的选择。然而，它也是建立在受控组件和管理 state 的基础之上 —— 所以不要忽视学习它们。</p>\n',date:Un,path:"/posts/2020-12-29-React_学习笔记（三）"},{attributes:{title:"2020年度总结",date:Vn,updated:"2021/12/01 08:51:10",categories:[a],tags:[r],thumb:s},html:'<p>年度总结这个东西很有意思（我觉得），可以静下心来好好回顾一下这一年做了些什么事情，希望我能养成这个好习惯，多总结。</p>\n\x3c!-- more --\x3e\n<p>这个博客是我在年中搭建起来了，到现在也将近半年了，没怎么做过seo优化，也没怎么想过推广，就简简单单的写一些自己的东西。更大的原因是我的文笔太拙劣，不敢让人发现，哈哈哈。</p>\n<p>大学四年过的还算充实，学到了自己感兴趣的东西，培养的业余兴趣爱好，旅游爬山等，但有名的大山目前只爬了嵩山（河南境内），因为在郑州读的大学。更远的山也没怎么去过，我给自己定个计划，在两年内爬一次泰山，因为工作太忙咯，不敢说短期内一定有时间。想体会一下&quot;会当凌绝顶，一览众山小&quot;的感觉。</p>\n<p>但是吧，我的大学结束的有些虎头蛇尾的感觉，因为疫情的原因，学校禁止进入，一直到毕业前夕才允许分批次返校，很多同学都没有看到就草草结束大学生活。所以心心念念的毕业照也没有了，本来和朋友商量好一起拍一组有意思的毕业照，真的是今年最大的遗憾了。</p>\n<p>离开校园，见面的机会真的就少了很多，基本都是打打电话，视频什么的，各奔东西，为生活开始忙碌。</p>\n<p>2020年，是让人印象深刻的一年，从一月份爆发的疫情开始，胆战心惊，一直到现在，依旧在全球蔓延，就在前两天看新闻，说英国要严重了，病毒变异，又封城了。真的希望这场疫情赶快过去。</p>\n<p>为什么国外对这方面对管控好像没那么严？真的不理解，或许这就是&quot;向往自由&quot;吧。希望地球每个人都能重视起来，共同对抗病毒，早日结束这一场。</p>\n<p>今年从郑州来到了杭州，换了一个新的环境，在工作中和大家有着共同的目标，学到了很多东西，但是也有一些遗憾，本来打算读两本书的的，下半年读了余果的《全栈工程师的自我修养》和《css世界》，前段时间还写了读书笔记<a href="https://shuxhan.com/post/33">《对全栈的一些思考》</a>，然后十一月份在某宝买了《javascript高级程序设计》，结果因为时间不充足，最后也没读完。</p>\n<p>在这里定一个小目标，2021年一定要读完四本书。</p>\n<p>在技术栈这一块，由 Vue 转向了 React，这里实在想吐槽一句。React 是 Facebook 开发的，Vue 是尤大大开发出来的，感觉写起来思维逻辑不太一样， Vue 的写法更偏向中国程序员的思维方式，React 更偏向外国人，因为我也不是外国人，所以也说不好是一种什么样的思维方式，只是感觉理解起来比 Vue 更难一些。但是因为公司的原因，开始着手 React 开发项目。</p>\n<p>希望在新的一年继续延续下去，在学习更多的技术栈的同时，把自己要做的事情做的更好。</p>\n<p>在杭州待了也有一段时间，这个城市看起来很年轻，很有朝气，可能因为年轻人的占比比较大吧。偶尔出去玩玩，能发现一些以前发现不了的东西，开阔一下自己的眼界。这里夸一下，西湖的风景确实不错，走在苏堤，吹吹风，整个人都放松了。平时压力大了，都会出来走走，但是好像一个人旅游好像缺了点乐趣。</p>\n<p>这两天是圣诞节，虽说是洋节，但是自己也可以乐呵一下，在这里祝愿大家都能在2020年有一个好的结束，画上圆满的句号，迎接新的2021年。</p>\n<p>抽出空闲的时间简单的写了一下总结，就好像跟看电影一样，又回顾了一遍剧情，又得到了不一样的感受。</p>\n<p>你好，自己，明年见。</p>\n',date:Vn,path:"/posts/2020-12-25-2020年度总结"},{attributes:{title:"React －－万物皆可组件",date:Gn,updated:"2021/11/29 16:37:08",categories:[n],tags:[t,w],thumb:s},html:'<h2>一、React 组件是什么？</h2>\n<blockquote>\n<p>组件，从概念上类似于 javascript 函数，他接受任意入参<code>（props）</code>，并返回作用于描述页面展示内容的 React 元素。</p>\n</blockquote>\n<p>组件允许你将 UI 拆分为独立可复用的代码片段，并对每个片段进行独立构思。</p>\n\x3c!-- more --\x3e\n<h3>1.创建一个组件</h3>\n<pre class="language-js"><code class="language-js"><span class="token comment">// 函数组件</span>\n<span class="token keyword">function</span> <span class="token function">Welcome</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// class组件</span>\n<span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h3>2.渲染组件</h3>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Welcome <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>3.组件</h3>\n<p><strong>React的基础原则有三条，分别是：</strong></p>\n<ol>\n<li>React 界面完全由数据驱动</li>\n<li>React 中一切都是组件</li>\n<li>props 是 React 组件之间通讯的基本方式</li>\n</ol>\n<p>给组件输入一个参数，最终返回一个 React Element,React Element 就是在页面上展示的内容，相当于一个 DOM 节点</p>\n<p>React 一大核心就是－－万物皆可组件</p>\n<ul>\n<li>用户界面就是组件</li>\n<li>组件可以嵌套包装组成复杂功能</li>\n<li>组件可以用来实现副作用</li>\n</ul>\n<p>一个复杂的界面可以分割很很多简单的组件，每个简单的组件又可以分割成很多小组件</p>\n<blockquote>\n<p>有些类似于<a href="https://shuxhan.com/post/45">类和对象的概念</a></p>\n</blockquote>\n<h2>二、组件的划分</h2>\n<ol>\n<li>\n<p>**无状态组件：**无状态组件(Stateless Component)是最基础的组件形式，由于没有状态的影响所以就是纯静态展示的作用。基本组成结构就是属性（props）加上一个渲染函数（render）。由于不涉及到状态的更新，所以这种组件的复用性也最强。例如在各UI库中开发的按钮、输入框、图标等等。</p>\n</li>\n<li>\n<p>**有状态组件：**组件内部包含状态（state）且状态随着事件或者外部的消息而发生改变的时候，这就构成了有状态组件（Stateful Component）。有状态组件通常会带有生命周期(lifecycle)，用以在不同的时刻触发状态的更新。在写业务逻辑时常用到，不同场景所用的状态和生命周期也会不同。</p>\n</li>\n<li>\n<p>**容器组件：**为使组件的职责更加单一，耦合性进一步地降低，引入了容器组件(Container Component)的概念。重要负责对数据获取以及处理的逻辑。下文的设计模式也会提到。</p>\n</li>\n<li>\n<p><strong>高阶组件：</strong>“高阶组件（HoC）”也算是种组件设计模式。做为一个高阶组件，可以在原有组件的基础上，对其增加新的功能和行为。如打印日志，获取数据和校验数据等和展示无关的逻辑的时候，抽象出一个高阶组件，用以给基础的组件增加这些功能，减少公共的代码。</p>\n</li>\n<li>\n<p>**Render Callback组件：**组件模式是在组件中使用渲染回调的方式，将组件中的渲染逻辑委托给其子组件。也是种重用组件逻辑的方式，也叫render props 模式。</p>\n</li>\n</ol>\n<h2>三、设计原则</h2>\n<p>React 的组件其实是软件设计中的模块，其设计原则也需遵从通用的组件设计原则，简单说来，就是要减少组件之间的耦合性（Coupling)，让组件简单，这样才能让整体系统易于理解、易于维护。</p>\n<p>即，设计原则：</p>\n<ul>\n<li>接口小，props 数量少；</li>\n<li>划分组件，充分利用组合（composition）；</li>\n<li>把 state 往上层组件提取，让下层组件只需要实现为纯函数。</li>\n</ul>\n<p>就像搭积木，复杂的应用和组件都是由简单的界面和组件组成的。划分组件也没有绝对的方法，选择在当下场景合适的方式划分，充分利用组合即可。实际编写代码也是逐步精进的过程，努力做到：</p>\n<ul>\n<li>功能正常；</li>\n<li>代码整洁；</li>\n<li>高性能。</li>\n</ul>\n',date:Gn,path:"/posts/2020-12-21-_React_－－万物皆可组件"},{attributes:{title:"javascript 进阶问题",date:Fn,updated:"2021/11/29 16:36:50",categories:[n],tags:[p],thumb:s},html:"<p>Github：https://github.com/lydiahallie/javascript-questions</p>\n<p>相当不错的一个 Github 仓库，<code>javascript questions</code> ，作者每周都会发布一些有关 javascript 的题目，虽然不难但是考察细节，刷了一会，其实一些很简单的问题，结果因为细节思考不到位直接出错。</p>\n\x3c!-- more --\x3e\n<blockquote>\n<p>引用作者的话：我在我的 Instagram 上每天都会发布 JavaScript 的多选问题，并且同时也会在这个仓库中发布。</p>\n</blockquote>\n<blockquote>\n<p>从基础到进阶，测试你有多了解 JavaScript，刷新你的知识，或者帮助你的 coding 面试！</p>\n</blockquote>\n",date:Fn,path:"/posts/2020-12-19-javascript_进阶问题"},{attributes:{title:"React 学习笔记（二）",date:Hn,updated:"2021/11/29 16:36:25",categories:[n],tags:[t],thumb:s},html:'<p>React 元素的事件处理和 DOM 元素的很相似，但是有一点语法上的不同</p>\n<p>React 事件的命名采用小驼峰式（camelCase），而不是纯小写</p>\n<p>使用 JSX 语法时你需要传入一个函数作为事件处理函数，而不是一个字符串</p>\n\x3c!-- more --\x3e\n<h2>一、事件处理</h2>\n<h3>1.事件绑定</h3>\n<p>React 元素的事件处理和 DOM 元素类似，但是在语法上有些区别，比如：</p>\n<p><strong>传统的html</strong>：用双引号包裹，后面必须跟参数</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><strong>React</strong>：用大括号包裹，后面不跟参数</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span>{myfun}</span><span class="token punctuation">></span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>一个完整的事件函数代码如下</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n        <span class="token comment">// 事件函数</span>\n        <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'helo,world\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token comment">// 绑定事件</span>\n            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>myfun<span class="token punctuation">}</span><span class="token operator">></span>\n                Activate Lasers\n            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n        <span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>Demo <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span>\n</code></pre>\n<blockquote>\n<p>如果方法后面没有<code>()</code>，则需要为这个方法绑定 <code>this</code></p>\n</blockquote>\n<h3>2.阻止默认行为</h3>\n<p>在 React 中还有一个不同的点，不能通过返回 fasle 阻止默认行为， React 提供了一个属性－－<code>preventDefault</code>，可以通过 preventDefault 阻止脚本执行</p>\n<p>看一下传统的 html 和 React 的对比</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alert(\'是否弹窗？\');return false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    Click me\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>直接在写上 false 就可以阻止脚本执行</p>\n<p>React 通过 preventDefault 属性阻止脚本执行：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ActionLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'The link was clicked.\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"#"</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span><span class="token operator">></span>\n      Click me\n    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h2>二、条件渲染</h2>\n<p>在 React 中，可以创建不同的组件来封装各种你需要的行为，然后，根据应用不同的状态，你可以只渲染对应状态下的部分内容。</p>\n<p>React 中的条件渲染和 javascript 中的一样，使用 <code>if</code> 运算符来表示元素当前的状态，然后让 React 根据他们来更新 UI。</p>\n<h3>使用 if..else 语句进行条件渲染</h3>\n<p>先写一个条件渲染的例子，定义了两个组件，然后通过判断组件 <code>Greeting</code> 中的变量 <code>isLoggedIn</code> 的真伪，让浏览器渲染组件 <code>UserGreeting</code> 或者 <code>GuestGreeting</code>。</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// App.js</span>\n<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">UserGreeting</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token operator">&lt;</span>h3<span class="token operator">></span>Welcome back<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">function</span> <span class="token function">GuestGreeting</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token operator">&lt;</span>h3<span class="token operator">></span>Please sign up<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">function</span> <span class="token function">Greeting</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> isLoggedIn <span class="token operator">=</span> props<span class="token punctuation">.</span>isLoggedIn<span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>isLoggedIn<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token operator">&lt;</span>UserGreeting <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>   \n      <span class="token keyword">return</span> <span class="token operator">&lt;</span>GuestGreeting <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>Greeting isLoggedIn<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>最后变量 <code>isLoggedIn</code> 定义了 <code>false</code>，因此，浏览器渲染 `GuestGreeting。</p>\n<h3>怎么阻止条件渲染？</h3>\n<p>在有些情况下，我们希望能隐藏组件，即使他已经被其他组件渲染。我们可以通过 <code>render</code> 方法返回 <code>null</code> 让组件不渲染。</p>\n<p>下面的示例中，<WarningBanner /> 会根据 prop 中 <code>warn</code> 的值来进行条件渲染。如果 <code>warn</code> 的值是 <code>false</code>，那么组件则不会渲染:</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">WarningBanner</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>props<span class="token punctuation">.</span>warn<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"warning"</span><span class="token operator">></span>\n      Warning<span class="token operator">!</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>showWarning<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>handleToggleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleToggleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">handleToggleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">state</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>\n      showWarning<span class="token operator">:</span> <span class="token operator">!</span>state<span class="token punctuation">.</span>showWarning\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>WarningBanner warn<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>showWarning<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleToggleClick<span class="token punctuation">}</span><span class="token operator">></span>\n          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>showWarning <span class="token operator">?</span> <span class="token string">\'Hide\'</span> <span class="token operator">:</span> <span class="token string">\'Show\'</span><span class="token punctuation">}</span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Page <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h2>三、渲染列表</h2>\n<p>先看一段代码，我们使用 <code>map()</code> 函数让数组中的每一项变双倍，然后得到一个新的数组 <code>doubled</code> 并打印出来。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> doubled <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> number <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doubled<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// [2,4,6,8,10]</span>\n</code></pre>\n<p>而在 React 中，把数组转换为元素列表的过程是相似的。</p>\n<p>先通过 <code>map()</code> 方法遍历 <code>numbers</code> 数组，将数组中的每个元素变成 <code>&lt;li&gt;</code> 标签，最后将得到的数组赋值给 <code>listItems</code> 。</p>\n<p>然后返回 <code>{listItem}</code> 。</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// Map.js</span>\n<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n  <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token punctuation">{</span>number<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>ul<span class="token operator">></span><span class="token punctuation">{</span>listItems<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>运行之后浏览器出现 1-5 的无序列表</p>\n<h3>1.分离组件</h3>\n<p>上面就是一个基本的列表渲染的例子，但是数据写死了。接下来我们将数组重构成一个组件，以后再进行数组渲染时，可以轻松调用。</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// Map.js</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Map</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n  <span class="token comment">// 分离出组件 NumberList 作为转换数组的组件</span>\n    <span class="token keyword">function</span> <span class="token function">NumberList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> numbers <span class="token operator">=</span> props<span class="token punctuation">.</span>numbers<span class="token punctuation">;</span>\n      <span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n        <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token punctuation">{</span>number<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> <span class="token punctuation">(</span>\n        <span class="token operator">&lt;</span>ul<span class="token operator">></span><span class="token punctuation">{</span>listItems<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// 传入需要的数据</span>\n    <span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>NumberList numbers<span class="token operator">=</span><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h3>2.key</h3>\n<p><img src="https://i.loli.net/2020/12/28/mIt3Gk7YTpoysuL.jpg" alt=""></p>\n<p>运行代码之后，页面会正常显示，但是控制台会报一个错误。<code>Each child in a list should have a unique &quot;key&quot; prop.</code>，意思是当你创建一个元素时，必须包括一个特殊的 <code>key</code> 属性。</p>\n<p>现在给每个列表元素分配一个key：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">NumberList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> numbers <span class="token operator">=</span> props<span class="token punctuation">.</span>numbers<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n    <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>\n      <span class="token punctuation">{</span>number<span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>ul<span class="token operator">></span><span class="token punctuation">{</span>listItems<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>NumberList numbers<span class="token operator">=</span><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>3.使用 id 作为 key</h3>\n<p><code>key</code> 帮助 React 识别了哪些元素被改变，比如删除和添加，所以应当给每个元素确定一个标识，也就是 <code>key</code>。</p>\n<p>一个元素的 <code>key</code> 最好是这个元素在列表中拥有的一个独一无二的字符串。通常，我们使用数据中的 <code>id</code> 来作为元素的 <code>key</code>：</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// Map.js</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Map</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n    <span class="token keyword">function</span> <span class="token function">NumberList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> numbers <span class="token operator">=</span> props<span class="token punctuation">.</span>numbers<span class="token punctuation">;</span>\n      <span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n        <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>  <span class="token comment">// 赋值 key</span>\n          <span class="token punctuation">{</span>number<span class="token punctuation">.</span>text<span class="token punctuation">}</span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> <span class="token punctuation">(</span>\n        <span class="token operator">&lt;</span>ul<span class="token operator">></span><span class="token punctuation">{</span>listItems<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// 传入数据</span>\n    <span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span>\n    <span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>Fragment<span class="token operator">></span>\n        <span class="token operator">&lt;</span>NumberList numbers<span class="token operator">=</span><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>Fragment<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h3>4.索引 index 可以作为 key 吗？</h3>\n<p>当元素没有确定 id 的时候，万不得已你可以使用元素索引 <code>index</code> 作为 <code>key</code>：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> todoItems <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n  <span class="token comment">// 仅仅当没有确定 id 的时候使用索引index作为 key</span>\n  <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">></span>\n    <span class="token punctuation">{</span>todo<span class="token punctuation">.</span>text<span class="token punctuation">}</span>\n  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>如果列表项目的顺序可能会变化，我们不建议使用索引来用作 <code>key</code> 值，因为这样做会导致性能变差，还可能引起组件状态的问题。</p>\n<h3>5.用 key 提取组件</h3>\n<p>比方说，如果你提取出一个 <code>ListItem</code> 组件，你应该把 <code>key</code> 保留在数组中的这个 <code>&lt;ListItem /&gt;</code> 元素上，而不是放在 <code>ListItem</code> 组件中的 <code>&lt;li&gt;</code> 元素上。</p>\n<p><red>错误的使用方法：</red></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> value <span class="token operator">=</span> props<span class="token punctuation">.</span>value<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token comment">// 错误！你不需要在这里指定 key：</span>\n    <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>\n      <span class="token punctuation">{</span>value<span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">NumberList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> numbers <span class="token operator">=</span> props<span class="token punctuation">.</span>numbers<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n    <span class="token comment">// 错误！元素的 key 应该在这里指定：</span>\n    <span class="token operator">&lt;</span>ListItem value<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>ul<span class="token operator">></span>\n      <span class="token punctuation">{</span>listItems<span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>NumberList numbers<span class="token operator">=</span><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p><green>正确的使用方法：</green></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 正确！这里不需要指定 key：</span>\n  <span class="token keyword">return</span> <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">NumberList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> numbers <span class="token operator">=</span> props<span class="token punctuation">.</span>numbers<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n    <span class="token comment">// 正确！key 应该在数组的上下文中被指定</span>\n    <span class="token operator">&lt;</span>ListItem key<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>              value<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>ul<span class="token operator">></span>\n      <span class="token punctuation">{</span>listItems<span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>NumberList numbers<span class="token operator">=</span><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<blockquote>\n<p>React：一个好的经验法则是：在 map( ) 方法中的元素需要设置 key 属性。</p>\n</blockquote>\n<h3>6.key 只是在兄弟节点之间必须唯一</h3>\n<p>数组元素中使用的 <code>key</code> 在其兄弟节点之间应该是独一无二的。然而，它们不需要是全局唯一的。当我们生成两个不同的数组时，我们可以使用相同的 <code>key</code> 值：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Blog</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> sidebar <span class="token operator">=</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>ul<span class="token operator">></span>\n      <span class="token punctuation">{</span>props<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n        <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>\n          <span class="token punctuation">{</span>post<span class="token punctuation">.</span>title<span class="token punctuation">}</span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n      <span class="token punctuation">)</span><span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> content <span class="token operator">=</span> props<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n    <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span>h3<span class="token operator">></span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>\n      <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>content<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      <span class="token punctuation">{</span>sidebar<span class="token punctuation">}</span>\n      <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token punctuation">{</span>content<span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">\'Hello World\'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">\'Welcome to learning React!\'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">\'Installation\'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">\'You can install React from npm.\'</span><span class="token punctuation">}</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Blog posts<span class="token operator">=</span><span class="token punctuation">{</span>posts<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>7.vue 中渲染列表</h3>\n<p>Vue 中渲染列表使用的是特殊指令 <code>v-for</code>，其中也有 <code>key</code> 的相关用法</p>\n<p>React 中采用的是 <code>map()</code> 方法遍历数组，然后渲染列表</p>\n<hr>\n<p>title: React 学习笔记（二）<br>\ndate: 2020-12-16 13:15:00<br>\nupdated: 2021-11-09 15:19:31<br>\ncategories:</p>\n<ul>\n<li>技术<br>\ntags:</li>\n<li>react</li>\n</ul>\n<hr>\n<p>React 元素的事件处理和 DOM 元素的很相似，但是有一点语法上的不同</p>\n<p>React 事件的命名采用小驼峰式（camelCase），而不是纯小写</p>\n<p>使用 JSX 语法时你需要传入一个函数作为事件处理函数，而不是一个字符串</p>\n\x3c!-- more --\x3e\n<h2>一、事件处理</h2>\n<h3>1.事件绑定</h3>\n<p>React 元素的事件处理和 DOM 元素类似，但是在语法上有些区别，比如：</p>\n<p><strong>传统的html</strong>：用双引号包裹，后面必须跟参数</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><strong>React</strong>：用大括号包裹，后面不跟参数</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span>{myfun}</span><span class="token punctuation">></span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>一个完整的事件函数代码如下</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n        <span class="token comment">// 事件函数</span>\n        <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'helo,world\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token comment">// 绑定事件</span>\n            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>myfun<span class="token punctuation">}</span><span class="token operator">></span>\n                Activate Lasers\n            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n        <span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>Demo <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span>\n</code></pre>\n<blockquote>\n<p>如果方法后面没有<code>()</code>，则需要为这个方法绑定 <code>this</code></p>\n</blockquote>\n<h3>2.阻止默认行为</h3>\n<p>在 React 中还有一个不同的点，不能通过返回 fasle 阻止默认行为， React 提供了一个属性－－<code>preventDefault</code>，可以通过 preventDefault 阻止脚本执行</p>\n<p>看一下传统的 html 和 React 的对比</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alert(\'是否弹窗？\');return false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    Click me\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>直接在写上 false 就可以阻止脚本执行</p>\n<p>React 通过 preventDefault 属性阻止脚本执行：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ActionLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'The link was clicked.\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"#"</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span><span class="token operator">></span>\n      Click me\n    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h2>二、条件渲染</h2>\n<p>在 React 中，可以创建不同的组件来封装各种你需要的行为，然后，根据应用不同的状态，你可以只渲染对应状态下的部分内容。</p>\n<p>React 中的条件渲染和 javascript 中的一样，使用 <code>if</code> 运算符来表示元素当前的状态，然后让 React 根据他们来更新 UI。</p>\n<h3>使用 if..else 语句进行条件渲染</h3>\n<p>先写一个条件渲染的例子，定义了两个组件，然后通过判断组件 <code>Greeting</code> 中的变量 <code>isLoggedIn</code> 的真伪，让浏览器渲染组件 <code>UserGreeting</code> 或者 <code>GuestGreeting</code>。</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// App.js</span>\n<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">UserGreeting</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token operator">&lt;</span>h3<span class="token operator">></span>Welcome back<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">function</span> <span class="token function">GuestGreeting</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token operator">&lt;</span>h3<span class="token operator">></span>Please sign up<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">function</span> <span class="token function">Greeting</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> isLoggedIn <span class="token operator">=</span> props<span class="token punctuation">.</span>isLoggedIn<span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>isLoggedIn<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token operator">&lt;</span>UserGreeting <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>   \n      <span class="token keyword">return</span> <span class="token operator">&lt;</span>GuestGreeting <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>Greeting isLoggedIn<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>最后变量 <code>isLoggedIn</code> 定义了 <code>false</code>，因此，浏览器渲染 `GuestGreeting。</p>\n<h3>怎么阻止条件渲染？</h3>\n<p>在有些情况下，我们希望能隐藏组件，即使他已经被其他组件渲染。我们可以通过 <code>render</code> 方法返回 <code>null</code> 让组件不渲染。</p>\n<p>下面的示例中，<WarningBanner /> 会根据 prop 中 <code>warn</code> 的值来进行条件渲染。如果 <code>warn</code> 的值是 <code>false</code>，那么组件则不会渲染:</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">WarningBanner</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>props<span class="token punctuation">.</span>warn<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"warning"</span><span class="token operator">></span>\n      Warning<span class="token operator">!</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>showWarning<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>handleToggleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleToggleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">handleToggleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">state</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>\n      showWarning<span class="token operator">:</span> <span class="token operator">!</span>state<span class="token punctuation">.</span>showWarning\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>WarningBanner warn<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>showWarning<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleToggleClick<span class="token punctuation">}</span><span class="token operator">></span>\n          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>showWarning <span class="token operator">?</span> <span class="token string">\'Hide\'</span> <span class="token operator">:</span> <span class="token string">\'Show\'</span><span class="token punctuation">}</span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Page <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h2>三、渲染列表</h2>\n<p>先看一段代码，我们使用 <code>map()</code> 函数让数组中的每一项变双倍，然后得到一个新的数组 <code>doubled</code> 并打印出来。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> doubled <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> number <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doubled<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// [2,4,6,8,10]</span>\n</code></pre>\n<p>而在 React 中，把数组转换为元素列表的过程是相似的。</p>\n<p>先通过 <code>map()</code> 方法遍历 <code>numbers</code> 数组，将数组中的每个元素变成 <code>&lt;li&gt;</code> 标签，最后将得到的数组赋值给 <code>listItems</code> 。</p>\n<p>然后返回 <code>{listItem}</code> 。</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// Map.js</span>\n<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n  <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token punctuation">{</span>number<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>ul<span class="token operator">></span><span class="token punctuation">{</span>listItems<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>运行之后浏览器出现 1-5 的无序列表</p>\n<h3>1.分离组件</h3>\n<p>上面就是一个基本的列表渲染的例子，但是数据写死了。接下来我们将数组重构成一个组件，以后再进行数组渲染时，可以轻松调用。</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// Map.js</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Map</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n  <span class="token comment">// 分离出组件 NumberList 作为转换数组的组件</span>\n    <span class="token keyword">function</span> <span class="token function">NumberList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> numbers <span class="token operator">=</span> props<span class="token punctuation">.</span>numbers<span class="token punctuation">;</span>\n      <span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n        <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token punctuation">{</span>number<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> <span class="token punctuation">(</span>\n        <span class="token operator">&lt;</span>ul<span class="token operator">></span><span class="token punctuation">{</span>listItems<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// 传入需要的数据</span>\n    <span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>NumberList numbers<span class="token operator">=</span><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h3>2.key</h3>\n<p><img src="https://i.loli.net/2020/12/28/mIt3Gk7YTpoysuL.jpg" alt=""></p>\n<p>运行代码之后，页面会正常显示，但是控制台会报一个错误。<code>Each child in a list should have a unique &quot;key&quot; prop.</code>，意思是当你创建一个元素时，必须包括一个特殊的 <code>key</code> 属性。</p>\n<p>现在给每个列表元素分配一个key：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">NumberList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> numbers <span class="token operator">=</span> props<span class="token punctuation">.</span>numbers<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n    <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>\n      <span class="token punctuation">{</span>number<span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>ul<span class="token operator">></span><span class="token punctuation">{</span>listItems<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>NumberList numbers<span class="token operator">=</span><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>3.使用 id 作为 key</h3>\n<p><code>key</code> 帮助 React 识别了哪些元素被改变，比如删除和添加，所以应当给每个元素确定一个标识，也就是 <code>key</code>。</p>\n<p>一个元素的 <code>key</code> 最好是这个元素在列表中拥有的一个独一无二的字符串。通常，我们使用数据中的 <code>id</code> 来作为元素的 <code>key</code>：</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// Map.js</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Map</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n    <span class="token keyword">function</span> <span class="token function">NumberList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> numbers <span class="token operator">=</span> props<span class="token punctuation">.</span>numbers<span class="token punctuation">;</span>\n      <span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n        <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>  <span class="token comment">// 赋值 key</span>\n          <span class="token punctuation">{</span>number<span class="token punctuation">.</span>text<span class="token punctuation">}</span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> <span class="token punctuation">(</span>\n        <span class="token operator">&lt;</span>ul<span class="token operator">></span><span class="token punctuation">{</span>listItems<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// 传入数据</span>\n    <span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>text<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span>\n    <span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>Fragment<span class="token operator">></span>\n        <span class="token operator">&lt;</span>NumberList numbers<span class="token operator">=</span><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>Fragment<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h3>4.索引 index 可以作为 key 吗？</h3>\n<p>当元素没有确定 id 的时候，万不得已你可以使用元素索引 <code>index</code> 作为 <code>key</code>：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> todoItems <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n  <span class="token comment">// 仅仅当没有确定 id 的时候使用索引index作为 key</span>\n  <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">></span>\n    <span class="token punctuation">{</span>todo<span class="token punctuation">.</span>text<span class="token punctuation">}</span>\n  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>如果列表项目的顺序可能会变化，我们不建议使用索引来用作 <code>key</code> 值，因为这样做会导致性能变差，还可能引起组件状态的问题。</p>\n<h3>5.用 key 提取组件</h3>\n<p>比方说，如果你提取出一个 <code>ListItem</code> 组件，你应该把 <code>key</code> 保留在数组中的这个 <code>&lt;ListItem /&gt;</code> 元素上，而不是放在 <code>ListItem</code> 组件中的 <code>&lt;li&gt;</code> 元素上。</p>\n<p><red>错误的使用方法：</red></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> value <span class="token operator">=</span> props<span class="token punctuation">.</span>value<span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token comment">// 错误！你不需要在这里指定 key：</span>\n    <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>\n      <span class="token punctuation">{</span>value<span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">NumberList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> numbers <span class="token operator">=</span> props<span class="token punctuation">.</span>numbers<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n    <span class="token comment">// 错误！元素的 key 应该在这里指定：</span>\n    <span class="token operator">&lt;</span>ListItem value<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>ul<span class="token operator">></span>\n      <span class="token punctuation">{</span>listItems<span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>NumberList numbers<span class="token operator">=</span><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p><green>正确的使用方法：</green></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ListItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 正确！这里不需要指定 key：</span>\n  <span class="token keyword">return</span> <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">NumberList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> numbers <span class="token operator">=</span> props<span class="token punctuation">.</span>numbers<span class="token punctuation">;</span>\n  <span class="token keyword">const</span> listItems <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n    <span class="token comment">// 正确！key 应该在数组的上下文中被指定</span>\n    <span class="token operator">&lt;</span>ListItem key<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>              value<span class="token operator">=</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>ul<span class="token operator">></span>\n      <span class="token punctuation">{</span>listItems<span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>NumberList numbers<span class="token operator">=</span><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<blockquote>\n<p>React：一个好的经验法则是：在 map( ) 方法中的元素需要设置 key 属性。</p>\n</blockquote>\n<h3>6.key 只是在兄弟节点之间必须唯一</h3>\n<p>数组元素中使用的 <code>key</code> 在其兄弟节点之间应该是独一无二的。然而，它们不需要是全局唯一的。当我们生成两个不同的数组时，我们可以使用相同的 <code>key</code> 值：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Blog</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> sidebar <span class="token operator">=</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>ul<span class="token operator">></span>\n      <span class="token punctuation">{</span>props<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n        <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>\n          <span class="token punctuation">{</span>post<span class="token punctuation">.</span>title<span class="token punctuation">}</span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n      <span class="token punctuation">)</span><span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> content <span class="token operator">=</span> props<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n    <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span>h3<span class="token operator">></span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>\n      <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>content<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      <span class="token punctuation">{</span>sidebar<span class="token punctuation">}</span>\n      <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token punctuation">{</span>content<span class="token punctuation">}</span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">\'Hello World\'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">\'Welcome to learning React!\'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">\'Installation\'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">\'You can install React from npm.\'</span><span class="token punctuation">}</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Blog posts<span class="token operator">=</span><span class="token punctuation">{</span>posts<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>7.vue 中渲染列表</h3>\n<p>Vue 中渲染列表使用的是特殊指令 <code>v-for</code>，其中也有 <code>key</code> 的相关用法</p>\n<p>React 中采用的是 <code>map()</code> 方法遍历数组，然后渲染列表</p>\n',date:Hn,path:"/posts/2020-12-16-React_学习笔记（二）"},{attributes:{title:"吐槽－－控制好自己的情绪",date:zn,updated:"2021/11/29 16:36:04",categories:[a],tags:[a],thumb:s},html:'<p>缘于一些小事，本想发在朋友圈里，但是熟人挺多，不方便发，就在博客里吐槽一下</p>\n\x3c!-- more --\x3e\n<p>一个正常的人际交往应该是互相传递出好的情绪，开心的事情，这样不但有利于两个人之间的交往，而且对个人对身心健康也是有帮助的</p>\n<p><img src="https://shuxhan-imgbed.oss-cn-hangzhou.aliyuncs.com/img/20210108144851.png" alt=""></p>\n<p>正面的情绪绝对有助于自己的身体和心理健康，反观整体郁郁寡欢，跟别人说自己多不顺，和别人吵架，不好的情绪就传达给另一个人了</p>\n<p>并不是说不能找人倾述自己生活的不痛快和不开心，但是作为一个成年人了，应该要把握好那个感觉，不要真把别人当垃圾桶了，什么都往里倒，宣泄</p>\n<p>情侣之间亦是如此，再好的关系，如果每天散发着各种压抑的情绪，爆发是迟早的事</p>\n<blockquote>\n<p>家家有本难念的经</p>\n</blockquote>\n<p>每个人都会有自己的烦心事，都能理解，毕竟生活确实很苦闷，但要学会自己调节自己。</p>\n<p>我也会经常烦闷，但是我选择做一些爱好的事情来排遣掉自己的不好的情绪，并不会将这些传递给别人，所以我也算过的很开心吧</p>\n<p>成年人，不就是要学会自己克制自己的缺点，希望每个人都能生活的很愉快！</p>\n',date:zn,path:"/posts/2020-12-13-吐槽－－控制好自己的情绪"},{attributes:{title:"React 中的占位符 Fragment",date:$n,updated:"2021/11/29 16:35:50",categories:[n],tags:[t],thumb:s},html:'\x3c!-- more --\x3e\n<p>在 React 项目中， render 方法只能有一个根元素，一般都是 <code>&lt;div&gt; &lt;div/&gt;</code> ，然后在里面写上我们的组件，渲染到浏览器一看，除了我们想要显示的组件，外面还套着一层 div ，如果在写项目的时候，套了很多曾组件，那么每一层都会多出来一个父级元素 div ，不美观，而且在调整样式的时候会有些麻烦</p>\n<p>因此， React 提供了一个占位符 Fragment，写法是：</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// index.js</span>\n\n<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span>Fragment <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">index</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">(</span>\n            <span class="token operator">&lt;</span>Fragment<span class="token operator">></span>\n                <span class="token operator">&lt;</span>h2<span class="token operator">></span>hello<span class="token punctuation">,</span>wolrd<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>\n            <span class="token operator">&lt;</span><span class="token operator">/</span>Fragment<span class="token operator">></span>\n        <span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>在引入 React 的时候，增加一个属性 Fragment ，然后 <code>render()</code>方法下唯一的根元素我们用 <code>&lt;Fragment&gt; &lt;/Fragment&gt;</code> 来代替，这时候再看浏览器，就不会显示多余的标签了，直接显示 <code>&lt;h2&gt;</code>标签</p>\n',date:$n,path:"/posts/2020-12-12-React_中的占位符_Fragment"},{attributes:{title:"为什么不可变性在 React 中那么重要？",date:Jn,updated:"2021/11/29 16:22:33",categories:[n],tags:[k,t],thumb:s},html:'<p>根据官网文档来解释，为什么不可变性的概念在 React 中非常重要的原因，一般来说，有两种改变数据的方式。第一种方式是直接修改变量的值，第二种方式是使用新的一份数据替换旧数据</p>\n\x3c!-- more --\x3e\n<blockquote>\n<p><a href="https://react.docschina.org/tutorial/tutorial.html#why-immutability-is-important">React 文档</a></p>\n</blockquote>\n<p>一般来说，有两种改变数据的方式。第一种方式是直接修改变量的值，第二种方式是使用新的一份数据替换旧数据</p>\n<h2>直接修改数据</h2>\n<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> player <span class="token operator">=</span> <span class="token punctuation">{</span>score<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">\'Jeff\'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\nplayer<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>\n<span class="token comment">// player 修改后的值为 {score: 2, name: \'Jeff\'}</span>\n</code></pre>\n<h2>新数据替换旧数据</h2>\n<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> player <span class="token operator">=</span> <span class="token punctuation">{</span>score<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">\'Jeff\'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> newPlayer <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> player<span class="token punctuation">,</span> <span class="token punctuation">{</span>score<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// player 的值没有改变, 但是 newPlayer 的值是 {score: 2, name: \'Jeff\'}</span>\n\n<span class="token comment">// 使用对象展开语法，就可以写成：</span>\n<span class="token comment">// var newPlayer = {...player, score: 2};</span>\n</code></pre>\n<p><strong>不直接修改（或改变底层数据）这种方式和前一种方式的结果是一样的，这种方式有以下几点好处:</strong></p>\n<h2>简化复杂的功能</h2>\n<p>不可变性使得复杂的特性更容易实现。在后面的章节里，我们会实现一种叫做“时间旅行”的功能。“时间旅行”可以使我们回顾井字棋的历史步骤，并且可以“跳回”之前的步骤。这个功能并不是只有游戏才会用到——撤销和恢复功能在开发中是一个很常见的需求。不直接在数据上修改可以让我们追溯并复用游戏的历史记录</p>\n<h2>跟踪数据的改变</h2>\n<p>如果直接修改数据，那么就很难跟踪到数据的改变。跟踪数据的改变需要可变对象可以与改变之前的版本进行对比，这样整个对象树都需要被遍历一次</p>\n<h2>确定在 React 中何时重新渲染</h2>\n<p>不可变性最主要的优势在于它可以帮助我们在 React 中创建 pure components。我们可以很轻松的确定不可变数据是否发生了改变，从而确定何时对组件进行重新渲染</p>\n',date:Jn,path:"/posts/2020-12-02-为什么不可变性在_React_中那么重要？"},{attributes:{title:"关于react的一份学习计划",date:Yn,updated:"2021/11/29 16:19:28",categories:[a],tags:[t],thumb:s},html:'<p>有关react框架的学习计划，除了之前推荐的react开源作者写的学习建议，我还参考了阮一峰的react实例教程，写的通俗易懂，又难易并进，可以很快的掌握react的核心要点</p>\n\x3c!-- more --\x3e\n<p>之前说了，为了公司的项目决定学习react框架，看了一份react.js开源作者的一份学习计划，<a href="../20201119-react-learning-path">react学习路径－－怎么学习react？</a>个人感觉还是不错，但是需要看的文档比较多且官方文档没有那么详细的讲解，只说个原理，有些难以参透。</p>\n<p>在网络上浏览很久，发现大家对阮一峰的react教程风评不错，就去看了一下。</p>\n<p>很适合刚接触react的人，可以很快的上手，再参照一下官方文档，理解上来就很深入且进一步了。</p>\n<p><a href="https://react.docschina.org/docs/getting-started.html">react官方文档</a></p>\n<p><a href="http://www.ruanyifeng.com/blog/2015/03/react.html">阮一峰的网络日志－react入门实例教程</a></p>\n<blockquote>\n<p>阮一峰:我学习 React 时，就很苦恼。有的教程讨论一些细节问题，对入门没帮助；有的教程写得不错，但比较短，无助于看清全貌。我断断续续学了几个月，看过二十几篇教程，在这个过程中，将对自己有帮助的 Demo 都收集下来，做成了一个库<code>React Demos</code>。</p>\n</blockquote>\n<blockquote>\n<p>下面，我就根据这个库，写一篇全面又易懂的 React 入门教程。你只需要跟着每一个 Demo 做一遍，就能初步掌握 React 。当然，前提是你必须拥有基本 JavaScript 和 DOM 知识，但是你读完就会发现，React 所要求的预备知识真的很少。</p>\n</blockquote>\n<p>github &gt;&gt;&gt; <a href="https://github.com/ruanyf/react-demos">ruanyf/react-demos</a></p>\n<p>把这个库clone下来，然后跟着练习。</p>\n<p>只要有一定的javascript基本，我觉得学习react并不困难，当然这只是入门，想要更深入的了解他，我觉得还有一段路程去经历，以后也会慢慢记录在react使用中遇到的问题，以及一些知识点的笔记。</p>\n',date:Yn,path:"/posts/2020-11-27-关于react的一份学习计划"},{attributes:{title:"webpack安装配置指令",date:Wn,updated:"2021/11/29 16:19:03",categories:[n],tags:[b,y]},html:'<p>进行重新加载编译。实际就是将浏览器不认识的语法编译成浏览器认识的语法。比如less编译成css，ES6 语法 转成 ES5等等。</p>\n\x3c!-- more --\x3e\n<p>减少io请求,通常我们在请求后，会返回一个html到浏览器。这时，我们如果打开控制台，就会发现在html页面通过script,link等标签引用的静态资源， 浏览器会再次发出请求去获取这些资源。但是webpack的打包，将所有的静态资源都合并好了，减少了io请求。</p>\n<pre class="language-shell"><code class="language-shell"><span class="token comment"># 安装webpack</span>\n<span class="token function">npm</span> <span class="token function">install</span> --save-dev webpack\n</code></pre>\n<pre class="language-shell"><code class="language-shell"><span class="token comment"># 安装webpack-cli依赖</span>\n<span class="token function">npm</span> <span class="token function">install</span> --save-dev webpack-cli\n</code></pre>\n<pre class="language-shell"><code class="language-shell"><span class="token comment"># 创建新项目</span>\n<span class="token function">mkdir</span> demo\n</code></pre>\n<pre class="language-shell"><code class="language-shell"><span class="token comment"># cd项目</span>\n<span class="token builtin class-name">cd</span> demo\n</code></pre>\n<pre class="language-shell"><code class="language-shell"><span class="token comment"># 初始化</span>\n<span class="token function">npm</span> init -y\n</code></pre>\n<pre class="language-shell"><code class="language-shell"><span class="token comment"># 安装开发版本cli</span>\n<span class="token function">npm</span> <span class="token function">install</span> webpack webpack-cli --save-dev\n</code></pre>\n<p>新建一个html文件和一个js文件，工程目录如下</p>\n<pre class="language-shell"><code class="language-shell">  demo\n  <span class="token operator">|</span>- package.json\n+ <span class="token operator">|</span>- index.html\n+ <span class="token operator">|</span>- /src\n+   <span class="token operator">|</span>- index.js\n</code></pre>\n<p>src/index.js:</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'div\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// Lodash（目前通过一个 script 脚本引入）对于执行这一行是必需的</span>\n  element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">\'Hello\'</span><span class="token punctuation">,</span> <span class="token string">\'webpack\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">\' \'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> element<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\ndocument<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>index.html:</p>\n<pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!doctype html></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>起步<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://unpkg.com/lodash@4.16.6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./src/index.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>在package.json中：</p>\n<p>删除<code>&quot;main&quot;: &quot;index.js&quot;</code>,添加<code>&quot;private&quot;: true</code></p>\n<p>调整工程目录：</p>\n<pre><code>  demo\n  |- package.json\n+ |- /dist\n+   |- index.html\n- |- index.html\n  |- /src\n    |- index.js\n</code></pre>\n<p>要在<code>index.js</code>中打包<code>lodash</code>依赖，我们需要在本地安装 library，终端输入指令：</p>\n<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> --save lodash\n</code></pre>\n<p>然后调整<code>index.js</code>内容</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// 添加一行代码</span>\n<span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">\'lodash\'</span><span class="token punctuation">;</span>\n</code></pre>\n<p>在<code>dist/index.html</code>中可以把引入的外部文件<code>lodash</code>删去</p>\n<p>删去<code>&lt;script src=&quot;./src/index.js&quot;&gt;&lt;/script&gt;</code></p>\n<p>添加<code>&lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt;</code></p>\n<p>执行终端：</p>\n<pre class="language-shell"><code class="language-shell">npx webpack\n</code></pre>\n<p>即可在<code>dist</code>中打包生成需要的<code>main.js</code>文件</p>\n<p>还可以手动配置文件，在根目录下新建一个<code>webpack.config.js</code>文件</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'path\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 这里放着需要打包的文件，如果多个文件，用数组形式写</span>\n  entry<span class="token operator">:</span> <span class="token string">\'./src/index.js\'</span><span class="token punctuation">,</span>\n  output<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token comment">// 这里是打包生成的文件名，还可以手动修改</span>\n    filename<span class="token operator">:</span> <span class="token string">\'bundle.js\'</span><span class="token punctuation">,</span>\n    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'dist\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>考虑到用 CLI 这种方式来运行本地的 webpack 不是特别方便，我们可以设置一个快捷方式，</p>\n<p>在<code>package.json</code>中的<code>&quot;scripts&quot;</code>新增</p>\n<pre class="language-js"><code class="language-js"><span class="token string">"build"</span><span class="token operator">:</span> <span class="token string">"webpack"</span>\n</code></pre>\n<p>这样就可以使用<code>npm run build</code>指令代替之前的<code>npx</code>了</p>\n<p>把之前<code>dist</code>文件夹里面的<code>js文件</code>删去，然后重新打包</p>\n<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> run build\n</code></pre>\n<p>看一下工程目录</p>\n<pre class="language-js"><code class="language-js">demo\n<span class="token operator">|</span><span class="token operator">-</span> <span class="token keyword">package</span><span class="token punctuation">.</span>json\n<span class="token operator">|</span><span class="token operator">-</span> webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js\n<span class="token operator">|</span><span class="token operator">-</span> <span class="token operator">/</span>dist\n  <span class="token operator">|</span><span class="token operator">-</span> bundle<span class="token punctuation">.</span>js\n  <span class="token operator">|</span><span class="token operator">-</span> index<span class="token punctuation">.</span>html\n<span class="token operator">|</span><span class="token operator">-</span> <span class="token operator">/</span>src\n  <span class="token operator">|</span><span class="token operator">-</span> index<span class="token punctuation">.</span>js\n<span class="token operator">|</span><span class="token operator">-</span> <span class="token operator">/</span>node_modules\n</code></pre>\n<p>没问题，成功打包，浏览器也正常显示</p>\n<p><strong>在js文件中<code>import</code>了一个css文件，需要在配置中安装并添加<code>style-loaader</code>和<code>css-loader</code></strong></p>\n<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> --save-dev style-loader css-loader\n</code></pre>\n<p>webpack.config.js:</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'path\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  entry<span class="token operator">:</span> <span class="token string">\'./src/index.js\'</span><span class="token punctuation">,</span>\n  output<span class="token operator">:</span> <span class="token punctuation">{</span>\n    filename<span class="token operator">:</span> <span class="token string">\'bundle.js\'</span><span class="token punctuation">,</span>\n    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'dist\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n\n  <span class="token comment">// 添加的内容</span>\n  module<span class="token operator">:</span> <span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex">/\\.css$/</span><span class="token punctuation">,</span>\n        use<span class="token operator">:</span> <span class="token punctuation">[</span>\n          <span class="token string">\'style-loader\'</span><span class="token punctuation">,</span>\n          <span class="token string">\'css-loader\'</span>\n        <span class="token punctuation">]</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>然后在js模块中：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token string">\'./style.css\'</span>\n</code></pre>\n<p><code>npm run build</code>就可以自动解析打包啦</p>\n<p><strong>加载图片</strong></p>\n<p>下载安装<code>file-loader</code></p>\n<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> --save-dev file-loader\n</code></pre>\n<p>webpack.config.js:</p>\n<pre class="language-js"><code class="language-js">module<span class="token operator">:</span> <span class="token punctuation">{</span>\n  rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span>\n      test<span class="token operator">:</span> <span class="token regex">/\\.css$/</span><span class="token punctuation">,</span>\n        use<span class="token operator">:</span> <span class="token punctuation">[</span>\n          <span class="token string">\'style-loader\'</span><span class="token punctuation">,</span>\n          <span class="token string">\'css-loader\'</span>\n      <span class="token punctuation">]</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex">/\\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>\n        use<span class="token operator">:</span> <span class="token punctuation">[</span>\n          <span class="token string">\'file-loader\'</span>\n      <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p><strong>加载字体</strong></p>\n<p><a href="https://www.webpackjs.com/guides/asset-management/#%E5%8A%A0%E8%BD%BD%E5%AD%97%E4%BD%93">webpack加载字体资源</a></p>\n<p><strong>记载数据资源</strong></p>\n<p>此外，可加载的有用资源还有数据，<code>json文件</code>，<code>CSV</code>，<code>TSV</code>，<code>XML</code>等，实际上，<code>json</code>是内置的，可以直接<code>import data from \'./data.json\'</code>引入</p>\n<p>但是<code>CSV</code>，<code>TSV</code>，<code>XML</code>不可以，需要配置一下依赖</p>\n<p>终端下载安装：</p>\n<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> --save-dev csv-loader xml-loader\n</code></pre>\n<p>webpack.config.js:</p>\n<pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>\n  test<span class="token operator">:</span> <span class="token regex">/\\.(csv|tsv)$/</span><span class="token punctuation">,</span>\n  use<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">\'csv-loader\'</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">{</span>\n  test<span class="token operator">:</span> <span class="token regex">/\\.xml$/</span><span class="token punctuation">,</span>\n  use<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">\'xml-loader\'</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>在<code>src</code>目录下添加一个json文件<code>data.json</code></p>\n<p>然后在<code>index.js</code>中引入：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> data <span class="token keyword">from</span> <span class="token string">\'./data.json\'</span>\n</code></pre>\n',date:Wn,path:"/posts/2020-11-26-webpack安装配置指令"},{attributes:{title:"vue学习笔记(3)－－computed, watch，calss, style",date:Kn,updated:"2021/11/29 16:18:18",categories:[n],tags:[c,o]},html:'\x3c!-- more --\x3e\n<h2>一、计算属性computed</h2>\n<h3>1.例子</h3>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{revermessage}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> <span class="token punctuation">{</span>\n      message<span class="token operator">:</span> <span class="token string">\'hello,wolrd\'</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    computed<span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token function-variable function">revermessage</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>声明一个计算属性<code>severmessage</code>，在<code>computed</code>中被指向对<code>message</code>进行一些方法操作后的返回值</p>\n<p>此时<code>vm.severmessage</code>依赖于<code>vm.message</code>的变化，对<code>message</code>改变数据，会引起<code>severmessage</code>的更新</p>\n<h3>2.计算属性缓存和方法</h3>\n<p>还可以通过在表达式中调用方法来达到想要的效果</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{revermessage()}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> <span class="token punctuation">{</span>\n      message<span class="token operator">:</span> <span class="token string">\'hello,wolrd\'</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    methods<span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token function-variable function">revermessage</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>经过测试，两者的结果是一样的</p>\n<p>我们可以将同一函数定义为一个方法而不是一个计算属性。两种方式的最终结果确实是完全相同的</p>\n<p>区别是：<strong>计算属性是基于他们的响应式依赖进行缓存的，只有当响应式依赖，也就是<code>message</code>发生改变时才会重新求值</strong>，就意味着，只要<code>message</code>还没改变，多次访问<code>revermessage</code>计算属性只会返回之前计算结果的缓存，而不是直接执行计算属性的函数</p>\n<p>而方法，<strong>在每次触发重新渲染时，调用方法都会执行一次函数</strong>，这就多了一份开销</p>\n<p>我们为什么需要缓存？假设我们有一个性能开销比较大的计算属性 A，它需要遍历一个巨大的数组并做大量的计算。然后我们可能有其他的计算属性依赖于 A。如果没有缓存，我们将不可避免的多次执行 A 的 getter！如果你不希望有缓存，请用方法来替代</p>\n<h3>3.计算属性和侦听属性</h3>\n<p>vue还有一种方式来观测vue实例上的数据变动：<strong>侦听属性－－watch</strong></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  {{fullname}}\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> <span class="token punctuation">{</span>\n      firstname<span class="token operator">:</span> <span class="token string">\'a\'</span><span class="token punctuation">,</span>\n      lastname<span class="token operator">:</span> <span class="token string">\'b\'</span><span class="token punctuation">,</span>\n      fullname<span class="token operator">:</span> <span class="token string">\'ab\'</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    watch<span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token function-variable function">firstname</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> val <span class="token operator">+</span> <span class="token string">\' \'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token function-variable function">lastname</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">\' \'</span> <span class="token operator">+</span> val\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>使用过程是极其繁琐且重复的，再来用计算属性试一下</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  {{fullname}}\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> <span class="token punctuation">{</span>\n      firstname<span class="token operator">:</span> <span class="token string">\'a\'</span><span class="token punctuation">,</span>\n      lastname<span class="token operator">:</span> <span class="token string">\'b\'</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    computed<span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token function-variable function">fullname</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstname <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastname\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>很简单快速的就得到了我们想要的函数表达式</p>\n<h3>4.计算属性的setter</h3>\n<pre class="language-js"><code class="language-js">computed<span class="token operator">:</span> <span class="token punctuation">{</span>\n  fullName<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token comment">// getter</span>\n    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">\' \'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">// setter</span>\n    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">var</span> names <span class="token operator">=</span> newValue<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">\' \'</span><span class="token punctuation">)</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> names<span class="token punctuation">[</span>names<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>现在在控制台输入<code>vm.fullName = \'John Doe\'</code>，页面会响应，并且<code>setter</code>会被调用，<code>vm.firstname</code>和<code>vm.lastname</code>也会相应地被更新</p>\n<h2>二、绑定class和style</h2>\n<h3>1.对象语法</h3>\n<p>可以给<code>v-bind:class</code>传入一个对象，动态的切换<code>class</code></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{active: ok}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>可以通过控制<code>ok</code>的布尔值来动态的控制class</p>\n<p>还可以创建多个字段，并且不影响普通的<code>className</code>的存在</p>\n<p>html:</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>\n  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>static<span class="token punctuation">"</span></span>\n  <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ active: isActive, \'text-danger\': hasError }<span class="token punctuation">"</span></span>\n<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>data:</p>\n<pre class="language-js"><code class="language-js">data<span class="token punctuation">{</span>\n  isActive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  hasError<span class="token operator">:</span> <span class="token boolean">false</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>结果为：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>static active<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>当<code>isActive</code>或者<code>hasError</code>变化时，class 列表将相应地更新。例如，如果<code>hasError</code>的值为<code>true</code>，class 列表将变为<code>&quot;static active text-danger&quot;</code>。</p>\n<p>绑定的数据对象也不必直接写在内联模板里</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>classobject<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> <span class="token punctuation">{</span>\n      classobject<span class="token operator">:</span> <span class="token punctuation">{</span>\n        active<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        <span class="token string">\'text-danger\'</span><span class="token operator">:</span> <span class="token boolean">true</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- &lt;div class="active text-danger">&lt;/div> --\x3e</span>\n</code></pre>\n<blockquote>\n<p>如果<code>className</code>有特殊符号，必须加上引号<code>\'\'</code>，或者<code>&quot;&quot;</code></p>\n</blockquote>\n<h3>2.数组语法</h3>\n<p>我们可以把一个数组传给<code>v-bind:class</code>，以应用一个 class 列表</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[activeClass, errorClass]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<pre class="language-js"><code class="language-js">data<span class="token operator">:</span> <span class="token punctuation">{</span>\n  activeClass<span class="token operator">:</span> <span class="token string">\'active\'</span><span class="token punctuation">,</span>\n  errorClass<span class="token operator">:</span> <span class="token string">\'text-danger\'</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>渲染为：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>active text-danger<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<h3>3.用在组件上</h3>\n<p>当在一个自定义组件上使用<code>class</code>property 时，这些 class 将被添加到该组件的根元素上面。这个元素上已经存在的 class 不会被覆盖。</p>\n<pre class="language-js"><code class="language-js">Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">\'my-component\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  template<span class="token operator">:</span> <span class="token string">\'&lt;p class="foo bar">Hi&lt;/p>\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>然后在使用的使用的时候添加了一些<code>class</code>：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baz boo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>html将会被渲染成：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>foo bar baz boo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>对于带数据绑定的<code>class</code>也同样适用</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ active: isActive }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>当<code>isActive</code>为 truthy 时，HTML 将被渲染成为：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>foo bar active<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n</code></pre>\n<h3>4.绑定内联样式style</h3>\n<p><code>v-bind:style</code>的对象语法十分直观——看着非常像 CSS，但其实是一个 JavaScript 对象。CSS property 名可以用<code>驼峰式</code>或<code>带引号的短横线</code>来命名</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> activeColor<span class="token punctuation">,</span> <span class="token property">fontSize</span><span class="token punctuation">:</span> fontSize + <span class="token string">\'px\'</span> <span class="token punctuation">}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>js:</p>\n<pre class="language-js"><code class="language-js">data<span class="token operator">:</span> <span class="token punctuation">{</span>\n  activeColor<span class="token operator">:</span> <span class="token string">\'red\'</span><span class="token punctuation">,</span>\n  fontSize<span class="token operator">:</span> <span class="token number">30</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p><strong>或者直接绑定到一个对象，会让模板更加清晰</strong></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value">styleObject</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>js:</p>\n<pre class="language-js"><code class="language-js">data<span class="token operator">:</span> <span class="token punctuation">{</span>\n  styleObject<span class="token operator">:</span> <span class="token punctuation">{</span>\n    color<span class="token operator">:</span> <span class="token string">\'red\'</span><span class="token punctuation">,</span>\n    fontSize<span class="token operator">:</span> <span class="token string">\'13px\'</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p><strong>也可以将多个对象应用到一个元素上</strong></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value">[baseStyles<span class="token punctuation">,</span> overridingStyles]</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><strong>自动添加前缀</strong></p>\n<p>当<code>v-bind:style</code>需要使用浏览器前缀的时候，如：<code>-webkit-</code>等，vue会自动侦测并帮生成相应的前缀</p>\n',date:Kn,path:"/posts/2020-11-25-vue学习笔记(3)－－computed,_watch，calss,_style"},{attributes:{title:"vue学习笔记(2)－－vue实例和模板语法",date:Xn,updated:"2021/11/29 16:17:11",categories:[n],tags:[c,o],thumb:s},html:'\x3c!-- more --\x3e\n<h2>一、vue实例</h2>\n<h3>1.创建vue实例</h3>\n<p>一个vue实例应该通过<code>new Vue</code>来创建根实例，所有的 vue 组件其实都是 vue 实例</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token operator">...</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>当一个实例被创建时，<code>data</code>对象中的 property 都被加入到vue的响应式系统中，当值发生改变时，试图也会改变</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>\n\n<span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  data<span class="token operator">:</span> data\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>此时在控制台输入<code>vm.a == data.a</code>会返回true，<code>变量data</code>已经被赋给<code>vue实例</code>中的<code>data对象</code>了</p>\n<p>同时，对两个对象的数据进行操作改变也会影响到另一个</p>\n<pre class="language-js"><code class="language-js">vm<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span>\n<span class="token comment">// data.a = 2</span>\n\ndata<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">3</span>\n<span class="token comment">// vm.a = 3</span>\n</code></pre>\n<p>当数据改变时，视图也会重新渲染，<strong>如果在vue实例被创建后，又添加了一个新的property，则不会被加入到响应式系统中</strong></p>\n<p>如果一开始就知道后面会添加一个property，但是一开始不存在或为空，需要设置一些初始值</p>\n<pre class="language-js"><code class="language-js">data<span class="token operator">:</span> <span class="token punctuation">{</span>\n  newTodoText<span class="token operator">:</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n  visitCount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n  hideCompletedTods<span class="token operator">:</span> fasle<span class="token punctuation">,</span>\n  todos<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  error<span class="token operator">:</span> <span class="token keyword">null</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p><strong>使用Object.freeze()方法的时候，无法修改数据引起视图变化</strong></p>\n<blockquote>\n<p>Object.freeze() 方法可以冻结一个对象。一个被冻结的对象再也不能被修改；冻结了一个对象则不能向这个对象添加新的属性，不能删除已有属性，不能修改该对象已有属性的可枚举性、可配置性、可写性，以及不能修改已有属性的值。此外，冻结一个对象后该对象的原型也不能被修改。freeze() 返回和传入的参数相同的对象。</p>\n</blockquote>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>message<span class="token operator">:</span> <span class="token string">\'hello,wolrd\'</span><span class="token punctuation">}</span>\n  Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>\n\n  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> data\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>在控制台改变<code>vm.message</code>的值会直接报错，因为data对象已经被冻结了，不可改变</p>\n<p><img src="https://i.loli.net/2020/11/28/OnY3wRr865JELQD.jpg" alt="vue-learn-2.jpg"></p>\n<p><strong>vm.$data</strong></p>\n<p>代表vue实例观察的数据对象</p>\n<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$data<span class="token punctuation">)</span>\n<span class="token comment">// 返回数据对象的数组形式</span>\n</code></pre>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>\n<span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n  data<span class="token operator">:</span> data\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\nvm<span class="token punctuation">.</span>$data <span class="token operator">===</span> data <span class="token comment">// true</span>\nvm<span class="token punctuation">.</span>$el <span class="token operator">===</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'app\'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>\n</code></pre>\n<h3>2.生命周期函数</h3>\n<p>每个实例在被创建的时候，都要经历一些初始化过程，比如：设置数据监听，编译模板，将实例挂载到dom，更新dom等</p>\n<p>在这个过程中会运行一些叫做<strong>生命周期</strong>的钩子函数，可以在不同阶段添加自己需要的代码</p>\n<p><img src="https://i.loli.net/2020/11/28/UDzxwoIJLq9u6nG.png" alt="vue-learn-3.png"></p>\n<p>比如<code>created</code>钩子可以用来表示一个实例被创建之后执行的代码</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  data<span class="token operator">:</span> <span class="token punctuation">{</span>\n    a<span class="token operator">:</span> <span class="token number">1</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token function-variable function">created</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'a is: \'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token comment">// "a is: 1"</span>\n</code></pre>\n<p><code>this</code>用来指向vm实例</p>\n<blockquote>\n<p>但是不要在property或者回调上使用箭头函数，<code>created: () =&gt; console.log(this.a)</code>，因为箭头函数没有<code>this</code>的概念，他会把<code>this</code>当作变量一直向上级作用域查找，经常产生<code>Uncaught TypeError: Cannot read property of undefined</code>或<code>Uncaught TypeError: this.myMethod is not a function</code>之类的报错</p>\n</blockquote>\n<h2>二、模板语法</h2>\n<h3>1.插值</h3>\n<p>最简单的就是</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>\n        data<span class="token operator">:</span> <span class="token punctuation">{</span>\n            message<span class="token operator">:</span> <span class="token string">\'hello,world\'</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>。。。</p>\n<p>下面这段代码给<code>input</code>绑定了一个<code>disabled</code>属性，但是通过<code>ok</code>的真伪来控制属性是否渲染</p>\n<p>当<code>ok</code>为<code>fasle</code>,<code>null</code>,<code>undefined</code>值时，属性都不会被渲染，有点类似于<code>v-if</code>，但是这种写法只是针对属性</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-bind:</span>disabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ok<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n        data<span class="token operator">:</span> <span class="token punctuation">{</span>\n            message<span class="token operator">:</span> <span class="token string">\'hello,wolrd\'</span><span class="token punctuation">,</span>\n            ok<span class="token operator">:</span> <span class="token boolean">false</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><strong>在模板语法中还可以使用javascript表达式</strong></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{number + 1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">\'</span>list-\' + id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{message.split(\'\').reverse().join(\'\')}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n        data<span class="token operator">:</span> <span class="token punctuation">{</span>\n            number<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n            id<span class="token operator">:</span> <span class="token string">\'li\'</span><span class="token punctuation">,</span>\n            message<span class="token operator">:</span> <span class="token string">\'hello,wolrd\'</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>每个模板只能包含一个javascript表达式，如果有多个，则不会生效</p>\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- 这是语句，不是表达式 --\x3e</span>\n{{ var a = 1 }}\n\n<span class="token comment">&lt;!-- 流控制也不会生效，请使用三元表达式 --\x3e</span>\n{{ if (ok) { return message } }}\n</code></pre>\n<h3>2.指令</h3>\n<p><strong>参数</strong></p>\n<p>一些指令能够接收一个“参数”，在指令名称之后以冒号表示。例如，<code>v-bind</code>指令可以用于响应式地更新 HTML attribute：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>百度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n        data<span class="token operator">:</span> <span class="token punctuation">{</span>\n            url<span class="token operator">:</span> <span class="token string">\'https://www.baidu.com\'</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>在这里<code>href</code>是参数，告知<code>v-bind</code>指令将该元素的<code>href</code>attribute 与表达式<code>url</code>的值绑定</p>\n<p>另一个例子是<code>v-on</code>指令，它用于监听dom事件</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doSomething<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><strong>动态参数</strong></p>\n<blockquote>\n<p>从 2.6.0 开始，可以用方括号括起来的 JavaScript 表达式作为一个指令的参数</p>\n</blockquote>\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!--注意，参数表达式的写法存在一些约束，如之后的“对动态参数表达式的约束”章节所述。--\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>[attributeName]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>这里的<code>attributeName</code>会被作为一个javascript表达式进行动态求值，最终结果被作为参数来使用</p>\n<p>比如：vue实例中有一个<code>attributeName</code>属性其值为<code>href</code>，则这个绑定将等价于<code>v-bind:href</code></p>\n<pre class="language-html"><code class="language-html">&lt;a v-bind:href="url>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>也可以使用动态的事件名绑定监听函数</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-on:</span>[eventName]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doSomething<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>如果<code>eventName</code>值为<code>click</code>，则该绑定等价于<code>v-on:click=&quot;doSomething&quot;</code>，一个鼠标点击事件</p>\n<p><green>对动态参数的值的约束</green></p>\n<p>动态参数预期会求出一个字符串，异常情况下值为<code>null</code>，这个特殊的<code>null</code>值可以被显性地用于移除绑定。任何其它非字符串类型的值都将会触发一个警告。</p>\n<p><green>对动态参数表达式的约束</green></p>\n<p>动态参数表达式有一些语法约束，因为某些字符，如空格和引号，放在 HTML attribute 名里是无效的，例如：</p>\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- 这会触发一个编译警告 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>[\'foo\'</span> <span class="token attr-name">+</span> <span class="token attr-name">bar]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>value<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>因此，尽量不要使用空格和引号的表达式，或者采用计算属性来替代这种复杂表达式</p>\n<p>在 DOM 中使用模板时 (直接在一个 HTML 文件里撰写模板)，还需要避免使用大写字符来命名键名，因为浏览器会把 attribute 名全部强制转为小写</p>\n<p><strong>修饰符</strong></p>\n<p>修饰符是以<code>.</code>指明的特殊后缀，用于指出一个指令应该以特殊方式绑定，例如，<code>.prevent</code>修饰符告诉<code>v-on</code>指令对于触发的事件调用<code>event.preentDefault()</code></p>\n<pre class="language-HTML"><code class="language-HTML">&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;...&lt;/form&gt;\n</code></pre>\n<h3>3.缩写</h3>\n<p><code>v-</code>前缀作为一种视觉提示，用来识别模板中 Vue 特定的 attribute。当你在使用 Vue.js 为现有标签添加动态行为 (dynamic behavior) 时，<code>v-</code>前缀很有帮助，然而，对于一些频繁用到的指令来说，就会感到使用繁琐。同时，在构建由 Vue 管理所有模板的单页面应用程序 (SPA - single page application) 时，<code>v-</code>前缀也变得没那么重要了。因此，Vue 为<code>v-bind</code>和<code>v-on</code>这两个最常用的指令，提供了特定简写</p>\n<p><strong>v-bind</strong></p>\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- 完整语法 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 缩写 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 动态参数的缩写 (2.6.0+) --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:[key]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><strong>v-on</strong></p>\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- 完整语法 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doSomething<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 缩写 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doSomething<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 动态参数的缩写 (2.6.0+) --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">@[event]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doSomething<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>它们看起来可能与普通的 HTML 略有不同，但<code>:</code>与<code>@</code>对于 attribute 名来说都是合法字符，在所有支持 Vue 的浏览器都能被正确地解析。而且，它们不会出现在最终渲染的标记中。缩写语法是完全可选的，但随着你更深入地了解它们的作用，你会庆幸拥有它们。</p>\n',date:Xn,path:"/posts/2020-11-24-vue学习笔记(2)－－vue实例和模板语法"},{attributes:{title:"vue学习笔记(1)－－什么是vue?",date:Qn,updated:"2021/11/29 16:16:38",categories:[n],tags:[c,o],thumb:s},html:'\x3c!-- more --\x3e\n<h2>一、什么是vue?</h2>\n<p>练习时使用，最新版本</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue/dist/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>生产时使用，明确版本号的版本，避免造成不可预见的问题</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.12<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><strong>hello world</strong></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    {{message}}\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>\n        data<span class="token operator">:</span> <span class="token punctuation">{</span>\n            message<span class="token operator">:</span> <span class="token string">\'hello,world\'</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<h3>1.v-指令</h3>\n<ol>\n<li>v-bind－－绑定属性</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    鼠标悬停几秒钟查看此处动态绑定的提示信息！\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n  data<span class="token operator">:</span> <span class="token punctuation">{</span>\n    message<span class="token operator">:</span> <span class="token string">\'页面加载于 \'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><code>v-bind</code>是vue特有的提供的属性，他会在dom上应用一个响应式的操作</p>\n<p>打开console，输入<code>app.message = &quot;hello&quot;</code>，页面会改变内容只显示<code>hello</code></p>\n<p>又或者输入<code>app.message = false</code>，内容会直接不显示</p>\n<p>vue官网例子：</p>\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- 绑定一个 attribute --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>imageSrc<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 动态 attribute 名 (2.6.0+) --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>[key]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>value<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 缩写 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>imageSrc<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 动态 attribute 名缩写 (2.6.0+) --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:[key]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>value<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 内联字符串拼接 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">\'</span>/path/to/images/\' + fileName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- class 绑定 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ red: isRed }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[classA, classB]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[classA, { classB: isB, classC: isC }]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- style 绑定 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token punctuation">{</span> <span class="token property">fontSize</span><span class="token punctuation">:</span> size + <span class="token string">\'px\'</span> <span class="token punctuation">}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value">[styleObjectA<span class="token punctuation">,</span> styleObjectB]</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 绑定一个全是 attribute 的对象 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ id: someProp, \'other-attr\': otherProp }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 通过 prop 修饰符绑定 DOM attribute --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>text-content.prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- prop 绑定。“prop”必须在 my-component 中声明。--\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">:prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>someThing<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 通过 $props 将父组件的 props 一起传给子组件 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-component</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>$props<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child-component</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- XLink --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:xlink:special</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span>\n</code></pre>\n<hr>\n<ol start="2">\n<li>v-if－－控制元素的显示隐藏</li>\n</ol>\n<p>刚才写了，通过<code>app.message = false</code>，可以让<code>message</code>代表的内容处于隐藏状态，但是控制的只能是通过<code>v-for</code>引入的内容，无法直接让元素隐藏</p>\n<p>其实，vue中还有一个专门控制元素显示隐藏的指令－－<code>v-if</code></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    {{message}}\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> <span class="token punctuation">{</span>\n      message<span class="token operator">:</span> <span class="token string">\'hello,world\'</span><span class="token punctuation">,</span>\n      show<span class="token operator">:</span> <span class="token boolean">true</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>给元素绑定一个指令<code>v-if = &quot;show&quot;</code>，然后在data中控制<code>show</code>的布尔值，true显示，false隐藏</p>\n<p>同时还有这个功能的指令<code>v-show</code>，根据表达式之真假值，切换元素的<code>display</code> CSS property，也是通过绑定的布尔值来显示隐藏</p>\n<p><strong>但是<code>v-if</code>和<code>v-show</code>有些区别</strong></p>\n<p>(1) v-if是控制元素是否渲染最终控制元素的显示隐藏，适用于切换频率低的情况<br>\n(2) v-show不管显示隐藏都渲染，然后通过布尔值绑定<code>display: none</code>属性，适用于切换频率高的情况</p>\n<blockquote>\n<p>注意：<code>v-show</code>不支持<code>&lt;tempalte&gt;</code>元素，也不支持<code>v-else</code></p>\n</blockquote>\n<p><strong>搭配用法</strong></p>\n<p><code>v-else</code>和<code>v-else-if</code></p>\n<p>可以通过使用<code>v-else</code>达到<code>v-if</code>的效果，必须和<code>v-if</code>搭配使用，比如：</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  hello\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">></span></span>\n  hi\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>如果<code>v-if</code>不成立，执行<code>v-else</code>，也就是显示v-else里面的内容</p>\n<p>是不是有点javascript里面<code>if函数</code>的感觉了</p>\n<p><code>v-else-if</code>用法大致一样，必须和<code>v-if</code>和<code>v-else</code>搭配使用</p>\n<hr>\n<ol start="3">\n<li>v-for－－遍历数组并显示到页面上</li>\n</ol>\n<p><code>v-for</code>算是vue的核心指令之一了把，主要是渲染一个项目列表的</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item in list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{item.message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> <span class="token punctuation">{</span>\n      list<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>message<span class="token operator">:</span> <span class="token string">\'html\'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>message<span class="token operator">:</span> <span class="token string">\'css\'</span><span class="token punctuation">}</span>\n      <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>可以直接把列表数据循环输出</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/a97433ec-8112-4b03-b14f-8d21614b4c68.png" alt=""></p>\n<p>并且在控制台中通过<code>push()</code>还能添加新的列表项</p>\n<pre class="language-js"><code class="language-js">app<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>message<span class="token operator">:</span> <span class="token string">"js"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/8d725ab7-9dfc-4e48-aadc-f8db2ce1c9cb.png" alt=""></p>\n<p>vue对数据操作，就是这么神奇</p>\n<p><strong>不推荐<code>v-for</code>和<code>v-if</code>同时使用，因为<code>v-for</code>拥有更高的优先级</strong></p>\n<hr>\n<ol start="4">\n<li>v-on－－绑定事件监听器</li>\n</ol>\n<p>即绑定事件，通过<code>v-on</code>给div绑定了一个点击事件，注意，在<code>reverseMessage</code>方法中，我们更新了应用的状态，但是吗诶呀触碰到dom，直接通过vue来进行处理，编写代码时只需要关注逻辑层即可</p>\n<p><code>v-on:click=&quot;messagenone&quot;</code>，然后在<code>methods</code>里面写上事件方法</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>messagenone<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> <span class="token punctuation">{</span>\n      message<span class="token operator">:</span> <span class="token string">\'hello,wolrd\'</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    methods<span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token function-variable function">messagenone</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        demo<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">\'\'</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<hr>\n<ol start="5">\n<li>v-model－－数据的双向绑定</li>\n</ol>\n<p>vue还提供了<code>v-model</code>指令，它能轻松实现表单输入和应用状态之间的双向绑定</p>\n<p><strong>可使用场景：标签input, select, textarea 和 components</strong></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> <span class="token punctuation">{</span>\n      message<span class="token operator">:</span> <span class="token string">\'hello,wolrd\'</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<hr>\n<ol start="6">\n<li>v-text更新元素的内容</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n        data<span class="token operator">:</span> <span class="token punctuation">{</span>\n            message<span class="token operator">:</span> <span class="token string">\'hello,wolrd\'</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>上面的div和下面的div内容跟随一致变化</p>\n<hr>\n<ol start="7">\n<li>v-html－－更新元素的innerHTML</li>\n</ol>\n<p><red>不建议使用，在网站上动态渲染html是非常危险的，容易导致<code>XXS攻击</code>，不能用在用户提交的内容上，如果必须使用v-html，可以考虑通过使用组件来代替</red></p>\n<hr>\n<ol start="8">\n<li>v-pre</li>\n</ol>\n<p>跳过绑定的元素和他的子元素的编译，直接显示原始内容</p>\n<p>跳过没有指令的节点不进行编译，直接显示内容，会加快页面的响应</p>\n<hr>\n<ol start="9">\n<li>v-cloak</li>\n</ol>\n<p>在编译没有编译完成之前，模板处于的状态</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><span class="token selector">v-cloak]</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">></span></span>\n  {{message}}\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n    data<span class="token operator">:</span> <span class="token punctuation">{</span>\n    \tmessage<span class="token operator">:</span> <span class="token string">\'hello,wolrd\'</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>上述代码表示的含义是，如果网络不好，<code>{{message}}</code>模板代表的<code>hello,world</code>还没有编译成功，此时<code>{{message}}</code>处于隐藏状态，当编译完成，页面直接显示<code>hello,world</code></p>\n<hr>\n<ol start="10">\n<li>v-once－－一次性渲染</li>\n</ol>\n<p>绑定该指令的元素及其子元素只会进行一次渲染，之后页面的第二次渲染会将其视为静态资源并跳过，可以用来优化性能</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-once</span><span class="token punctuation">></span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        el<span class="token operator">:</span> <span class="token string">\'#app\'</span><span class="token punctuation">,</span>\n        data<span class="token operator">:</span> <span class="token punctuation">{</span>\n            message<span class="token operator">:</span> <span class="token string">\'hello,wolrd\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>使用场景：表单提交。可防止用户在请求未及时响应时，多次提交~</p>\n<h3>2.组件化构建应用</h3>\n<p>组件化也是vue的核心机制之一，它允许我们使用小型，可复用的组件来构建大型应用</p>\n<p><img src="https://i.loli.net/2020/11/28/UDzxwoIJLq9u6nG.png" alt="vue-learn-3.png"></p>\n<p>在 vue 里，一个组件本质上是一个拥有预定义选项的一个 vue 实例。在 vue 中注册组件很简单</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// 定义名为 todo-item 的新组件</span>\nVue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">\'todo-item\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  template<span class="token operator">:</span> <span class="token string">\'&lt;li>这是个待办项&lt;/li>\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>\n</code></pre>\n<p>现在可以用它构建另一个组件模板</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span>\n  <span class="token comment">&lt;!-- 创建一个 todo-item 组件的实例 --\x3e</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>todo-item</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>todo-item</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>但是这样会为每个待办项渲染同样的文本，这看起来并不炫酷。我们应该能从父作用域将数据传到子组件才对。让我们来修改一下组件的定义，使之能够接受一个<code>props</code></p>\n<pre class="language-js"><code class="language-js">Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">\'todo-item\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  <span class="token comment">// todo-item 组件现在接受一个</span>\n  <span class="token comment">// "props"，类似于一个自定义 attribute。</span>\n  <span class="token comment">// 这个 props 名为 todo。</span>\n  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">\'todo\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  template<span class="token operator">:</span> <span class="token string">\'&lt;li>{{ todo.text }}&lt;/li>\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>现在，我们可以使用<code>v-bind</code>指令将待办项传到循环输出的每个组件中</p>\n<p>现在我们为每个 todo-item 提供 todo 对象todo 对象是变量，即其内容可以是动态的，我们也需要为每个组件提供一个<code>key</code></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app-7<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>todo-item</span>\n      <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item in groceryList<span class="token punctuation">"</span></span>\n      <span class="token attr-name"><span class="token namespace">v-bind:</span>todo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span>\n      <span class="token attr-name"><span class="token namespace">v-bind:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span>\n    <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>todo-item</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n<pre class="language-js"><code class="language-js">Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">\'todo-item\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">\'todo\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  template<span class="token operator">:</span> <span class="token string">\'&lt;li>{{ todo.text }}&lt;/li>\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">var</span> app7 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  el<span class="token operator">:</span> <span class="token string">\'#app-7\'</span><span class="token punctuation">,</span>\n  data<span class="token operator">:</span> <span class="token punctuation">{</span>\n    groceryList<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">\'蔬菜\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">\'奶酪\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">\'随便其它什么人吃的东西\'</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>尽管这只是一个刻意设计的例子，但是我们已经设法将应用分割成了两个更小的单元。子单元通过<code>prop</code>接口与父单元进行了良好的解耦。我们现在可以进一步改进 <todo-item> 组件，提供更为复杂的模板和逻辑，而不会影响到父单元</p>\n<p>在一个大型应用中，有必要将整个应用程序划分为组件，以使开发更易管理</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-nav</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-nav</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-view</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-sidebar</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-sidebar</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app-content</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-content</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app-view</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n</code></pre>\n',date:Qn,path:"/posts/2020-11-23-_vue学习笔记(1)－－什么是vue_"},{attributes:{title:"React 学习笔记（一）",date:Zn,updated:"2021/11/29 16:16:19",categories:[n],tags:[t],thumb:s},html:'\x3c!-- more --\x3e\n<p>react学习笔记，记录我在开发和学习过程中遇到的问题和知识点</p>\n<p>2013年5月Facebook推出了React.js开源软件前端框架，函数式编程，是使用人数最多的前端框架，也拥有最健全的文档和完善的社区</p>\n<p><a href="https://reactjs.org">React官网</a></p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/27e7558f-3522-4040-9674-71290b3e59fb.png" alt=""></p>\n<p>16版本之后的react叫做 react fiber</p>\n<h2>一、开发环境准备</h2>\n<ol>\n<li>引入.js文件来使用React</li>\n<li>通过脚手架工具来编码，但是最终代码不能运行，需要通过webpack等来编译</li>\n</ol>\n<p>（官方提供的脚手架工具  Create-react-app ）</p>\n<h3>1.如何使用脚手架工具？</h3>\n<ol>\n<li>下载node.js ， 进入<a href="https://nodejs.org">官方网站</a></li>\n</ol>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/669da391-08b3-48be-afca-ddd3103bba0f.png" alt=""></p>\n<pre class="language-js"><code class="language-js">node <span class="token operator">-</span>v  <span class="token comment">//node版本号</span>\n</code></pre>\n<pre class="language-js"><code class="language-js">npm <span class="token operator">-</span>v   <span class="token comment">//npm 版本号</span>\n</code></pre>\n<h3>2.使用脚手架工具创建一个项目</h3>\n<p>打开命令行工具，依次执行命令</p>\n<pre class="language-js"><code class="language-js">npx create<span class="token operator">-</span>react<span class="token operator">-</span>app my<span class="token operator">-</span>app     <span class="token comment">//创建项目</span>\ncd my<span class="token operator">-</span>app       <span class="token comment">//进入项目</span>\nnpm start       <span class="token comment">//运行项目</span>\n</code></pre>\n<p>正常情况下就会在浏览器中弹出以下页面，说明项目运行成功</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/2c54d263-ff2c-4708-91c2-d4d0cec5f07f.png" alt=""></p>\n<h3>3.运行项目</h3>\n<p>安装依赖包，在命令行中输入:</p>\n<pre><code>yarn install\n</code></pre>\n<p>然后重新启动<code>npm start</code>或者<code>yarn start</code></p>\n<h3>4.工程目录</h3>\n<pre><code>build           //打包之后自动生成的目录\npublic--        //生成的页面内容\n        |  favicon.ico\n        |  index.html\n        |  manifest.json    //不需要，可以删除\nsrc-----        //放置的是项目的源代码  \n        |  index.js         //入口的js文件，放置整个项目需要引入的第三方模块或者文件\n        |  index.css        //项目页面的全局css样式\n        |  App.js           //负责往页面渲染一些内容\n        |  App.css          //项目页面的css样式\n        |  serviceWorker    //PWA的一些内容\n        |\n        |\nnode_modules    //项目中需要的第三方模块\n.gitgnore       //这里面的内容不会上传到github 上\npackage.json    //对项目的配置进行说明性的东西，版本和和第三方模块等，以及start,npm run build进行项目打包\nREADME.md       //对文件的说明描述\nyarn lock       //放置整个项目依赖的第三方模块的版本信息，不需要做任何修改，放在这里就可以\n</code></pre>\n<p>可以在index.js文件中引入css文件</p>\n<pre class="language-js"><code class="language-js"><span class="token operator">**</span>index<span class="token punctuation">.</span>js<span class="token operator">**</span>\n\n<span class="token comment">//引入了两个第三方模块</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">\'react-dom\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token string">\'./index.css\'</span>    <span class="token comment">//可以再index.js中引入css样式文件</span>\n\n<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">\'./App.js\'</span>  <span class="token comment">//在index.js中引入App.js，才能在浏览器渲染出App.js中写出的内容</span>\n\n<span class="token comment">//App里面的内容，通过这行代码挂载到页面id为root的标签下</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>\'root<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/ef49ce6c-6475-43fd-80c4-57b36fa4b4fe.png" alt=""></p>\n<p>App.js中也可以引入css和svg</p>\n<pre class="language-js"><code class="language-js"><span class="token operator">**</span>App<span class="token punctuation">.</span>js<span class="token operator">**</span>\n\n<span class="token keyword">import</span> logo <span class="token keyword">from</span> <span class="token string">\'./logo.svg\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'./App.css\'</span><span class="token punctuation">;</span>\n\n<span class="token comment">//通过语法渲染内容</span>\n<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      hello world\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h2>二、React 组件</h2>\n<p>（使用create-react-app脚手架工具创建项目时，会判断当前环境是否有yarn这个工具，如果有的话就会用yarn进行依赖包的安装，生成yarn.lock文件；如果没有的话就会用npm进行安装，生成package-lock.json文件）</p>\n<p>组件就是页面上的一部分，一个网页可以分成很多个组件，每个组件又可以拆分成一个小组件</p>\n<p>我们可以把App.js叫做一个组件，在index.js中引入了react的组件，就是把react这个组件渲染到页面上的root元素之中</p>\n<h3>1.React 模块的作用</h3>\n<p>必须引入React这个模块，引入这个模块的作用就是解析JSX语法，如果没有引入，浏览器就会报错，因为识别不出来这个语法</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n\n<span class="token comment">//JSX语法</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>假如没有引入React这个模块，就会出现下面这种情况<br>\n<img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/dc49e538-d91b-4554-890a-ebfeaa1c4556.png" alt=""></p>\n<h3>2.Conponent 模块</h3>\n<p>这几行被注释掉的代码的缩写相当于第一行代码，实际操作中直接写缩写后的<code>import React, {Conponent } from \'react\';</code></p>\n<pre class="language-js"><code class="language-js"><span class="token operator">**</span>App<span class="token punctuation">.</span>js<span class="token operator">**</span>\n\n<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Conponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n\n<span class="token comment">// import { Component } from \'react\';</span>\n<span class="token comment">// import React from \'react\';</span>\n<span class="token comment">// const { Component } = React;</span>\n<span class="token comment">// const Component = React.Component</span>\n\n<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n\t<span class="token comment">//render函数决定了往页面上渲染的是什么内容</span>\n\t<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t\t<span class="token keyword">return</span> <span class="token punctuation">(</span>\n\t\t    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n\t\t      hello world\n\t\t    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  \t\t<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n\n<span class="token punctuation">}</span>\n\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>\n</code></pre>\n<h3>3.引入多个组件</h3>\n<p>现在我们要引入App.js和Test.js两个组件到index.js当中去</p>\n<pre class="language-js"><code class="language-js"><span class="token operator">**</span>index<span class="token punctuation">.</span>js<span class="token operator">**</span>\n\n<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">\'./App\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Test <span class="token keyword">from</span> <span class="token string">\'./Test\'</span><span class="token punctuation">;</span>\n\n<span class="token comment">//JSX语法</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>Test <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token comment">//因为ReactDOM.render语法只能解析一个标签，所以把&lt;App />和&lt;Test />放在一个div当中，让react去解析这一个div就可以</span>\n</code></pre>\n<h3>4、组件</h3>\n<p>JSX语法里面，有两种类型的标签</p>\n<h4>1.普通的html标签</h4>\n<p>可以看到这种类型的<code>标签div</code>都是小写的</p>\n<pre class="language-js"><code class="language-js"><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      hello world\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h4>2.组件标签</h4>\n<p>可以看到<code>App标签</code>首字母是大写的，所以我们在创建组件的时候直接以大写字母开头</p>\n<pre class="language-js"><code class="language-js">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>通过判断字母大小写我们可以分辨出普通html标签和组件标签</p>\n<h2>三、使用React编写ToDoList功能</h2>\n<p>我们来看一下基本的TodoList组件内容</p>\n<pre class="language-js"><code class="language-js"><span class="token operator">**</span>TodoList<span class="token punctuation">.</span>js<span class="token operator">**</span>\n\n<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">TodoList</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>input <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span>ul<span class="token operator">></span>\n          <span class="token operator">&lt;</span>li<span class="token operator">></span>learn React<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n          <span class="token operator">&lt;</span>li<span class="token operator">></span>learn Component<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n <span class="token punctuation">}</span>\n\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 导出组件</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> TodoList<span class="token punctuation">;</span>\n</code></pre>\n<pre class="language-js"><code class="language-js"><span class="token operator">**</span>index<span class="token punctuation">.</span>js<span class="token operator">**</span>\n\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">\'react-dom\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> TodoList <span class="token keyword">from</span> <span class="token string">\'./TodoList\'</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>TodoList <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>然后打开浏览器看一下html结构<br>\n<img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/94ffacd4-b6f1-4453-9b62-b61e476fcd1f.png" alt=""></p>\n<p>能够看到input和ul外层还包裹着一层div，在这层div外部才是root，在有些情况，我们不需要这层多余的div，想让input和ul直接放到root下面，但是如果直接去掉TodoList里面的div，会出现报错显示无法解析，因为render下面只能有一个标签</p>\n<p>react16提供了一个占位符  <code>Fragment</code>，他就是一个占位的组件，并不会生成标签，所以帮助我们解决报错问题而不会生成任何标签，非常适合这种使用情况</p>\n<pre class="language-js"><code class="language-js"><span class="token operator">**</span>TodoList<span class="token operator">**</span>\n\n<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Fragment <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">TodoList</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n\n\t<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t\t<span class="token keyword">return</span> <span class="token punctuation">(</span>\n\t\t    <span class="token operator">&lt;</span>Fragment<span class="token operator">></span>\n\t\t    \t<span class="token operator">&lt;</span>input <span class="token operator">/</span><span class="token operator">></span>\n\t\t    \t<span class="token operator">&lt;</span>ul<span class="token operator">></span>\n\t\t    \t\t<span class="token operator">&lt;</span>li<span class="token operator">></span>learn React<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n\t\t    \t\t<span class="token operator">&lt;</span>li<span class="token operator">></span>learn Component<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>\n\t\t    \t<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>\n\t\t    <span class="token operator">&lt;</span><span class="token operator">/</span>Fragment<span class="token operator">></span>\n  \t\t<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 导出组件</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> TodoList<span class="token punctuation">;</span>\n</code></pre>\n<p>打开浏览器看一下html结构</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/1a5c0a0c-c81d-4bab-9694-da3baacc4c19.png" alt=""></p>\n<p>页面没有变化，和原来一样，但是dom结构已经精简了，达到了我们预期的要求</p>\n<h2>四、JSX语法</h2>\n<h3>1.JSX基本语法</h3>\n<p>在JSX中嵌入一个表达式，首先声明一个<code>name</code>变量</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">\'Josh Perez\'</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  element<span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>...<br>\n甚至可以嵌入一个函数表达式</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">formatName</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> user<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">\' \'</span> <span class="token operator">+</span> user<span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>\n  firstName<span class="token operator">:</span> <span class="token string">\'Harper\'</span><span class="token punctuation">,</span>\n  lastName<span class="token operator">:</span> <span class="token string">\'Perez\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>h1<span class="token operator">></span>\n    Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token function">formatName</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">!</span>\n  <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  element<span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>在<code>formatName(user)</code>调用变量<code>user</code>的属性，并且将<code>formatName(user)</code>放置在<code>element</code>中去，最后在<code>ReactDOM.render</code>中引入</p>\n<p>并且在JSX中可以包含很多子标签，唯一要注意的是，不管有多少子标签，但是只能存在一个父标签</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>div<span class="token operator">></span>\n    <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>\n    <span class="token operator">&lt;</span>h2<span class="token operator">></span>Good to see you here<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>\n  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p><strong>JSX表示对象</strong></p>\n<p>可以使用<code>React.createElement()</code>进行函数调用</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>h1 className<span class="token operator">=</span><span class="token string">"greeting"</span><span class="token operator">></span>\n    Hello<span class="token punctuation">,</span> world<span class="token operator">!</span>\n  <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p><red>完全等价于：</red></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>\n  <span class="token string">\'h1\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>className<span class="token operator">:</span> <span class="token string">\'greeting\'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token string">\'Hello, world!\'</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>2.元素渲染</h3>\n<p>将一个<code>react元素</code>渲染到dom节点中去，需要传入<code>ReactDOM.render()</code></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token punctuation">,</span> world<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>3.更新已渲染的元素</h3>\n<p><code>react元素</code>是一个不可变对象，无法更改它的子元素，想要更改的话，需要创建一个全新的元素传入<code>ReactDOM.render()</code></p>\n<p>据一个计时器的例子</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token punctuation">,</span> world<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>\n      <span class="token operator">&lt;</span>h2<span class="token operator">></span>It is <span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">setInterval</span><span class="token punctuation">(</span>tick<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<blockquote>\n<p>注意：直接<code>new Date()</code>是一个变量，无法显示在页面的节点中，只有通过<code>toLocaleTimeString()</code>当法将其转化为字符串才可以显示</p>\n</blockquote>\n<p>这个例子，<code>setInterval</code>每秒会调用一次，因此在页面上，会显示每秒的时间<br>\n<img src="https://react.docschina.org/c158617ed7cc0eac8f58330e49e48224/granular-dom-updates.gif" alt=""></p>\n<h2>五、生命周期</h2>\n<p>先上一张生命周期图示</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/8bc3bf45-08b4-42f5-8cf1-a43bc2d95275.jpg" alt=""></p>\n<p>当<code>Clock</code>组件第一次被渲染到DOM中的时候，就为其设置一个计时器。这在 React 中被称为<code>挂载（mount)</code>。</p>\n<p>同时，当DOM中<code>Clock</code>组件被删除的时候，应该清除计时器。这在 React 中被称为<code>卸载(unmount)</code>。</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Clock</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>date<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token punctuation">,</span> world<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>\n        <span class="token operator">&lt;</span>h2<span class="token operator">></span>It is <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">toLocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n',date:Zn,path:"/posts/2020-11-22-React_学习笔记（一）"},{attributes:{title:"对象，类和接口之间的关系",date:ns,updated:"2021/11/29 16:15:58",categories:[n],tags:[k],thumb:s},html:'<p>类是对的类型，类是具有相同属性和方法的一组集合，一个类可以对应多个对象，对象通过他们公开的方法来定义他们与外界的交互行为，而方法就形成了与外界交互的接口</p>\n\x3c!-- more --\x3e\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/eb9f8fc0-70f8-4e78-a8fc-2482254a5c0b.jpeg" alt=""></p>\n\x3c!-- more --\x3e\n<h2>类，对象和接口</h2>\n<h3>1.类和对象</h3>\n<p>区别：</p>\n<ol>\n<li>对象是类的一个实例。就比如一个人，他有具体的属性，身高，体重，姓名等状态，跑步，跳舞等行为</li>\n<li>类是抽象的概念，代表一类事物的模版。对一类对象的行为和状态进行描述，抽离出其共性，形成类</li>\n</ol>\n<p>关系：</p>\n<ol>\n<li>类就是对事物的一种描述，对象是具体存在的一个实例</li>\n</ol>\n<blockquote>\n<p>类是对的类型，类是具有相同属性和方法的一组集合，一个类可以对应多个对象</p>\n</blockquote>\n<h3>2.什么是接口？</h3>\n<p>对象通过他们公开的方法来定义他们与外界的交互行为，而方法就形成了与外界交互的接口</p>\n<p>更深层次的含义是：使定义和实现分离开，他是交互的具体实现的抽象化</p>\n<p><code>接口</code>是面向对象编程的基础，它是一组包含了函数方法的数据结构，他是一个比类更抽象化的东西</p>\n<p>可以这么说，类是对象的抽象化，接口是类的抽象化</p>\n<blockquote>\n<p>比如生活中的接口，机顶盒，人们利用它来实现收看不同频道和信号的节目，它犹如对不同类型的信息进行集合和封装的设备，最后把各种不同类型的信息转换为电视能够识别的信息。</p>\n</blockquote>\n<blockquote>\n<p>在编程语言中的接口，实际上是不同类的封装并提供统一的外部联系通道，这样其他对象就可以利用接口来调用不同类的成员了</p>\n</blockquote>\n<p>接口和类，实际上都是相同的数据结构</p>\n<p>在接口中，可以声明属性，方法，事件，类型，但是不能声明变量，也就是说，<strong>接口只能定义成员，不能给成员赋值</strong></p>\n<p><strong>使用接口的好处</strong>，提高代码灵活性，降低对象之间的耦合度，在实际项目中非常有用</p>\n',date:ns,path:"/posts/2020-11-21-对象，类和接口之间的关系"},{attributes:{title:"vue使用cli脚手架构建项目工程",date:ss,updated:"2021/11/29 16:15:41",categories:[n],tags:[c],thumb:s},html:'<p>vue使用cli脚手架构建项目工程，执行的命令以及遇到的相关的问题</p>\n\x3c!-- more --\x3e\n<h3>1.下载安装node</h3>\n<p>测试一下是否成功安装，</p>\n<pre class="language-shell"><code class="language-shell">$ node -v\n// 返回下载的版本号\n</code></pre>\n<h3>2.安装webpack环境</h3>\n<pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> <span class="token function">install</span> webpack -g\n// 如果失败，可能是因为用户没有权限\n// 使用下面这种，管理员权限\n$ <span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> webpack -g\n</code></pre>\n<p>如果返回版本号代表成功，如果没有，则需要输入下面的命令</p>\n<pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> <span class="token function">install</span> webpack webpack-cli -g\n</code></pre>\n<blockquote>\n<p>webpack 4.X 开始，需要安装 webpack-cli 依赖</p>\n</blockquote>\n<h3>3.全局安装vue-cli</h3>\n<pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> <span class="token function">install</span> --global vue-cli\n// 如果失败，使用sudo\n$ <span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> --global vue-cli\n</code></pre>\n<p>安装完成之后，输入</p>\n<pre class="language-shell"><code class="language-shell">$ vue -V\n</code></pre>\n<p>如果返会版本号，说明安装成功</p>\n<h3>4.构建项目</h3>\n<p>前面那些命令执行完之后，就可以构建ci项目了，找到我们想要放置项目的文件夹，进入终端，cd到这个文件夹</p>\n<p>输入命令：</p>\n<pre class="language-shell"><code class="language-shell">$ vue init webpack vuedemo\n// 名字自己根据要求起,vuedemo\n</code></pre>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/bac18511-f4d4-4984-b865-394c9e3dc449.jpg" alt=""></p>\n<ul>\n<li>Project name (vuedomo)： -----项目名称，直接回车，按照括号中默认名字（注意这里的名字不能有大写字母，如果有会报错Sorry, name can no longer contain capital letters）</li>\n<li>Project description (A Vue.js project)： ----项目描述，也可直接点击回车，使用默认名字</li>\n<li>Author ()： ----作者，输入你的大名</li>\n<li>Runtime + Compiler: recommended for most users 运行加编译，既然已经说了推荐，就选它了<br>\nRuntime-only: about 6KB lighter min+gzip, but templates (or any Vue-specificHTML) are ONLY allowed in .vue files - render functions are required elsewhere 仅运行时，已经有推荐了就选择第一个了</li>\n<li>Install vue-router? (Y/n) 是否安装vue-router，这是官方的路由，大多数情况下都使用，这里就输入“y”后回车即可。</li>\n<li>Use ESLint to lint your code? (Y/n) 是否使用ESLint管理代码，ESLint是个代码风格管理工具，是用来统一代码风格的，一般项目中都会使用。</li>\n<li>接下来也是选择题Pick an ESLint preset (Use arrow keys) 选择一个ESLint预设，编写vue项目时的代码风格，直接y回车</li>\n<li>Setup unit tests with Karma + Mocha? (Y/n) 是否安装单元测试，我选择安装y回车</li>\n<li>Setup e2e tests with Nightwatch(Y/n)? 是否安装e2e测试 ，我选择安装y回车</li>\n</ul>\n<hr>\n<p>然后就是缓慢的构建过程，等到构建完成，cd进入构建的项目</p>\n<pre class="language-shell"><code class="language-shell">$ <span class="token builtin class-name">cd</span> vuedemo\n</code></pre>\n<p>然后安装需要的依赖</p>\n<pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> <span class="token function">install</span>\n</code></pre>\n<h3>5.运行项目</h3>\n<p>运行命令，看看是否能够成功运行项目</p>\n<pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> run dev\n</code></pre>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/6bb4376f-e2b8-43e4-b255-b17a985c6069.jpg" alt=""></p>\n<p>根据提示，浏览器输入<code>http://localhost:8080</code></p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/26441b7a-e082-4a02-b81e-6ba85fbf9d5a.jpg" alt=""></p>\n<p>如果端口打不开，肯能是因为被占用了，需要修改配置文件，<code>config &gt; index.js</code></p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/7d12f1f6-b523-49b5-b6f2-30e989eee569.png" alt=""></p>\n<p><strong>查看项目工程目录</strong></p>\n<p><img src="https://i.loli.net/2020/11/28/iYDWz27gbGfeURB.png" alt=""></p>\n<h3>6.其他</h3>\n<p>一些其他相关的指令</p>\n<pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> run build\n// 项目完成之后打包\n</code></pre>\n<p>打包完成之后，会在根目录下生成一个dist文件夹，需要修改配置文件的路径，可以在本地查看</p>\n<p>项目上线发布，直接上传dist到服务器即可</p>\n',date:ss,path:"/posts/2020-11-20-vue使用cli脚手架构建项目工程"},{attributes:{title:"react学习路径－－怎么学习react？",date:as,updated:"2021/11/29 15:55:28",categories:[n],tags:[t],thumb:s},html:'<p>转载于:<a href="https://github.com/petehunt/react-howto">https://github.com/petehunt/react-howto</a>，react开源作者对于react框架的一个学习路径的建议，个人感觉还是相当不错的学习路线</p>\n<h2>\x3c!-- more --\x3e</h2>\n<h1>如何学习React?</h1>\n<p>如果你是一个 React (或者前端) 新手, 出于以下的原因, 你可能会对这个生态圈感到困惑:</p>\n<ul>\n<li>React 的目标群体历来是喜欢尝试新事物的开发者和前端专家.</li>\n<li>Facebook 开源的内容是应用在他们的实际应用中, 因此他们没有关注那些比 Facebook 小的工程需求.</li>\n<li>现有的 React 指引水平参差不齐.</li>\n</ul>\n<p>在本文中, 我会假设你已有使用 HTML, CSS 和 JavaScript 开发网页的基础.</p>\n<h2>为什么要听我的?</h2>\n<p>关于 React, 现在已经有大量的相互冲突的建议了, 为什么要听我的?</p>\n<p>因为我是在 Facebook 构建并开源 React 的最初成员之一. 现在我离开了 Facebook 并加入了一家初创公司, 所以我也不会站在 Facebook 的立场上来表态.</p>\n<h2>如何踏入 React 生态圈</h2>\n<p>所有的软件都是建立在某个技术栈之上的, 你需要对整个技术栈有足够深入的理解, 才能建造你的应用. 为什么 React 生态圈的工具似乎总让人感觉压力山大呢, 因为它总是以错误的顺序被解释:</p>\n<p>你应该按照以下的顺序进行学习, <strong>而不是跳着学或者同时学习</strong>:</p>\n<ol>\n<li><a href="#%E5%AD%A6%E4%B9%A0-React-%E6%9C%AC%E8%BA%AB">React</a></li>\n<li><a href="#%E5%AD%A6%E4%B9%A0-npm">npm</a></li>\n<li><a href="#%E5%AD%A6%E4%B9%A0-JavaScript-%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7">JavaScript “打包工具”</a></li>\n<li><a href="#%E5%AD%A6%E4%B9%A0-ES6">ES6</a></li>\n<li><a href="#%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%94%B1-routing">Routing</a></li>\n<li><a href="#%E5%AD%A6%E4%B9%A0-Flux">Flux</a></li>\n</ol>\n<p><strong>你不需要把这些都学完才去使用 React.</strong> 只需要在你遇到问题需要解决的时候, 才进入下一步的学习.</p>\n<p>另外, 在 React 社区中, 有一些前沿主题是经常被提及到的, 以下的这些主题很有意思, 但也很难弄懂, 所以它们远没有上面的主题流行, <strong>大多数应用也不需要用到这些.</strong></p>\n<ul>\n<li><a href="#user-content-%E5%AD%A6%E4%B9%A0%E5%86%85%E8%81%94%E6%A0%B7%E5%BC%8F">内联样式</a></li>\n<li><a href="#user-content-%E5%AD%A6%E4%B9%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93">服务器端渲染</a></li>\n<li><a href="#user-content-%E5%AD%A6%E4%B9%A0-immutablejs">Immutable.js</a></li>\n<li><a href="#user-content-%E5%AD%A6%E4%B9%A0-relay-falcor-%E7%AD%89">Relay, Falcor 等</a></li>\n</ul>\n<h2>学习 React 本身</h2>\n<p>有一种常见的误解是: 你需要花费大量时间在配置工具上, 然后才开始学习 React. 在官方文档里, 你可以找到 <a href="https://facebook.github.io/react/docs/getting-started.html#quick-start-without-npm">copy-paste HTML template</a>. 只需要保存为 <code>.html</code> 文件, 你就可以马上开始学习了. <strong>这个步骤不需要任何工具, 你也无需额外学习工具使用, 直到你能熟练掌握 React 基础.</strong></p>\n<p>我依然觉得, 学习 React 最简单的方法是通过官方教程 <a href="https://facebook.github.io/react/docs/tutorial.html">the official tutorial</a>.</p>\n<h2>学习 <code>npm</code></h2>\n<p><code>npm</code> 是 Node.js 包管理工具, 也是前端工程师和设计师分享 JavaScript 代码最流行的方式. 它包含了名为 <code>CommonJS</code> 的模块系统, 让你可以安装 JavaScript 写的命令行工具. 作为背景知识, 可以阅读 <a href="http://0fps.net/2013/01/22/commonjs-why-and-how/">这篇文章</a> 了解 <code>CommonJS</code> 对于浏览器的重要性, 阅读  <a href="http://wiki.commonjs.org/wiki/Introduction">CommonJS Spec Wiki</a> 了解关于 <code>CommonJS</code> API 的更多内容</p>\n<p>在 React 生态圈中, 大部分可重用的组件、库和工具遵循 <code>CommonJS</code> 模块规范, 可通过 <code>npm</code> 来安装.</p>\n<h2>学习 JavaScript 打包工具</h2>\n<p>出于若干技术原因, <code>CommonJS</code> 模块 (也就是 <code>npm</code> 里的所有内容) 不能直接用到浏览器. 你需要一个 JavaScript “打包工具(bundler)” 来把这些模块打包成 <code>.js</code> 文件, 使你可以在网页中通过 <code>&lt;script&gt;</code> 标签引入它们.</p>\n<p>JavaScript 打包工具包括 <code>webpack</code> 和 <code>browserify</code>. 它们都是好的选择, 但我个人更喜欢 <code>webpack</code> , 因为它有许多功能简化大型应用开发. 鉴于 webpack 文档可能令人感到困惑, 我也写了两篇文章: <a href="https://github.com/petehunt/react-webpack-template">plug-and-play template for getting started</a> 和针对更复杂用例的 <a href="https://github.com/petehunt/webpack-howto">how-to guide for webpack</a>.</p>\n<p>要记住的一点: <code>CommonJS</code> 使用了 <code>require()</code> 函数来引入模块, 因此许多人对此感到疑惑, 并认为需要导入 <code>require.js</code> 到工程里. 出于若干技术原因, 我建议你避免使用 <code>require.js</code>. 它在 React 生态圈并不流行.</p>\n<h2>学习 ES6</h2>\n<p>在 JSX (你会在 React tutorial 中学习到) 以外, 你可能会注意到 React 例子中一些有趣的语法. 这被称为 ECMAScript6, 是 JavaScript 的最新版本. 由于 ES6 很新, 你可能还没学习到, 浏览器也可能尚未兼容, 但别担心, 通过合适的配置, 你的打包工具会为你自动转换成兼容代码.</p>\n<p>如果你只想要使用 React 来把事情做完, <strong>你可以跳过 ES6 的学习,</strong> 或者留到以后再学习.</p>\n<p>你可能会看到一些讨论说更适合用 ES6 的 class 来创建 React 组件. 这并不是真的, 大多数人 (包括 Facebook) 用的还是 <code>React.createClass()</code>.</p>\n<h2>学习路由 (routing)</h2>\n<p>“单页面应用” 是时下的技术热点. 当网页加载完成, 用户点击链接或者按钮的时候, JavaScript 会更新页面和改变地址栏, 但网页不会刷新. 地址栏的管理就是通过 <strong>路由(router)</strong> 来完成的.</p>\n<p>目前 React 生态圈最受欢迎的路由解决方案是 <a href="https://github.com/rackt/react-router">react-router</a>. 如果你正在创建一个单页面应用, 有什么理由不去使用它呢?</p>\n<p><strong>如果你创建的并非单页面应用, 请不要使用路由.</strong> 无论如何, 大部分项目都是从大型应用中的小组件开始的.</p>\n<h2>学习内联样式</h2>\n<p>在 React 出现之前, 很多人通过像 SASS 这样的预处理器来重用复杂的 CSS 样式表. 鉴于 React 使开发可重用组件变得容易, 你的样式表可以变得没那么复杂了. 社区中许多人 (包括我) 正尝试完全抛弃样式表.</p>\n<p>由于一些原因, 其实这是个相当疯狂的主意. 这让媒体查询 (media quries) 更加困难了, 而且这种技术可能有性能上的局限性. <strong>当你开始用 React 的时候, 只要用你平常使用的方法去写就好了.</strong></p>\n<p>一旦你找到了用 React 开发的感觉, 你就可以关注那些可作为替代的技术了. 其中一种流行技术是 <a href="https://en.bem.info/">BEM</a>. 我建议你逐渐停用 CSS 预处理器, 因为 React 给了你一种更强大的方式去重用样式 (通过重用组件), 并且 JavaScript 打包工具可以为你生成更高效的样式表 (我曾经<a href="https://www.youtube.com/watch?v=VkTCL6Nqm6Y">在 OSCON 上发表过关于这个的演讲</a>). 说了这么多, 总之 React 就像其他 JavaScript 库一样, 可以和 CSS 预处理器很好地配合工作.</p>\n<p>另一种可选项是 <a href="http://glenmaddern.com/articles/css-modules">CSS 模块</a>, 更具体地说, 是 <a href="https://github.com/gajus/react-css-modules">react-css-modules</a>. 虽然有了这些 CSS 模块, 你还是写 CSS (或者是 SASS/LESS/Stylus), 但你可以像处理 React 中的内联样式那样管理和组织 CSS 文件. 你也不需要担心用到 BEM 那样的方法学去管理类名, 因为模块系统在底层已经帮你处理好了.</p>\n<h2>学习服务器端渲染</h2>\n<p>服务器端渲染经常被称为 &quot;通用应用&quot; 或 &quot;同构应用&quot;. 这意味着你可以用 React 组件在服务器端渲染出静态 HTML. 这样做可以提高初始化加载的性能, 因为用户不用等到 JS 下载完才看到初始界面, 并且 React 可以重用服务器端渲染出的 HTML, 无需客户端重新生成.</p>\n<p>如果你发现首屏渲染速度过慢, 或者想提高网站在搜索引擎的排行, 你就需要服务器端渲染了. 尽管 Google 现在也会索引客户端渲染的内容, 但截至 2016 年 1 月, 这样做仍被证实会对排行有负面影响, 这可能是由于客户端渲染的性能问题所造成的.</p>\n<p>服务器端渲染还需要许多工具的辅助, 因为显然 React 组件不是在考虑服务器端渲染的情况下写出来的, 你应该先构建你的应用, 之后再关心服务器端渲染的问题. 不用担心, 你不需要重写所有组件去支持它.</p>\n<h2>学习 Flux</h2>\n<p>你可能听过 Flux, 不过关于 Flux 有大量的错误资讯.</p>\n<p>许多人一坐下来刚开始构建应用, 就认为需要用 Flux 来定义他们的数据模型. <strong>这样采用 Flux 是不对的, Flux 应该在大量组件被建立完成以后才被引入.</strong></p>\n<p>React 组件之间存在层级关系. 在很多时候, 你的数据模型也跟随这种层级. 这种情况下, Flux 不会给你很大帮助. 但有些时候, 你的数据模型没有层次, 当你的 React 组件开始接受没有关联的 <code>props</code> 的时候, 或者当小部分组件开始变得复杂的时候, 你才可能需要看看 Flux.</p>\n<p><strong>你会知道什么时候需要用 Flux. 如果你不确定是否需要用它, 你就不需要它.</strong></p>\n<p>如果你决定使用 Flux, 现在最流行的、文档最全的 Flux 库是 <a href="http://redux.js.org/">Redux</a>. 当然也有许多其他选择, 你或者会有兴趣尝试使用它们, 但我的建议是只需要用最流行的 Redux 就足够了.</p>\n<h2>学习 Immutable.js</h2>\n<p><a href="https://facebook.github.io/immutable-js/">Immutable.js</a> 提供了一系列的数据结构, 以帮助解决构造 React 应用时的某些性能问题. 这是一个很棒的库, 你可能会在应用发展的过程里大量用到它, 但直到你在意识到性能问题以前, 它是完全不必要的.</p>\n<h2>学习 Relay, Falcor 等</h2>\n<p>这些技术可以帮你减少 AJAX 请求数, 它们仍然是非常前沿的, 所以如果你没有遇到过多 AJAX 请求的问题, 就不需要用到 Relay 或者 Falcor.</p>\n',date:as,path:"/posts/2020-11-19-react学习路径－－怎么学习react？"},{attributes:{title:"在js中运算不能随便把value属性定义成变量",date:ps,updated:"2021/11/29 15:55:12",categories:[n],tags:[p],thumb:s},html:'<p>在写一个小demo的时候，无意中发现定义变量的时候直接写入value，会导致获取不到数据，或者获取的不是我们想要的内容，在js中运算不能随便把value属性定义成变量</p>\n\x3c!-- more --\x3e\n<p>先看一段代码</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token attr-name">"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>b<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>=<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>beto()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sub<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">beto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value\n        <span class="token keyword">var</span> b <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'b\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value\n        <span class="token keyword">var</span> sub <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'sub\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value\n        \n        sub <span class="token operator">=</span> a <span class="token operator">+</span> b\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n\x3c!-- more --\x3e\n<p>就这么一看，逻辑貌似没有问题，获取a和b的value，乘法运算，然后输出sub</p>\n<p>但是放在浏览器运行的时候，发现完全没有反应</p>\n<p>为什么呢？</p>\n<p>（假装思考五分钟...）</p>\n<p>因为sub.value不能直接定义在变量中</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// 先定义id为sub的input框</span>\n<span class="token keyword">var</span> sub <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'sub\'</span><span class="token punctuation">)</span>\n\n<span class="token comment">// 然后在运算的时候在直接使用sub.value</span>\nsub<span class="token punctuation">.</span>value <span class="token operator">=</span> a <span class="token operator">*</span> b\n</code></pre>\n<p>顺手放一个写demo时候用的简易计算器</p>\n<pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>简易计算器<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token attr-name">"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>+<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>b<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>=<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>beto()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sub<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">></span></span>\n   \n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n        <span class="token keyword">function</span> <span class="token function">beto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">var</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value\n            <span class="token keyword">var</span> b <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'b\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value\n            <span class="token keyword">var</span> c <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'c\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value\n            <span class="token keyword">var</span> sub <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'sub\'</span><span class="token punctuation">)</span>\n            \n            <span class="token keyword">switch</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token keyword">case</span>  <span class="token string">"+"</span><span class="token operator">:</span>\n                sub<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n                <span class="token keyword">case</span>  <span class="token string">"-"</span><span class="token operator">:</span>\n                sub<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n                <span class="token keyword">case</span>  <span class="token string">"*"</span><span class="token operator">:</span>\n                sub<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n                <span class="token keyword">case</span>  <span class="token string">"/"</span><span class="token operator">:</span>\n                sub<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>\n</code></pre>\n',date:ps,path:"/posts/2020-11-18-在js中运算不能随便把value属性定义成变量"},{attributes:{title:"事件监听函数，以及事件的捕获和冒泡机制",date:ts,updated:"2021/11/29 15:54:36",categories:[n],tags:[o,p],thumb:s},html:'<p>事件一般是用于浏览器和用户操作之间的交互，当用户执行某些特殊的操作时，浏览器给予反应，触发绑定的事件，<code>事件流</code>，事件发生时会在元素节点和根节点之间按照约定的顺序传播，事件经过的所有节点都会受到事件的影响，这个传播过程被称为DOM事件流</p>\n\x3c!-- more --\x3e\n<h2>函数事件</h2>\n<p>事件一般是用于浏览器和用户操作之间的交互，当用户执行某些特殊的操作时，浏览器给予反应，触发绑定的事件</p>\n<p><code>事件流</code>，事件发生时会在元素节点和根节点之间按照约定的顺序传播，事件经过的所有节点都会受到事件的影响，这个传播过程被称为DOM事件流</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/ed20b5e5-b6db-4f1a-af69-4479be1c6151.png" alt=""></p>\n<p>true是捕获，false是冒泡，默认为冒泡事件</p>\n\x3c!-- more --\x3e\n<h3>1.addEventListener()－－添加事件监听函数</h3>\n<p>给元素添加一个事件，假如有多个事件，不会覆盖，会依次执行</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>dom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> myfun<span class="token punctuation">)</span>\n    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> myfun1<span class="token punctuation">)</span>\n\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'事件监听函数\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">function</span> <span class="token function">myfun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'addEventListener\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/1da0721f-98e6-4c4e-810c-88f42bff554d.jpg" alt=""></p>\n<blockquote>\n<p>注意：<br>\n1.这里有一个细节，addEventListener()里面有两个参数，第一个表示触发的条件，第二个表示触发的事件<br>\n正常情况下，第二个参数直接写函数名并且不加参数<code>()</code>，如果加了参数<code>()</code>则表示立即执行，不需要触发第一个参数要求的条件</p>\n</blockquote>\n<blockquote>\n<p>2.在这里绑定事件的时候，事件名不能和定义的变量名一样，否则无效</p>\n</blockquote>\n<h3>2.removeEventListener()－－移除事件监听函数</h3>\n<p>下面这个demo，当鼠标在div中移动的时候，出现随机数，点击按钮后，移除事件监听函数</p>\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- css --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n    <span class="token selector">#demo</span> <span class="token punctuation">{</span>\n        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- html --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>点击移除<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>remove()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- js --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> myfun<span class="token punctuation">)</span>\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'show\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">function</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> myfun<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><video src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/f139daac-87ba-4cd1-a75c-d6cd88dd34ef.mp4" controls="controls" autoplay="autoplay" width="500" height="300">您的浏览器不支持播放该视频！</video></p>\n<h3>3.利用事件的捕获和冒泡做点事情</h3>\n<p>addEventListener()和removeEventListener()其实拥有三个参数，刚才说过了，第一个表示触发条件，第二个表示触发事件，第三个参数正常情况下可以省略，但是要知道它代表的意思</p>\n<p>用布尔值来表示，true或者false，默认是false</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/297eedab-74a9-4417-baa4-0242c2f66630.png" alt=""></p>\n<ul>\n<li>true表示在捕获阶段调用事件处理程序</li>\n<li>false表示在冒泡阶段调用事件处理程序</li>\n</ul>\n<p>根据图片可以看出，捕获阶段要先于冒泡阶段，因此，true事件要先于flase事件触发，多个true事件按顺序触发，多个false事件，写在后面的先触发</p>\n<blockquote>\n<p>结论：写在前面的true事件 &gt; 写在后面的true事件 &gt; 写在后面的false事件 &gt; 写在前面的false事件</p>\n</blockquote>\n<p>因此，利用这个参数，可以控制同一个元素的不同事件触发的顺序</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>out<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>最外面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>middle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>inner<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>最里面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 第一种情况 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> out <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'out\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> middle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'middle\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> inner <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'inner\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token comment">//点击inner时，触发顺序为：inner-------middle------out</span>\n    out<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最外面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   \n    middle<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是中间的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    \n    inner<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最里面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 第二种情况 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> out <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'out\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> middle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'middle\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> inner <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'inner\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token comment">//点击inner时，触发顺序为：out------middle-------inner</span>\n    out<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最外面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   \n    middle<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是中间的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  \n    inner<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最里面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 第三种情况 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> out <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'out\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> middle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'middle\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> inner <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'inner\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token comment">//点击inner时，触发顺序为：out------inner-------middle</span>\n    out<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最外面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   \n    middle<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是中间的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    \n    inner<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最里面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 第四种情况 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> out <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'out\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> middle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'middle\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> inner <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'inner\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token comment">//点击inner时，触发顺序为：out-------middle------inner</span>\n    out<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最外面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   \n    middle<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是中间的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  \n    inner<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最里面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 第五种情况 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> out <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'out\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> middle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'middle\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> inner <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'inner\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token comment">//点击inner时，触发顺序为：middle-------inner------out</span>\n    out<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最外面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   \n    middle<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是中间的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  \n    inner<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最里面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 第六种情况 --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> out <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'out\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> middle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'middle\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token keyword">var</span> inner <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'inner\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n    <span class="token comment">//点击inner时，触发顺序为：out-------inner------middle</span>\n    out<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最外面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   \n    middle<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是中间的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    \n    inner<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是最里面的"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<h3>4.事件处理程序</h3>\n<ol>\n<li>HTML事件处理程序</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"HTML事件处理程序"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<blockquote>\n<p>1.优点：事件处理程序中的代码，能够访问全局作用域中的任何变量<br>\n2.缺点：时差问题、扩展的作用域链在不同浏览器中会导致不同结果、html代码与js代码高度耦合</p>\n</blockquote>\n<ol start="2">\n<li>DOM0级事件处理程序</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"DOM0级事件处理程序"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<blockquote>\n<p>1.优点：代码简单，浏览器兼容性好，解决了html代码和js代码的高度耦合问题<br>\n2.缺点：一个元素只能绑定一个事件处理函数，只会在事件冒泡中运行</p>\n</blockquote>\n<ol start="3">\n<li>DOM2级事件处理程序</li>\n</ol>\n<p>该级别的事件处理程序，运用的就是事件捕获和冒泡机制</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// 事件监听</span>\n    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"DOM2级事件处理程序，我在捕获阶段执行"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"DOM2级事件处理程序，我在冒泡阶段执行"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// 移除事件监听</span>\n    <span class="token keyword">var</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我要被移除了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> fun<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    btn<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> fun<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<blockquote>\n<p>1.优点：同时支持事件处理的捕获和冒泡阶段，并且一个元素可以绑定多个处理函数<br>\n2.缺点：IE不支持</p>\n</blockquote>\n',date:ts,path:"/posts/2020-11-17-事件监听函数，以及事件的捕获和冒泡机制"},{attributes:{title:"getElementBy系列和querySelector系列的区别",date:os,updated:"2021/11/29 15:06:31",categories:[n],tags:[o],thumb:s},html:'<p><code>querySelector</code>和<code>querySelectorAll</code>的用法和<code>getElementBy</code>大致一样，获取的时候带上符号，getElementBy获取的是元素的<code>动态集合</code>，querySelector获取的是元素的<code>静态集合</code>。</p>\n\x3c!-- more --\x3e\n<p><red>但是需要注意：getElementBy系列和querySelector系列的区别</red></p>\n<p>比如，我们写一个for循环，每次获取li标签的时候，ul生成一个li子元素</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ul<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>b<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>c<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'ul\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">\'li\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> li<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'li\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>li<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">// 陷入死循环</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>用<code>i &lt; li.length</code>来进行判断时，会导致浏览器死循环，因为循环一次的时候，浏览器又重新获取li标签数组，每调用一次就会重新对文档进行查询，就会进入死循环</p>\n<p>进行修改：把<code>i &lt; li.length</code>改成<code>i &lt; 3</code>，把li标签数组静态化，然后打印</p>\n<pre class="language-js"><code class="language-js">conosle<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>li<span class="token punctuation">.</span>length<span class="token punctuation">)</span>  <span class="token comment">// 6</span>\n</code></pre>\n<p><red>重新用querySelector获取一遍元素</red></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ul<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>b<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>c<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">\'ul\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">\'li\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>li<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'li\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>li<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">// 输出对结果是原来的li.length = 3，而不是增加后的 6</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>静态集合体现在<code>querySelectorAll(\'li\')</code>获取到ul里所有li后，不管后续再动态添加了多少li，都是不会对其参数影响</p>\n',date:os,path:"/posts/2020-11-16-getElementBy系列和querySelector系列的区别"},{attributes:{title:"DOM－－文档对象模型",date:es,updated:"2021/11/29 14:10:18",categories:[n],tags:[o],thumb:s},html:'<p>DOM中文名文档对象模型，英文名Document Object Model，我们简称为DOM，是针对html和xml文档的一种API，将html以一种树状结构呈现出来，可以更直观去研究文档结构，我们将这种树状文档结构称为－－DOM树，或者节点树，一样的概念</p>\n\x3c!-- more --\x3e\n<h2>一、什么是DOM？</h2>\n<p>DOM中文名文档对象模型，英文名Document Object Model，我们简称为DOM，是针对html和xml文档的一种API，将html以一种树状结构呈现出来，可以更直观去研究文档结构，我们将这种树状文档结构称为－－DOM树，或者节点树，一样的概念</p>\n<p>js通过dom节点，可以对文档的html标签，属性，css样式，以及具体的内容做出修改，并对页面中的所有事件进行响应</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/3ffa522b-37ce-4b61-9c1d-2e7a5ed9fe29.jpg" alt="dom树结构图"></p>\n\x3c!-- more --\x3e\n<h2>二、节点树</h2>\n<h3>1.节点类型</h3>\n<ol>\n<li>文档节点－－Document</li>\n<li>标签节点－－Element</li>\n<li>文本节点－－Text</li>\n<li>注释节点－－Comment</li>\n<li>属性节点－－Attr</li>\n</ol>\n<h3>2. 属性</h3>\n<ol>\n<li>节点类型－－nodeType</li>\n<li>节点名称－－nodeName</li>\n<li>节点值－－nodeValue</li>\n<li>子节点－－childNodes</li>\n<li>父节点－－parentNodes</li>\n<li>上一个节点－－previousSibling</li>\n<li>下一个节点－－nextSibling</li>\n<li>第一个子节点－－firstChild</li>\n<li>最后一个子节点－－lastChild</li>\n</ol>\n<h3>3.文档节点－－document</h3>\n<h4>(1) 获取</h4>\n<ol>\n<li>getElementById()－－通过id获取元素</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>通过id获取元素<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    demo<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'通过id获取元素\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 点击id为demo的元素，控制台输出\'通过id获取元素\' --\x3e</span>\n</code></pre>\n<ol start="2">\n<li>getElementsByName()－－通过name获取元素</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>通过name获取元素1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>通过name获取元素2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> int <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">\'int\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> int<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>int<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 控制台输出name为int的元素的value值 --\x3e</span>\n</code></pre>\n<ol start="3">\n<li>getElementsByTagName()－－通过标签名获取元素</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>通过标签名获取元素1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>通过标签名获取元素2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">\'div\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> div<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 控制台输出标签名为div的元素的文本内容 --\x3e</span>\n</code></pre>\n<ol start="4">\n<li>getElementsByClassName()－－通过class获取元素</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>通过class获取元素1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>通过class获取元素2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> demo<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 控制台输出class为demo的元素的文本内容 --\x3e</span>\n</code></pre>\n<ol start="5">\n<li>querySelector()－－通过选择器获取元素</li>\n</ol>\n<p>querySelector()括号里面要跟上符号，<code>class就写.</code>，<code>id就写#</code>，<code>标签直接写标签名TagName</code></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>通过选择器获取标签名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>通过选择器获取class<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>通过选择器获取id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> divtag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">\'div\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> divclass <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">\'.div\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> divid <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">\'#div\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    divtag<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'通过选择器获取标签名\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token comment">// 点击标签div，控制台输出"通过选择器获取标签名"</span>\n\n    divclass<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'通过选择器获取class\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token comment">// 点击class为div，控制台输出"通过选择器获取class"</span>\n\n    divid<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'通过选择器获取id\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token comment">// 点击id为div，控制台输出"通过选择器获取id"</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<ol start="6">\n<li>querySelectorAll()－－通过选择器获取元素集合</li>\n</ol>\n<p>获取的是一个数组集合</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> int <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">\'input\'</span><span class="token punctuation">)</span>\n    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> int<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>int<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- 浏览器依次打印出`int1`,`int2`,`int3` --\x3e</span>\n</code></pre>\n<h4>(2) 创建</h4>\n<ol>\n<li>createElement()－－创建元素（标签）节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ul<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'ul\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'li\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>可以看到，ul下面已经生成了一个li标签</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/1730cc20-f0c5-40f7-bfd7-502e65d255d7.png" alt=""></p>\n<ol start="2">\n<li>createTextNode()－－创建文本节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ul<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'ul\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> li <span class="token operator">=</span> ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'li\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">\'我是li\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    li<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>li标签中生成了一段文本</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/2e3bf1b9-8285-4128-a809-a21136cf4687.png" alt=""></p>\n<ol start="3">\n<li>createAttribute()－－创建属性节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> int <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">\'input\'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> value <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createAttribute</span><span class="token punctuation">(</span><span class="token string">\'value\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    value<span class="token punctuation">.</span>nodeValue <span class="token operator">=</span> <span class="token string">\'通过创建属性节点生成\'</span><span class="token punctuation">;</span>\n    int<span class="token punctuation">.</span><span class="token function">setAttributeNode</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>可以看到value属性值被成功创建</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/3a640bc1-d9b0-436e-b2d4-f440e41cd1af.png" alt=""></p>\n<ol start="4">\n<li>createComment()－－创建注释节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>创建一个注释节点<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'div\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> comment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createComment</span><span class="token punctuation">(</span><span class="token string">\'添加一个注释节点\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>comment<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>f12查看源码，可以看到div生成一行注释</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/0d1412e5-3790-4005-9c65-a30bfb1f0f6a.png" alt=""></p>\n<ol start="5">\n<li>createDocumentFragment()－－创建文档片段</li>\n</ol>\n<p>文档片段的作用，就相当于是添加的所有的节点的父元素</p>\n<blockquote>\n<p>1.假如没有createDocumentFragment，添加了很多节点，也可以在dom上呈现，但是每次添加的时候都会调用一次appendChild()方法，产生很多次页面渲染，显得比较臃肿<br>\n2.把多次添加的节点放在一个createDocumentFragment节点里面，页面只会调用一次就可以把所有的节点都渲染了</p>\n</blockquote>\n<ol start="6">\n<li>\n<p>createEvent()－－创建事件对象</p>\n</li>\n<li>\n<p>addEventListener()－－添加事件监听函数</p>\n</li>\n<li>\n<p>removeEventListener()－－移除事件监听函数</p>\n</li>\n</ol>\n<p><a href="../20201117-eventlistener" target="_blank">事件监听函数详解</a></p>\n<ol start="9">\n<li>dispatchEvent()－－触发事件</li>\n</ol>\n<h4>操作css</h4>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>dom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token comment">// 直接通过\'.\'来操作style</span>\n    <span class="token keyword">var</span> demo<span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    demo<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">\'red\'</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// 通过setAttribute()来创建属性节点</span>\n    demo<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">\'style\'</span><span class="token punctuation">,</span><span class="token string">\'background-color: green\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// 通过style的cssText属性</span>\n    demo<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">"border: 10px solid black"</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<h3>4.元素节点(element对象)</h3>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/a31a07ef-124c-4f86-8f8f-b88ce42ad09c.png" alt=""></p>\n<p><strong>有关innerHTML, innerText, outerHTML, outerText的区别</strong></p>\n<p>一个是元素内容，一个是文本内容</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/45a3bf80-f294-444c-ae76-64300242dfa3.gif" alt=""></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>第一个div<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>第二个div<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>第三个div<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>第四个div<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div7<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'div1\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">)</span>   <span class="token comment">// 第一个div</span>\n\n    <span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'div1\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>outerHTML\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div1<span class="token punctuation">)</span>   <span class="token comment">// &lt;div id="div1">第一个div&lt;/div></span>\n\n    <span class="token keyword">var</span> div2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'div2\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div2<span class="token punctuation">)</span>   <span class="token comment">// 第二个div</span>\n\n    <span class="token keyword">var</span> div2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'div2\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>outerText\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div2<span class="token punctuation">)</span>   <span class="token comment">// 第二个div</span>\n\n    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'div5\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">\'&lt;a>《第5个div》&lt;/a>\'</span>\n    <span class="token comment">// 在原有的标签内增加内容，如果有标签会被识别</span>\n\n    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'div6\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>outerHTML <span class="token operator">=</span> <span class="token string">\'&lt;a>《第6个div》&lt;/a>\'</span>\n    <span class="token comment">// 原来的标签会被覆盖，新的文本中如果含有标签会自动生成，如果没有标签则直接以文本形式展示</span>\n\n    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'div7\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">\'&lt;a>《第7个div》&lt;/a>\'</span>\n    <span class="token comment">// 在原有的标签内增加内容，新标签不会被识别为标签元素，而是被当作文本内容直接写入原标签内</span>\n\n    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'div8\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>outerText <span class="token operator">=</span> <span class="token string">\'&lt;a>《第8个div》&lt;/a>\'</span>\n    <span class="token comment">// 原来的标签会被覆盖，新标签不会被识别为标签元素，而是直接被当作文本形式展示</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<h4>(1) 节点属性</h4>\n<ol>\n<li>childElementCount－－返回当前元素的子节点的个数</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>childElementCount<span class="token punctuation">)</span> <span class="token comment">// 4</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<ol start="2">\n<li>firstElementChild－－返回当前元素的第一个子元素节点<br>\nlastElementChild－－返回当前元素的最后一个子元素节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">)</span> <span class="token comment">// &lt;a>&lt;/a></span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">)</span>  <span class="token comment">// &lt;div>&lt;/div></span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<ol start="3">\n<li>nextElementSibling－－返回当前元素的下一个兄弟元素节点<br>\npreviousElementSibling－－返回当前元素的上一个兄弟元素节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">)</span>        <span class="token comment">// &lt;p>&lt;/p></span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>previousElementSibling<span class="token punctuation">)</span>    <span class="token comment">// &lt;span>&lt;/span></span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<ol start="4">\n<li>返回当前元素所有的子节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> demo<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>控制台查看返回结果</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/069d6703-ec2f-499e-9236-cc4ddea0a6a5.jpg" alt=""></p>\n<ol start="5">\n<li>返回所有子节点集合</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> demo1<span class="token punctuation">.</span>childNodes<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/2f2dded9-71e7-4fe5-b252-3c0e7451d56f.jpg" alt=""></p>\n<h4>(2) 节点方法</h4>\n<ol>\n<li>appendChild－－插入子节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    <span class="token keyword">var</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">\'插入一个子节点\'</span><span class="token punctuation">)</span>\n    demo<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  \n</code></pre>\n<p>f12可以看到，div被插入了一个节点</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/f5826008-b3f3-404c-8d6e-e11d54e2136a.jpg" alt=""></p>\n<ol start="2">\n<li>insertBefore(a, b)－－在指定位置插入节点</li>\n</ol>\n<p>参数a表示要插入的内容，b表示定位，在b节点之前插入a节点</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    <span class="token keyword">var</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">\'插入一个子节点\'</span><span class="token punctuation">)</span>\n    demo<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>\n\n    <span class="token keyword">var</span> hr <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'hr\'</span><span class="token punctuation">)</span>\n    demo<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>hr<span class="token punctuation">,</span> node<span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  \n</code></pre>\n<p>可以看到，原来的文本节点之前，被添加了一个新的元素节点</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/0676c84c-1c2a-4992-b95b-f95234b11b6d.png" alt=""></p>\n<ol start="3">\n<li>replaceChild(a, b)－－替换节点</li>\n</ol>\n<p>用参数a替换参数b，a表示新节点，b表示旧节点</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    <span class="token keyword">var</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">\'插入一个子节点\'</span><span class="token punctuation">)</span>\n    demo<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>\n\n    <span class="token keyword">var</span> h3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'h3\'</span><span class="token punctuation">)</span>\n    <span class="token keyword">var</span> h3node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">\'title标题\'</span><span class="token punctuation">)</span>\n    h3<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>h3node<span class="token punctuation">)</span>\n    demo<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>h3<span class="token punctuation">,</span> node<span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  \n</code></pre>\n<p><code>h3</code>是新节点，<code>node</code>是旧节点，根据图片可以看到，b替换掉了a，成功上位</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/d44385ba-a6b9-4b9b-b381-c26b87c26b96.jpg" alt=""></p>\n<ol start="4">\n<li>removeChild－－父节点删除子节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>son<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    <span class="token keyword">var</span> son <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'son\'</span><span class="token punctuation">)</span>\n    demo<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>son<span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  \n</code></pre>\n<p>f12可以看到，id为son的元素节点，通过<code>demo.removeChild()</code>已经被删除了</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/0b56c5f7-d57d-469f-ac90-9630ac22a792.jpg" alt=""></p>\n<ol start="5">\n<li>removeAttribute－－删除属性节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>div<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    demo<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">\'class\'</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  \n</code></pre>\n<p>class属性已经被删除了</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/5094309b-decd-4983-9a03-db94eaf87656.jpg" alt=""></p>\n<ol start="6">\n<li>删除文本节点</li>\n</ol>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>文本<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    demo<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  \n</code></pre>\n<p>通过<code>demo.childNodesp[0]</code>获取demo的第一个节点，即文本节点，然后<code>removeChild</code>它，就删除了</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/03ef7200-9157-430a-aad0-5caf26a233bb.png" alt=""></p>\n<ol start="7">\n<li>isEqualNode－－判断两个元素是否<code>相等</code><br>\nisSameNode－－判断两个元素是否<code>相同</code></li>\n</ol>\n<blockquote>\n<p>两者分别代表<code>相等</code>和<code>相同</code></p>\n</blockquote>\n<p>(1) <code>isEqualNode</code>相等，指的是两个节点是否是同一类型，具有相等的属性（包括：nodeName, nodeValue...等等），还有相等的attributes,childNodes（相等的位置包含相同的值）<br>\n(2) <code>isSameNode</code>相同，指的是两个节点引用的是同一个对象</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>o<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>o<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> forms <span class="token operator">=</span> document<span class="token punctuation">.</span>forms<span class="token punctuation">;</span>\n\n    <span class="token keyword">var</span> form1 <span class="token operator">=</span> forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> form2 <span class="token operator">=</span> forms<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> form3 <span class="token operator">=</span> forms<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> form4 <span class="token operator">=</span> forms<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> _form1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">\'form\'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>form1<span class="token punctuation">.</span><span class="token function">isSameNode</span><span class="token punctuation">(</span>form1<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//true  两个节点引用的对象都是第一个form</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>form1<span class="token punctuation">.</span><span class="token function">isSameNode</span><span class="token punctuation">(</span>_form1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//true  两个节点引用的对象都是第一个form</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>form1<span class="token punctuation">.</span><span class="token function">isSameNode</span><span class="token punctuation">(</span>form2<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//false 两个节点引用的不是一个对象</span>\n\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>form1<span class="token punctuation">.</span><span class="token function">isEqualNode</span><span class="token punctuation">(</span>form2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//true  两个节点具有完全等同属性</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>form1<span class="token punctuation">.</span><span class="token function">isEqualNode</span><span class="token punctuation">(</span>form3<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false form1中无等同的id属性</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>form3<span class="token punctuation">.</span><span class="token function">isEqualNode</span><span class="token punctuation">(</span>form4<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//fasle form4的childNodes中的input为text类别，与form3不同</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>根据例子代码可以看出区别：</p>\n<p>(1) <code>isSameNode</code>只有引用同一个对象时才相同，比如用两中方法调用同一个对象，再比较这两种方法，比来比去还是那个对象，所以相同<br>\n(2) 而<code>isEqualNode</code>比较两个对象的元素节点是否相等，只要两者一致就可以相等true</p>\n<ol start="8">\n<li>hasChildNodes()－－判断一个元素是否拥有子节点</li>\n</ol>\n<p>判断<code>demo</code>是否拥有子节点，然后输出他的子节点</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token comment">&lt;!-- &lt;a>&lt;/a> --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span><span class="token function">hasChildNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>childNodes<span class="token punctuation">)</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/f68efaf2-912a-4c67-a878-cf4c271fac33.png" alt=""></p>\n<ol start="9">\n<li>contains(a)－－判断一个节点是否包含指定子节点（参数a表示要判断的子节点）</li>\n</ol>\n<p>存在<code>id=&quot;a&quot;</code>的元素，因此contains判断成功输出<code>true</code>，</p>\n<p>不存在<code>id=&quot;b&quot;</code>的元素，因此输出<code>false</code></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'demo\'</span><span class="token punctuation">)</span>\n    <span class="token keyword">var</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">)</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// true</span>\n\n    <span class="token keyword">var</span> b <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'b\'</span><span class="token punctuation">)</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// false</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<h3>5.属性节点(Attr对象)</h3>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">var</span> int <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'int\'</span><span class="token punctuation">)</span>\n\n    <span class="token comment">// 1.获取属性值</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>int<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   \n    <span class="token comment">// text</span>\n    \n    <span class="token comment">// 2.获取属性节点</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>int<span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token comment">// type="text"</span>\n    \n    <span class="token comment">// 3.设置属性值</span>\n    int<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">,</span> <span class="token string">"input框"</span><span class="token punctuation">)</span>\n    <span class="token comment">// &lt;input type="text" id="int" value="input框"></span>\n\n    <span class="token comment">// 4.设置属性节点</span>\n    <span class="token keyword">let</span> name <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    name<span class="token punctuation">.</span>nodeValue <span class="token operator">=</span> <span class="token string">"uname"</span><span class="token punctuation">;</span>\n    int<span class="token punctuation">.</span><span class="token function">setAttributeNode</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>int<span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span><span class="token string">\'name\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> \n    <span class="token comment">// &lt;input type="text" id="int" value="input框" name="uname"></span>\n\n    <span class="token comment">// 5.删除属性节点</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>int<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">\'name\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token comment">// &lt;input type="text" id="int" value="input框"></span>\n\n    <span class="token comment">// 6.判断是否存在属性</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>int<span class="token punctuation">.</span><span class="token function">hasAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token comment">// true</span>\n\n    <span class="token comment">// 7.判断是否存在指定属性</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>int<span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">\'value\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token comment">// true</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<blockquote>\n<p>注意：<code>hasAttribute</code>和<code>hasAttributes</code>的区别<br>\n<code>hasAttributes</code>判断是否存在属性，<br>\n<code>hasAttribute</code>判断是否存在指定属性</p>\n</blockquote>\n',date:es,path:"/posts/2020-11-15-DOM－－文档对象模型"},{attributes:{title:"有关js函数，方法的一些补充总结",date:cs,updated:"2021/11/29 13:19:52",categories:[n],tags:[o,p],thumb:s},html:'<p>数据类型，构造函数，原型和原型链的一些讲解补充</p>\n\x3c!-- more --\x3e\n<h2>一、数据类型</h2>\n<h3>1.5个基本类型</h3>\n<p>string<br>\nnumber<br>\nboolean<br>\nundefined   未定义<br>\nnull    值为空<br>\nsymbol  表示一个符号，符号类型是唯一的并且是不可修改的</p>\n<p>最常见的还是前三种，字符串，数字，布尔值</p>\n<h3>2.常见的引用类型</h3>\n<p>引用类型是一种数据结构，用于将数据和功能组织在一起</p>\n<p>对象－Object, 数组－Array, 函数－Function, 正则－RegExp, 日期－Date等</p>\n<h2>二、函数</h2>\n<h3>1.什么是函数？</h3>\n<ol>\n<li>具有独立功能的代码块，在js中使用function关键字定义函数</li>\n<li>让代码结构更加清晰，提高代码可用性</li>\n<li>js函数的分类：自定义函数和系统函数</li>\n</ol>\n<h3>2.自定义函数</h3>\n<p>有一种匿名函数，没有名字的函数，创建闭包，避免造成全局变量的污染</p>\n<p>匿名自执行函数</p>\n<ol>\n<li>概念：匿名函数的定义完成后立即执行，执行函数表达式</li>\n<li>作用：实现闭包和创建独立的命名空间</li>\n<li>使用：分组操作符()，void操作符，~操作符，!操作符等等</li>\n<li>使用场景：函数表达式，对象属性，事件，事件参数，返回值</li>\n<li>定义完匿名函数后，一定要调用</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token comment">// 函数表达式</span>\nwindow<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> <span class="token function-variable function">funcobj</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"函数表达式中的匿名函数"</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n    <span class="token function">funcobj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<pre class="language-js"><code class="language-js"><span class="token comment">// 对象属性</span>\nwindow<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>\n        <span class="token function-variable function">name</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'对象属性中的匿名函数\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    obj<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h3>3.内置函数</h3>\n<p>放在全局下面叫做函数，放在对象里面被叫做方法，对象的方法</p>\n<ol>\n<li>常规函数</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 弹出框</span>\n<span class="token function">confirm</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 弹出一个确认框</span>\n<span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 弹出一个输入框</span>\n<span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// 判断是否为数字</span>\n<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 将字符串或浮点数转换为整数</span>\n<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 将字符串转换为整数或浮点数</span>\n<span class="token function">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// 计算表达式的结果</span>\n</code></pre>\n<ol start="2">\n<li>数组函数</li>\n</ol>\n<p>用<code>for循环</code>遍历数组</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 输出 1,2,3,4</span>\n</code></pre>\n<p>通过<code>for in</code>遍历数组</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 输出 1,2,3,4</span>\n</code></pre>\n<pre class="language-js"><code class="language-js"><span class="token comment">// 增加</span>\n<span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 添加元素在数组首部，返回值是数组长度</span>\n<span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// 添加元素在数组尾部，返回值是数组长度</span>\n<span class="token function">conat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// 连接两个数组，返回值是连接后的数组</span>\n    <span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">let</span> arr <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2]</span>\n\n<span class="token comment">/*****************************************/</span>\n<span class="token comment">// 删除</span>\n<span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment">// 删除数组最后一个元素，返回值是删除的元素</span>\n<span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// 删除数组第一个元素，返回值是删除的元素</span>\n<span class="token function">splice</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment">// 删除指定位置a后的b个元素，返回值是删除的元素</span>\n<span class="token function">slice</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>  <span class="token comment">// 删除从a位置到b位置之间的元素</span>\n\n<span class="token comment">/*****************************************/</span>\n<span class="token comment">// 查找</span>\n<span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 判断数组是否包含指定元素，存在返回元素，不存在返回-1</span>\n<span class="token function">includes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 判断数组是否包含指定元素，存在返回true，不存在返回false</span>\n\n<span class="token comment">/*****************************************/</span>\n<span class="token comment">// 其他</span>\n<span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// 将数组按照规则排序</span>\n    <span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">var</span> arrAscSort <span class="token operator">=</span> arr5<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> a<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 升序排序</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrAscSort<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 1, 2, 3, 5, 6 ]</span>\n    \n    <span class="token keyword">var</span> arrDescSort <span class="token operator">=</span> arr5<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> b<span class="token operator">-</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 降序排序</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrDescSort<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 6, 5, 3, 2, 1, 1 ]</span>\n\n<span class="token function">reerse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 数组反转</span>\n    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token comment">// 直接通过reverse()方法调用</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// [6,5,4,3,2,1]</span>\n\nArray<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 将一串数据转换为数组形式</span>\n    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">\'将一串数据转换为数组形式\'</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token comment">// ["将", "一", "串", "数", "据", "转", "换", "为", "数", "组", "形", "式"]</span>\n\nArray<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 判断一个变量是否为数组</span>\n    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">\'将一串数据转换为数组形式\'</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token comment">// false</span>\n</code></pre>\n<ol start="3">\n<li>日期函数 Date()</li>\n</ol>\n<p>获取时间</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token comment">// 获取当前时间</span>\n<span class="token comment">// Fri Nov 13 2020 20:21:35 GMT+0800 (中国标准时间)</span>\n\n<span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 获取当前年份</span>\n<span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// 获取当月月份  -1</span>\n<span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment">// 获取当天日期</span>\n<span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// 获取当前小时</span>\n<span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 获取当前分钟</span>\n<span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 获取当前秒</span>\n<span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 获取当前毫秒</span>\n<span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment">// 时间戳-获取1970年至今的毫秒数</span>\n</code></pre>\n<p>设置时间</p>\n<pre class="language-js"><code class="language-js"><span class="token function">setYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment">// 设置年份</span>\n<span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// 设置月份</span>\n<span class="token function">setDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment">// 设置日期</span>\n<span class="token function">setHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// 设置小时</span>\n<span class="token function">setMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 设置分钟</span>\n<span class="token function">setSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 设置秒</span>\n</code></pre>\n<ol start="4">\n<li>数学函数 Math</li>\n</ol>\n<p>主要常用的数学函数方法</p>\n<pre class="language-js"><code class="language-js">Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 绝对值</span>\nMath<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 向上取整</span>\nMath<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 向下取整</span>\nMath<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 四舍五入</span>\nMath<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 生成0-1之间的随机数</span>\n</code></pre>\n<p>random()的延伸用法－－－生成指定位的随机数</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getRandomNumber</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getRandomNumber</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<ol start="5">\n<li>字符串函数</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 查找字符串，返回索引值</span>\n    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"字"</span><span class="token punctuation">,</span> <span class="token string">"符"</span><span class="token punctuation">,</span> <span class="token string">"串"</span><span class="token punctuation">,</span> <span class="token string">"函"</span><span class="token punctuation">,</span> <span class="token string">"数"</span><span class="token punctuation">]</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"串"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 2</span>\n\n<span class="token function">split</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// 将字符串按照指定的分隔符分割开来</span>\n    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"字符串函数"</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">// ["字", "符", "串", "函", "数"]</span>\n\n<span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// 清除字符串两端的空格</span>\n    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"   字符串函数   "</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>        <span class="token comment">// [   字符串函数   ]</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [字符串函数]</span>\n\n<span class="token function">match</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// 按照制定规则查找值</span>\n    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"字符串函数字符串函数"</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/字符串/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// 字符串</span>\n    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/字符串/</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 字符串</span>\n\n<span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 返回字符串</span>\n\n首次出现的位置\n    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"字符串函数字符串函数"</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">\'串\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// 2</span>\n\n<span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 替换指定的字符串</span>\n    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"字符串函数字符串函数"</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">\'字\'</span><span class="token punctuation">,</span><span class="token string">\'函\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token comment">// 函符串函数字符串函数</span>\n\n<span class="token function">substring</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment">// 从指定位置切割字符串，左闭右开</span>\n    <span class="token comment">// 从索引a，截取到b</span>\n    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"字符串函数字符串函数"</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 字符串</span>\n\n<span class="token function">substr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>    <span class="token comment">// 从指定位置切指定个字符</span>\n    <span class="token comment">// 从索引a开始，截取b个字符</span>\n    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"字符串函数字符串函数"</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// 字符串</span>\n</code></pre>\n',date:cs,path:"/posts/2020-11-14-有关js函数，方法的一些补充总结"},{attributes:{title:"为什么getTime()返回1970年至今的毫秒？",date:ls,updated:"2021/11/29 13:19:31",categories:[n],tags:["杂谈"],thumb:s},html:'<p>今天在写new Date()时候，无意中发现了一个很有意思的方法，<code>getTime()</code>，百度了一下，有人说是计算从1970年1月1日至今的毫秒数</p>\n\x3c!-- more --\x3e\n<blockquote>\n<p>为什么要是1970年呢？</p>\n</blockquote>\n<pre class="language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// xxxxxxxxxxx</span>\n</code></pre>\n<p>这个起源于unix的诞生，因为Unix在1969年被开发出来，1971年正式发布，在这之前没有机器会需要来表示1970-01-01-00:00:00之前的时间，后面的语言很多就沿用了这一习惯，js只是也沿用了这种习惯而已。</p>\n<p>当然，这一做法现在看来是很有问题的，例如不方便用它表示更早的时间而且精度有限。</p>\n<p>定义time从1970年1月1日开始，忽然想到在JAVA里，Oracle数据库时间也是从1970年1月1日开始计算。</p>\n<p>比如java类代码:</p>\n<pre class="language-java"><code class="language-java"><span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 打印出来的结果：Thu Jan 01 08:00:00 CST 1970也</span>\n</code></pre>\n<p>是1970年1月1日，实际上时分秒是0点0分0秒(这里打印出来是8点，稍后会作解释)。</p>\n<p>为什么这个时间会定义在1970年1月1日这个时候呢?</p>\n<p>于是开始了Google，中文网页根本找不到答案。于是试着搜索英文关键字,在Sun java论坛总算找到准确的帖子:</p>\n<p>http://forums.sun.com/thread.jspa?threadID=595140&amp;start=15</p>\n<p>其中有一个回复:</p>\n<p>I suspect that Java was born and raised on a UNIX system.<br>\nUNIX considers the epoch (when did time begin) to be midnight, January 1, 1970.<br>\n是说java起源于UNIX系统，而UNIX认为1970年1月1日0点是时间纪元.</p>\n<p>但这依然没很好的解释&quot;为什么&quot;,出于好奇，继续Google，总算找到了答案:</p>\n<p>http://en.wikipedia.org/wiki/Unix_time</p>\n<p>这里的解释是:</p>\n<p>最初计算机操作系统是32位，而时间也是用32位表示。</p>\n<p>System.out.println(Integer.MAX_VALUE);</p>\n<p>2147483647</p>\n<p>Integer在JAVA内用32位表示，因此32位能表示的最大值是2147483647。另外1年365天的总秒数是31536000，2147483647/31536000 = 68.1,也就是说32位能表示的最长时间是68年，而实际上到2038年01月19日03时14分07秒，便会到达最大时间，过了这个时间点，所有32位操作系统时间便会变为10000000 00000000 00000000 00000000也就是1901年12月13日20时45分52秒，这样便会出现时间回归的现象，很多软件便会运行异常了。</p>\n<p>到这里，我想问题的答案已经出来了:</p>\n<p>因为用32位来表示时间的最大间隔是68年，而最早出现的UNIX操作系统考虑到计算机产生的年代和应用的时限综合取了1970年1月1日作为UNIX TIME的纪元时间(开始时间)，而java自然也遵循了这一约束。</p>\n<p>至于时间回归的现象相信随着64为操作系统的产生逐渐得到解决，因为用64位操作系统可以表示到292,277,026,596年12月4日15时30分08秒，相信我们的N代子孙，哪怕地球毁灭那天都不用愁不够用了，因为这个时间已经是千亿年以后了。</p>\n<p>最后一个问题:</p>\n<p>上面System.out.println(new Date(0))，打印出来的时间是8点而非0点，原因是存在系统时间和本地时间的问题，其实系统时间依然是0点，只不过我的电脑时区设置为东8区，故打印的结果是8点。</p>\n',date:ls,path:"/posts/2020-11-13-为什么getTime()返回1970年至今的毫秒？"},{attributes:{title:"面向对象编程",date:us,updated:"2021/11/29 13:15:56",categories:[n],tags:[k,p],thumb:s},html:'<p>面向对象把构成问题的transaction分解成各个对象，而建立对象的目的也不是为了完成一个个步骤，而是为了描述某个事物在解决整个问题的过程中所发生的行为，意在写出通用代码，加强代码重用，屏蔽差异性。</p>\n\x3c!-- more --\x3e\n<h2>一、什么是面向对象编程</h2>\n<p>js是<code>基于原型</code>的，基于<code>面向对象编程</code></p>\n<p>面向对象就是把数据和对数据的操作方法放在一起，作为一个整体——对象。对同类对象抽象出其共性，形成类</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/99809398-db39-4c68-97b2-83ff9971f2c6.png" alt=""></p>\n\x3c!-- more --\x3e\n<h3>1.面向过程程序设计</h3>\n<p>将一个项目（或者一个事件）从头到尾按顺序，一步一步完成，先做什么，后做什么，一直到结束，也是我们人做事的方法。</p>\n<p>自上而下，先确定一个整体的框架，然后添砖加瓦，逐步实现想要得到的效果，适用于简单的系统，容易理解。但是难以应对复杂的系统，不易维护扩展，难以复用</p>\n<p>面向过程是分析解决问题的步骤，然后用函数把这些步骤一步一步的实现，然后在使用的时候一一调用则可。强调的是完成这件事儿的动作，更接近我们日常处理事情的思维。</p>\n<h3>2.面向对象程序设计</h3>\n<p>将一个项目（或者一个事件）分成更小的项目，每一个部分负责一方面的功能，最后由这些部分组成一个整体，先设计组件，在完成拼装，适用于大型复杂的系统</p>\n<p>面向对象把构成问题的transaction分解成各个对象，而建立对象的目的也不是为了完成一个个步骤，而是为了描述某个事物在解决整个问题的过程中所发生的行为，意在写出通用代码，加强代码重用，屏蔽差异性。</p>\n<p>想要弄明白面向对象，需要先理解类和对象的概念</p>\n<p><a href="../20201118-objects-interfaces-classes">《什么是类和对象？》</a></p>\n<h2>二、创建对象的方法</h2>\n<h3>1.创建字面量和实例</h3>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// 实例</span>\n    <span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">\'小明\'</span><span class="token punctuation">;</span>\n    person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>\n    person<span class="token punctuation">.</span><span class="token function-variable function">year</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">\'今年\'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">\'岁了！\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    person<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// 字面量</span>\n    <span class="token keyword">var</span> student <span class="token operator">=</span> <span class="token punctuation">{</span>\n        name<span class="token operator">:</span> <span class="token string">\'小明\'</span><span class="token punctuation">,</span>\n        age<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">year</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">\'今年\'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">\'岁了！\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    student<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 小明今年22岁了！</span>\n</code></pre>\n<p>两者输出的结果是一样的，控制台输出：<br>\n<img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/c8eb2a0d-5c3a-461e-b699-79653edcd986.jpg" alt=""></p>\n<blockquote>\n<p>缺点：重复实例化对象，代码冗余高</p>\n</blockquote>\n<h3>2.工厂模式</h3>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">createObj</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        obj<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">,</span>\n        obj<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">,</span>\n        obj<span class="token punctuation">.</span><span class="token function-variable function">year</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">\'今年\'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">\'岁了！\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> obj<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token function">createObj</span><span class="token punctuation">(</span><span class="token string">\'小明\'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    obj<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 小明今年22岁了！</span>\n</code></pre>\n<blockquote>\n<p>优点：解决重复实例化对象的问题<br>\n缺点：无法识别对象的类型，因为所有的实例都指向一个原型</p>\n</blockquote>\n<h3>3.构造函数</h3>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">year</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">\'今年\'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">\'岁了！\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">var</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">\'小明\'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    student<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 小明今年22岁了！</span>\n</code></pre>\n<blockquote>\n<p>优点：可以识别对象的类型<br>\n缺点：多个实例重复创建方法，无法共享</p>\n</blockquote>\n<h3>4. 原型模式</h3>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">Par</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n    <span class="token class-name">Par</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>\n        constructor<span class="token operator">:</span> <span class="token string">\'Par\'</span><span class="token punctuation">,</span>\n        name<span class="token operator">:</span> <span class="token string">\'小明\'</span><span class="token punctuation">,</span>\n        age<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">year</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">\'今年\'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">\'岁了！\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Par</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    son<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 小明今年22岁了！</span>\n</code></pre>\n<blockquote>\n<p>缺点：所有实例共享他的属性和方法，不能传参和初始化属性值</p>\n</blockquote>\n<h3>5.混合模式(推荐使用)</h3>\n<p>是构造函数和原型模式混合的写法，拥有各自的优点，构造函数共享实例属性，原型模式共享方法和想要共享的属性，可以传参和初始化属性值</p>\n<p>先用构造函数定义对象的属性方法，然后用原型模式创建方法，使用的属性通过prototype获取，有一个constructor属性，可以指向要操作的函数对象（构造函数）</p>\n<p>比如<code>constructor: Par</code>，就代表下面这个原型方法指向<code>Par()</code>对象（构造函数）</p>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">Par</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token class-name">Par</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>\n        constructor<span class="token operator">:</span> Par<span class="token punctuation">,</span>\n        <span class="token function-variable function">year</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">\'今年\'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">\'岁了！\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Par</span><span class="token punctuation">(</span><span class="token string">\'小明\'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>\n    son<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 小明今年22岁了！</span>\n</code></pre>\n<h2>三、原型，原型链</h2>\n<h3>1.原型对象</h3>\n<ol>\n<li>函数对象都具有<code>prototype</code>属性，它指向函数的原型对象(浏览器内存创建的对象)，原型对象都具有<code>constructor</code>属性，它指向<code>prototype</code>属性所在的函数对象(构造函数)</li>\n</ol>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">Par</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token class-name">Par</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token comment">// constructor指向对象</span>\n        constructor<span class="token operator">:</span> Par<span class="token punctuation">,</span>\n        <span class="token function-variable function">year</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">\'今年\'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">\'岁了！\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Par</span><span class="token punctuation">(</span><span class="token string">\'小明\'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>\n    son<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*********************************************/</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Par</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Par</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>\n<span class="token comment">/*********************************************/</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>通过控制台可以看到</p>\n<p>构造函数的<code>prototypr</code>属性指向原型对象</p>\n<p>原型对象的<code>construcyor</code>属性指向构造函数</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/769d7f85-0893-4896-84ac-8cb03b8e55d6.jpg" alt=""></p>\n<ol start="2">\n<li>当调用构造函数创建一个实例后，该实例会有一个隐藏属性<code>__proto__ </code>，它指向构造函数的原型对象</li>\n</ol>\n<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Par</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>\n\n<span class="token comment">// true</span>\n</code></pre>\n<ol start="3">\n<li>所有的构造函数的prototype都是object类型</li>\n</ol>\n<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token class-name">Par</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>\n\n<span class="token comment">// object</span>\n</code></pre>\n<ol start="4">\n<li>Function的prototype是一个空函数，所有内置函数的__proto__属性都指向这个空函数</li>\n</ol>\n<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>\n</code></pre>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/47a21be9-e931-48e5-8724-96e7af58ab85.jpg" alt=""></p>\n<ol start="5">\n<li>如果构造函数实例和原型对象中同时定义了一个属性，在调用时，会屏蔽原型对象中的属性，如果想要访问原型对象中的属性值，需要通过<code>delete</code>方法将同名属性在实例（构造函数）中彻底删除</li>\n</ol>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">Par</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token class-name">Par</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"张三"</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Par</span><span class="token punctuation">(</span><span class="token string">"李四"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 李四</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 张三</span>\n\n    <span class="token comment">// 使用delete删除实例的同名属性值</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">delete</span> son<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 张三</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<ol start="6">\n<li>通过<code>hasOwnProperty(属性名)</code>可以判断一个属性存在于构造函数中，还是原型对象中</li>\n</ol>\n<blockquote>\n<p><code>true</code>表示存在构造函数中；<code>false</code>表示存在原型对象中</p>\n</blockquote>\n<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Par<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>\n</code></pre>\n<ol start="7">\n<li>操作符<code>in</code>，可以判断一个属性是否存在（存在于构造函数和原型对象中皆可）</li>\n</ol>\n<pre class="language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">Par</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token class-name">Par</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>\n        constructor<span class="token operator">:</span> Par<span class="token punctuation">,</span>\n        <span class="token function-variable function">year</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Par</span><span class="token punctuation">(</span><span class="token string">\'xm\'</span><span class="token punctuation">,</span> <span class="token string">\'22\'</span><span class="token punctuation">)</span>\n    son<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'name\'</span> <span class="token keyword">in</span> Par<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'age\'</span> <span class="token keyword">in</span> Par<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>同样的两个属性，判断其是否存在于实例或者原型对象中，输出的结果不一样</p>\n<blockquote>\n<p>参考:《对象中是否有某一个属性 in》<a href="https://www.cnblogs.com/IwishIcould/p/12333739.html">https://www.cnblogs.com/IwishIcould/p/12333739.html</a></p>\n</blockquote>\n<h3>2.__proto__和prototype的区别</h3>\n<ol>\n<li>\n<p><code>prototype</code>属性只有函数对象上才有，而<code>__proto__</code>属性所有对象都有</p>\n</li>\n<li>\n<p><code>prototype</code>是由函数对象指向原型对象，而<code>__proto__</code>是由实例指向函数对象的原型对象</p>\n</li>\n<li>\n<p>原型链，将父类型的实例作为子类型的原型对象，这种链式关系叫做<code>原型链</code></p>\n</li>\n</ol>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/ed2c179f-0e9d-4da0-bae3-00d2273b10c6.png" alt=""></p>\n<h3>3.继承</h3>\n<ol>\n<li>原型链继承</li>\n</ol>\n<blockquote>\n<p>优点：父类原型定义的属性和方法可以复用<br>\n缺点：子类实例没有自己的属性，不能向父类传递参数</p>\n</blockquote>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">"北京"</span><span class="token punctuation">,</span> <span class="token string">"上海"</span><span class="token punctuation">,</span> <span class="token string">"天津"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>property <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>\n        constructor <span class="token operator">:</span> SuperType<span class="token punctuation">,</span>     <span class="token comment">// 保持构造函数和原型对象的完整性</span>\n        age <span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">getSuperValue</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>property<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">function</span> <span class="token function">SonType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>property <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// 重写子类的原型指向父类的实例：继承父类的原型</span>\n    <span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>\n        constructor <span class="token operator">:</span> SubType<span class="token punctuation">,</span>\n        <span class="token function-variable function">getSonType</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>property<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// 优点验证</span>\n    <span class="token keyword">let</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span><span class="token function">getSuperValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n\n    <span class="token comment">// 缺点验证</span>\n    <span class="token keyword">let</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    instance1<span class="token punctuation">.</span>city<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"重庆"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["北京", "上海", "天津", "重庆"]</span>\n\n    <span class="token keyword">let</span> instance2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance2<span class="token punctuation">.</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["北京", "上海", "天津", "重庆"]</span>\n\n<span class="token punctuation">}</span>\n\n<span class="token comment">// test1();</span>\n</code></pre>\n<ol start="2">\n<li>构造函数继承</li>\n</ol>\n<blockquote>\n<p>优点：子类实例有自己的属性，可以向父类传递参数，解决原型链继承的缺点<br>\n缺点：父类原型的属性和方法不可复用</p>\n</blockquote>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">"北京"</span><span class="token punctuation">,</span> <span class="token string">"上海"</span><span class="token punctuation">,</span> <span class="token string">"天津"</span> <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n    <span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>\n        constructor <span class="token operator">:</span> SuperType<span class="token punctuation">,</span>\n        age <span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">showInfo</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// 父类调用call()或者apply()方法和子类共用同一个this，实现子类实例属性的继承</span>\n        <span class="token function">SuperType</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"张三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// 优点验证</span>\n    <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    instance<span class="token punctuation">.</span>city<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"重庆"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["北京", "上海", "天津", "重庆"]</span>\n\n    <span class="token keyword">let</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["北京", "上海", "天津"]</span>\n\n    <span class="token comment">// 缺点验证</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>\n    instance<span class="token punctuation">.</span><span class="token function">showInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// son.showInfo is not a function</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// test2();</span>\n</code></pre>\n<ol start="3">\n<li>组合继承（推荐）</li>\n</ol>\n<blockquote>\n<p>优点：原型的属性和方法可以复用，每个子类实例都有自己的属性<br>\n缺点：父类构造函数调用了两次，子类原型中的父类实例属性被子类实例覆盖</p>\n</blockquote>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">"北京"</span><span class="token punctuation">,</span> <span class="token string">"上海"</span><span class="token punctuation">,</span> <span class="token string">"天津"</span> <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n    <span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>\n        constructor <span class="token operator">:</span> SuperType<span class="token punctuation">,</span>\n        <span class="token function-variable function">showInfo</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"今年"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">"岁了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// 1. 通过构造方法继承实现实例属性的继承</span>\n        <span class="token function">SuperType</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// 2. 通过原型链继承实现原型方法的继承</span>\n    <span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// 优点验证</span>\n    <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    instance<span class="token punctuation">.</span><span class="token function">showInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 张三今年15岁了</span>\n\n    <span class="token keyword">let</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    instance1<span class="token punctuation">.</span>city<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"重庆"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["北京", "上海", "天津", "重庆"]</span>\n\n    <span class="token keyword">let</span> instance2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance2<span class="token punctuation">.</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["北京", "上海", "天津"]</span>\n\n<span class="token punctuation">}</span>\n\n<span class="token comment">// test3();</span>\n</code></pre>\n<ol start="4">\n<li>寄生组合继承（推荐）</li>\n</ol>\n<blockquote>\n<p>优点：解决了组合继承的缺点，效率高<br>\n缺点：基本没有</p>\n</blockquote>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">function</span> <span class="token function">inheritPrototype</span><span class="token punctuation">(</span><span class="token parameter">subType<span class="token punctuation">,</span> superType</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// 1. 继承父类的原型</span>\n        <span class="token keyword">var</span> prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>superType<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">// 2. 重写被污染的construct</span>\n        prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> subType<span class="token punctuation">;</span>\n        <span class="token comment">// 3. 重写子类的原型</span>\n        subType<span class="token punctuation">.</span>prototype <span class="token operator">=</span> prototype<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">"北京"</span><span class="token punctuation">,</span> <span class="token string">"上海"</span><span class="token punctuation">,</span> <span class="token string">"天津"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">SuperType</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// 将父类原型指向子类</span>\n    <span class="token function">inheritPrototype</span><span class="token punctuation">(</span>SubType<span class="token punctuation">,</span> SuperType<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayAge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// 优点验证</span>\n    <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    instance<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 张三</span>\n\n    <span class="token keyword">let</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    instance1<span class="token punctuation">.</span>city<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"重庆"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["北京", "上海", "天津", "重庆"]</span>\n\n    <span class="token keyword">let</span> instance2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance2<span class="token punctuation">.</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["北京", "上海", "天津"]</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// test4();</span>\n</code></pre>\n<h3>4.ES6新方法－－class</h3>\n<p>新的关键字<code>class</code>在es6开始被引入到javascript中来，<code>class</code>的目的就是让定义类更简单</p>\n<p>用函数方法实现：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Hello, \'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">\'!\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">\'xm\'</span><span class="token punctuation">)</span>\nson<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Hello, xm!</span>\n</code></pre>\n<p>用<code>class</code>来实现：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Hello, \'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">\'!\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">person</span><span class="token punctuation">(</span><span class="token string">\'xm\'</span><span class="token punctuation">)</span>\nson<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Hello, xm!</span>\n</code></pre>\n<p>可以在看到，在定义<code>class</code>中，直接包含了构造函数<code>constructor</code>属性，和原型对象上的函数<code>hello()</code>方法，省略掉了<code>function</code>关键字</p>\n<p>需要注意：原来的写法是，构造函数和原型对象分散开来写，现在用<code>class</code>可以直接把两者串在一个对象中，只有最后传参和调用方法时写法是一样的</p>\n<p><strong>class继承</strong></p>\n<p>用<code>class</code>定义对象的另一个巨大的好处是继承更方便了。想一想我们从<code>Person</code>派生一个<code>PrimaryPerson</code>需要编写的代码量。现在，原型继承的中间对象，原型对象的构造函数等等都不需要考虑了，直接通过<code>extends</code>来实现：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">PrimaryPerson</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> grade</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 记得用super调用父类的构造方法!</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>grade <span class="token operator">=</span> grade<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">myGrade</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'I am at grade \'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>注意<code>PrimaryPerson</code>的定义也是通过class关键字实现的，而<code>extends</code>则表示原型链对象来自<code>Person</code>，子类的构造函数可能会和父类的不太相同</p>\n<p>例如，<code>PrimaryPerson</code>需要<code>name</code>和<code>grade</code>两个参数，并且需要通过<code>super(name)</code>来调用父类的构造函数，否则父类的<code>name</code>属性无法正常初始化。</p>\n<p><code>PrimaryPerson</code>已经自动获得了父类<code>Person</code>的<code>hello方法</code>，我们又在子类中定义了新的<code>myGrade</code>方法。</p>\n<p>ES6引入的<code>class</code>和原有的<code>JavaScript原型继承</code>有什么区别呢？</p>\n<p>实际上它们没有任何区别，<code>class</code>的作用就是让JavaScript引擎去实现原来需要我们自己编写的原型链代码。简而言之，用<code>class</code>的好处就是极大地简化了原型链代码。</p>\n<p>但是！</p>\n<p>目前并不是所有的浏览器都支持<code>class</code>，所以在选择的时候一定要慎重！</p>\n',date:us,path:"/posts/2020-11-12-面向对象编程"},{attributes:{title:"小张厨房日记（更新中...）",date:ks,updated:"2021/11/29 13:09:13",categories:[n],tags:[v],thumb:s},html:'<p>厨房日记，记录我的\'高光\'时刻</p>\n\x3c!-- more --\x3e\n<p>今日菜谱</p>\n<h3>莴笋炒肉</h3>\n<p>准备食材：两根莴笋，一块猪肉，两只青椒</p>\n<p>调料：盐，酱油，醋，油，料酒，姜，蒜</p>\n<ol>\n<li>炒菜前10分钟将猪肉从冰箱取出，放进碗中，用水浸解冻</li>\n<li>将莴笋削皮洗净，用刀切成片状</li>\n<li>将浸泡解冻好的猪肉取出，切成肉丁</li>\n<li>切少许姜和蒜</li>\n<li>准备好两根干辣椒</li>\n<li>往锅中倒入一勺油，待至烧熟后，将姜和蒜倒入翻炒</li>\n<li>将猪肉倒入锅中大火爆炒，并倒入少许料酒和酱油</li>\n<li>一到两分钟过后，将莴笋倒入锅中，并添至少许清水防止太干</li>\n<li>翻炒时倒入少许醋，盐，并放入干辣椒，</li>\n<li>翻炒防止糊锅，静置等待菜熟</li>\n</ol>\n<p>没有很复杂的过程，只是细心就可以做出让自己感受舒心的菜</p>\n<hr>\n<p><strong>（更新2020.11.10）</strong></p>\n<h3>萝卜炖牛肉</h3>\n<p>准备食材：一根萝卜，四根胡萝卜，一大块牛肉，一卷粉丝</p>\n<p>调料：盐，酱油，醋，油，料酒，姜，蒜，胡椒，八角</p>\n<ol>\n<li>将牛肉从冰箱取出，切成两块，取一碗清水，然后放在水中化冻</li>\n<li>牛肉解冻十分钟左右取出，均匀切碎，根据自己口感可随意</li>\n<li>切半块姜，半个蒜，起锅烧油，下葱姜蒜，</li>\n</ol>\n<blockquote>\n<p>暂时没有小葱，等下次有了在下</p>\n</blockquote>\n<ol start="4">\n<li>加入三四片干辣椒，少许胡椒，八角，</li>\n<li>等到锅中调料榨出香味，下牛肉，翻炒均匀防止糊锅</li>\n<li>倒入料酒，酱油</li>\n<li>在翻炒的过程中，用炖锅烧半锅清水，2-3分钟后，将烧锅内牛肉、配料全部倒入炖锅，用勺子翻滚均匀</li>\n<li>用盖子盖住</li>\n<li>将萝卜切成片，稍微有点厚度的那种，不薄也不厚，6-7分钟左右，下萝卜，并加入适当的盐</li>\n<li>下稍加翻滚，盖住盖子，留一个缝隙</li>\n<li>在这个期间洗净胡萝卜，去皮，切成块，等到烧锅20分钟左右，下胡萝卜和粉丝</li>\n</ol>\n<blockquote>\n<p>为什么要这么晚才下胡萝卜和粉丝呢？<br>\n因为他俩比较软，熟得快，如果放在锅中时间过长，很容易煮烂</p>\n</blockquote>\n<ol start="12">\n<li>继续煮至30分钟左右，煮的差不多了，尝一下咸淡，可适当加入调料</li>\n<li>放一会就可以出锅啦</li>\n</ol>\n<p>这是一道耗时比较长的菜，可以慢慢做，大致是这些流程，具体的可根据实际情况调整，比如加入的配菜不同</p>\n<hr>\n',date:ks,path:"/posts/2020-11-09-小张厨房日记（更新中...）"},{attributes:{title:"javascript——函数、变量和方法",date:is,updated:"2021/11/29 13:08:55",categories:[n],tags:[o],thumb:s},html:'<p>当代码出现有规律的重复之后，可以利用函数，定义变量，调用方法，不用去重复的改动代码，只需要进行函数的修改。基本上所有的高级语言都支持函数，javascript也不例外，它可以像变量一样被使用，方便且强大，因此本文对js函数进行系统的学习，并在学习过程中做了详细的笔记以及样例。</p>\n\x3c!-- more --\x3e\n<h2>一、函数的定义和调用</h2>\n<h3>1.定义函数</h3>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> x<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token operator">-</span>x<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<ol>\n<li><code>function()</code>指出这是一个函数定义</li>\n<li><code>abs</code>是函数的代码</li>\n<li><code>(x)</code>里面的内容是函数的参数</li>\n<li><code>{...}</code>的内容是函数体，可以包括若干语句，甚至可以没有任何语句</li>\n</ol>\n<blockquote>\n<p>函数体中，必须以<code>return</code>结尾，才可以把结果返回，如果不用return结尾的话，就会返回undefined</p>\n</blockquote>\n<p>也可以直接定义一个对象，这个对象也可以写成函数的方式</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">abs</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> x\n    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token operator">-</span>x\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>；\n</code></pre>\n<p><code>function(x)</code>就是一个匿名函数，这个函数被赋值给了<code>变量abs</code>，所以可以直接通过<code>abs</code>调用该函数</p>\n<blockquote>\n<p>这两种定义函数的方式完全一致，，但是用变量定义的时候需要注意，要用<code>;</code>结尾，代表函数语句结束</p>\n</blockquote>\n<h3>2.调用函数</h3>\n<p>调用函数时，直接传参即可<br>\nabs(10)，根据函数定义，将10代入进去即可，返回的结果是x , 即10</p>\n<h3>3.检查参数</h3>\n<p>可以对参数进行检查，看看是否是自己想要的参数对类型</p>\n<p>如果传入对参数<code>abs(x)</code>中非数字，控制台返回结果<code>this is not number</code>，如果传参为数字，则进行条件判断</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// 检查参数x是否为数字</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">!==</span> <span class="token string">\'number\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'this is not number\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> x\n        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token operator">-</span>x\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h3>4.arguments</h3>\n<p>利用<code>arguments</code>，可以获得调用者传入的所有参数</p>\n<p><code>arguments</code>代表传入的参数，<code>arguments.length</code>代表传入参数的长度</p>\n<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">)</span>\n<span class="token comment">// 这行代码写在函数中，控制台就可以输出出来</span>\n</code></pre>\n<p>先写一个循环，把参数输出的函数方法，函数写完之后，传入参数，控制台随之打印出传入的参数</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> s\n    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// 返回传入的参数</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        s <span class="token operator">+=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> s<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token comment">// 传入参数</span>\n<span class="token function">str</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">//控制台输出：name, age</span>\n</code></pre>\n<h3>5.return</h3>\n<p>返回true时，点击链接直接跳转，返回false时，会忽略a链接的地址，跳转到window.location.href后的地址</p>\n<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https:www.baidu.com"</span> onclick<span class="token operator">=</span><span class="token string">"return myfun()"</span><span class="token operator">></span>baidu<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>\n<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> id<span class="token operator">=</span><span class="token string">"test"</span> value<span class="token operator">=</span><span class="token string">"click"</span><span class="token operator">></span>\n<span class="token operator">&lt;</span>script<span class="token operator">></span>\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">\'https://www.bilibili.com\'</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> test <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'test\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    \n    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>\n</code></pre>\n<blockquote>\n<p>return需要注意的地方：函数会自动在行尾添加<code>;</code>，所以在写return的时候一定要注意，不要单纯的拆分为两行，很容易报错</p>\n</blockquote>\n<pre class="language-js"><code class="language-js"><span class="token keyword">return</span> \n    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">\'foo\'</span> <span class="token punctuation">}</span>\n<span class="token comment">// 上面这种写法就是有问题的，js的机制会自动将其渲染为</span>\n<span class="token keyword">return</span><span class="token punctuation">;</span>     <span class="token comment">//return undefined</span>\n    <span class="token punctuation">{</span> naem<span class="token operator">:</span> <span class="token string">\'foo\'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 正确的写法应该是：</span>\n<span class="token keyword">return</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">\'foo\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>6.rest</h3>\n<p>把传入的参数，多余的部分，以数组的形式保存起来，为了获得额外的参数，需要i = 2开始，把已有的a,b排除掉</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">arr</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> i<span class="token punctuation">,</span> rest <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        \n        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            rest<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'a = \'</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'b = \'</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token function">arr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>控制台打印：<br>\n<img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/38997556-a940-4ce8-8bed-444ab5b1ab3f.png" alt=""></p>\n<p>可以看到多余的部分被打印到<code>Array</code>中了</p>\n<p><green>这种写法略显麻烦，下面是更简单的写法</green></p>\n<p>直接在在函数里定义参数<code>rest</code>，并且在前面加上<code>...</code>标识，多余的参数直接以数组的形式交给变量<code>rest</code>，不需要<code>arguments</code>就可以获取全部参数</p>\n<p>如果传参数量还没有超过定义参数的数量，函数就会返回一个空数组</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'a = \'</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'b = \'</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>\n<span class="token comment">// a = 1</span>\n<span class="token comment">// b = 2</span>\n<span class="token comment">// Array [3,4]</span>\n\n<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>\n<span class="token comment">// a = 1</span>\n<span class="token comment">// b = undefined</span>\n<span class="token comment">// Array [ ] </span>\n</code></pre>\n<h3>7.计算</h3>\n<p><strong>对传入的参数求和</strong></p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// forEach可以返回数组中所有的元素</span>\n\n<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n    rest<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        sum <span class="token operator">+=</span> x<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">//sum(1,2)</span>\n<span class="token comment">//控制台输出 3。求和成功</span>\n</code></pre>\n<p><strong>计算圆的面积</strong></p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// r 表示圆的半径</span>\n<span class="token comment">// pi 如果没有参数，默认为3.14</span>\n<span class="token keyword">function</span> <span class="token function">area_of_circle</span><span class="token punctuation">(</span><span class="token parameter">r<span class="token punctuation">,</span> pi</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">var</span> area<span class="token punctuation">;</span>\n    <span class="token keyword">if</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// 当传入的参数只有一位时，计算3.14*r的平方</span>\n        area <span class="token operator">=</span> <span class="token number">3.14</span><span class="token operator">*</span>r<span class="token operator">*</span>r<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>\n        area <span class="token operator">=</span> pi<span class="token operator">*</span>r<span class="token operator">*</span>r<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> area<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h2>二、变量和作用域</h2>\n<h3>1.声明变量</h3>\n<p>在js中，通常使用<code>var</code>来生声明变量，而声明的变量实际上是有作用域的</p>\n<ol>\n<li>在函数体内声明的变量，只能在函数体内生效，在函数体外是无法识别的</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\na <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// err  这行代码直接报错，因为全局中没有a这个变量</span>\n</code></pre>\n<ol start="2">\n<li>\n<p>如果两个函数体中各自声明了<code>变量a</code>，互不干扰，在自己的函数体内可以正常作用，出了函数体都没有作用了</p>\n</li>\n<li>\n<p>js函数可以嵌套，内部函数可以访问外部函数，外部函数不能访问内部函数</p>\n</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">par</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token keyword">function</span> <span class="token function">son</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> y <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">var</span> z <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>      <span class="token comment">// Error:</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>所以<code>var z = x + y</code>会报错，因为<code>变量y</code>在<code>son()</code>中，根据<code>函数外部无法访问函数内部</code>，<code>y</code>无法被访问，因此<code>var z = x + y</code>报错</p>\n<ol start="4">\n<li>两个嵌套的函数体，各有一个重名变量，js函数在查找变量的时候，优先从自身开始，如果自身有这个变量就获取，如果没有，有内向外，由下层到上层的查找</li>\n</ol>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">par</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token keyword">function</span> <span class="token function">son</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"son() = "</span> <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"par() = "</span> <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token function">par</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<blockquote>\n<p>函数必须经过调用之后才能生效  <code>son()</code>和<code>par()</code></p>\n</blockquote>\n<h3>2.变量提升</h3>\n<p>JavaScript的函数定义有个特点，它会先扫描整个函数体的语句，把所有申明的变量“提升”到函数顶部，但是并不会将赋值一起提升，很容易产生代码的报错</p>\n<p>因此，针对这一问题，我们在声明变量的时候，要将其统一放置在函数的起始位置，严格遵守<code>在函数内部首先声明所有变量</code>的原则</p>\n<h3>3.全局作用域</h3>\n<p>不再任何函数内部定义的变量就叫做全局变量，也就是<code>window下</code>，他也被称作<code>全局作用域</code>，全局作用域下的变量实际上被绑定到<code>window</code></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> course <span class="token operator">=</span> <span class="token string">\'learn js\'</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>course<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// learn js</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>course<span class="token punctuation">)</span>  <span class="token comment">// learn js</span>\n</code></pre>\n<p>直接访问全局变量或者在前面加上<code>window</code>，结果都是一样的</p>\n<p>整个js文件只有一个全局作用域，就是<code>window</code>，如果在某一个函数作用域内查找变量，没有查找到，就会由内到外一层层查找，如果最后在全局作用域中也没有查找到，就会<code>ReferenceError</code> 报错</p>\n<h3>4.局部作用域</h3>\n<p>在函数内部就是局部作用域，这个代码的名字只在函数的内部起作用</p>\n<p>在<code>for循环</code>等语句中，无法定义具有局部作用域的变量</p>\n<h3>5.全局变量和局部变量的区别</h3>\n<ol>\n<li>\n<p>全局变量：在任何一个地方都可以使用，全局变量只有在浏览器关闭的时候才会销毁，比较占用内存资源</p>\n</li>\n<li>\n<p>局部变量：只能在函数内部使用，当其所在代码块被执行时，会被初始化；当代码块执行完毕就会销毁，因此更节省节约内存空间</p>\n</li>\n<li>\n<p>当在函数作用域中操作一个变量的时候，会先在自身作用域中查找，如果有就直接使用，如果没有就向上级作用域中寻找。如果全局作用域中也没有，那么就报错</p>\n</li>\n</ol>\n<h3>6.常量</h3>\n<p><code>var</code>和<code>let</code>声明的是一个变量，在ES6之间，用大写的变量名，表示定义一个常量</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// ES5</span>\n<span class="token keyword">var</span> <span class="token constant">NAME</span> <span class="token operator">=</span> <span class="token string">\'xiaoming\'</span>\n</code></pre>\n<p>ES6新增一个关键字<code>const</code>来定义常量</p>\n<pre class="language-js"><code class="language-js"><span class="token comment">// ES6</span>\n<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">\'xiaoming\'</span>\n</code></pre>\n<h2>三、解构赋值</h2>\n<p><strong>1.可以把一个数组的元素分别赋值给不同的变量</strong></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'hello\'</span><span class="token punctuation">,</span> <span class="token string">\'javascript\'</span><span class="token punctuation">,</span> <span class="token string">\'ES6\'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> x <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> y <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> z <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment">// x = \'hello\'</span>\n<span class="token comment">// y = \'javascript\'</span>\n<span class="token comment">// z = \'ES6\'</span>\n</code></pre>\n<p><strong>2.如果数组本身还有嵌套，也可以进行解构赋值，但是要注意嵌套的层次和数组保持一致</strong></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span> z<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'hello\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'JavaScript\'</span><span class="token punctuation">,</span> <span class="token string">\'ES6\'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\nx<span class="token punctuation">;</span> <span class="token comment">// \'hello\'</span>\ny<span class="token punctuation">;</span> <span class="token comment">// \'JavaScript\'</span>\nz<span class="token punctuation">;</span> <span class="token comment">// \'ES6\'</span>\n</code></pre>\n<p><strong>3.解构赋值时可以忽略元素</strong></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> z<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'hello\'</span><span class="token punctuation">,</span> <span class="token string">\'JavaScript\'</span><span class="token punctuation">,</span> <span class="token string">\'ES6\'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\nz<span class="token punctuation">;</span>  <span class="token comment">// ES6 </span>\n</code></pre>\n<p><strong>4.还可以对<code>对象</code>进行解构赋值</strong></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">\'xiaoming\'</span><span class="token punctuation">,</span>\n    age<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>\n    gender<span class="token operator">:</span> <span class="token string">\'male\'</span><span class="token punctuation">,</span>\n    email<span class="token operator">:</span> <span class="token string">\'zsh981109@163.com\'</span><span class="token punctuation">,</span>\n    school<span class="token operator">:</span> <span class="token string">\'zyg\'</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// 定义了三个变量，分别对应三个属性</span>\n<span class="token keyword">var</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> email<span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>控制台就可以打印出我们想要的内容了</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/e21eee28-b9e9-4ec1-9966-3fcce23a6e05.png" alt=""></p>\n<blockquote>\n<p>对对象进行解构赋值时，也可以进行嵌套</p>\n</blockquote>\n<p><strong>5.可以通过属性名赋值的时候，重新定义一个变量名</strong></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">\'小明\'</span><span class="token punctuation">,</span>\n    age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>\n    gender<span class="token operator">:</span> <span class="token string">\'male\'</span><span class="token punctuation">,</span>\n    passport<span class="token operator">:</span> <span class="token string">\'G-12345678\'</span><span class="token punctuation">,</span>\n    school<span class="token operator">:</span> <span class="token string">\'No.4 middle school\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 把passport属性赋值给变量id:</span>\n<span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> passport<span class="token operator">:</span>id<span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>控制台输出结果：</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/c2870bea-95b0-45e0-88b7-a49f243c0856.png" alt=""></p>\n<p>可以看到，name,age,id都打印出来了，而email报错，因为email的内容赋值给了新变量<code>id</code>，而<code>email</code>没有任何内容，所以报错</p>\n<p><strong>6.可以使用默认值true，避免不存在的属性返回undefined</strong></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">\'小明\'</span><span class="token punctuation">,</span>\n    age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>\n    gender<span class="token operator">:</span> <span class="token string">\'male\'</span><span class="token punctuation">,</span>\n    passport<span class="token operator">:</span> <span class="token string">\'G-12345678\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 如果person对象没有single属性，默认赋值为true:</span>\n<span class="token keyword">var</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> single<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>\nname<span class="token punctuation">;</span>   <span class="token comment">// \'小明\'</span>\nsingle<span class="token punctuation">;</span> <span class="token comment">// true</span>\n\n</code></pre>\n<blockquote>\n<p>要注意，赋值的时候不能以<code>{</code>开头，避免js将其渲染失败</p>\n</blockquote>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">\'小明\'</span><span class="token punctuation">,</span>\n    age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>\n    gender<span class="token operator">:</span> <span class="token string">\'male\'</span><span class="token punctuation">,</span>\n    passport<span class="token operator">:</span> <span class="token string">\'G-12345678\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token comment">// 声明变量</span>\n<span class="token keyword">var</span> x<span class="token punctuation">;</span>\n<span class="token keyword">var</span> y<span class="token punctuation">;</span>\n\n<span class="token comment">// 解构赋值</span>\n<span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">\'小明\'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">}</span> <span class="token comment">// Error:</span>\n</code></pre>\n<p>在这里 <code>{x, y} = person</code>会报一个错误，<code>=</code>不合法，所以正确的写法是，在赋值语句外部包裹一层<code>()</code>小括号</p>\n<pre class="language-js"><code class="language-js"><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">\'小明\'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p><strong>7.解构赋值的使用场景</strong></p>\n<p>交换两个变量的值</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>\n<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span>\n</code></pre>\n<h2>四、对象的方法</h2>\n<blockquote>\n<p>绑定到对象上的函数被称为方法</p>\n</blockquote>\n<p>在一个对象中绑定函数，称为这个对象的方法</p>\n<h3>1.this</h3>\n<p>下面段代码返回的是（今年的年份－出生年份）</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> xm <span class="token operator">=</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">\'xiaoming\'</span><span class="token punctuation">,</span>\n    birth<span class="token operator">:</span> <span class="token number">1998</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">age</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> year <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>birth\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token comment">// 在对象xm中，调用方法age()</span>\nxm<span class="token punctuation">.</span><span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 22</span>\n</code></pre>\n<p><red>这里引入了一个新的关键词<code>this</code></red></p>\n<p>在方法内部，<code>this</code>是一个特殊的变量，它始终指向当前对象，也就是<code>xm</code>这个变量</p>\n<p>所以<code>this.birth</code>指的就是<code>变量xm的birth属性</code></p>\n<blockquote>\n<p><code>this</code>存在于方法中，想在方法中调用对象的属性，必须通过<code>this</code></p>\n</blockquote>\n<p>如果在方法写在对象外部时，<code>this</code>的指向问题就要好好分析了，比如：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> year <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>birth<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">\'小明\'</span><span class="token punctuation">,</span>\n    birth<span class="token operator">:</span> <span class="token number">1990</span><span class="token punctuation">,</span>\n    age<span class="token operator">:</span> getage\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/b5b196c3-ddd9-48ce-936f-8571038d21ba.png" alt=""></p>\n<p>单独调用<code>getage()</code>的时候，这时的<code>getage()</code>指的是一个方法，同时这个方法处于全局作用域下，此时<code>this</code>指向的是全局对象<code>window</code>，所以返回<code>NaN</code></p>\n<p>只有<code>xiaoming.age()</code>调用的才是对象<code>xiaoming</code>下面的方法<code>getage()</code></p>\n<blockquote>\n<p>因此：要保证<code>this</code>的指向正确，必须使用<code>obj.xxx()</code>的形式调用<br>\n如果没有使用这种方法，全部报错，如果是在\'use strict\'模式下，<code>this</code>会指向undefined</p>\n</blockquote>\n<h3>2.that</h3>\n<p>如果在对象里面的方法，又套了一层事件，此时<code>this</code>指向又有问题了，它指向第一层方法，而不是方法对应的对象</p>\n<p>所以，在写方法的时候，直接先声明一个<code>var that = this</code>，这个<code>that</code>指向对象里面的属性，接下来，在方法里面调用属性的时候，直接在前面加上<code>that.</code>即可，它直接指向到对象下面的属性</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> xm <span class="token operator">=</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">\'xiaoming\'</span><span class="token punctuation">,</span>\n    birth<span class="token operator">:</span> <span class="token number">1998</span><span class="token punctuation">,</span>\n    <span class="token function-variable function">age</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>\n        <span class="token keyword">function</span> <span class="token function">getbirthage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">return</span> y <span class="token operator">-</span> that<span class="token punctuation">.</span>birth<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> <span class="token function">getbirthage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// xm.age();</span>\n</code></pre>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/2a11db51-3cd5-4ec7-bc60-c13bc1100ac9.png" alt=""></p>\n<p>可以看到，通过定义<code>var that = this</code>，然后在方法里面使用<code>that.</code>指向属性，不管套了几层方法，都不会报错，直接指向对象下面的属性</p>\n<p>通过<code>var that = this</code>，可以放心的在方法里面定义其他函数，不用担心获取不到对象属性的问题</p>\n<blockquote>\n<p>但是有一个需要注意的地方，每个方法结束后，都要返回一下结果，<code>return getbirthage()</code></p>\n</blockquote>\n<h3>3.apply</h3>\n<p>除了<code>var that = this</code>，还可以通过<code>apply</code>属性控制<code>this</code>的指向</p>\n<p><code>apply</code>是函数本身的方法，它拥有两个参数</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> y <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>birth<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">var</span> xm <span class="token operator">=</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">\'xiaoming\'</span><span class="token punctuation">,</span>\n    birth<span class="token operator">:</span> <span class="token number">1998</span><span class="token punctuation">,</span>\n    age<span class="token operator">:</span> getage\n<span class="token punctuation">}</span>\n\n<span class="token comment">// xm.age();</span>\n<span class="token comment">// getage.apply(xm, []);</span>\n</code></pre>\n<p>写法就是<code>getage.apply(xm, [])</code>，<code>apply</code>的第一个参数代表<code>this指向</code>，即对象，第二个参数，表示函数本身的参数</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/d9be897f-6f36-4e48-b736-f7a6cc262bff.png" alt=""></p>\n<h3>4.apply( ) 和 call( )</h3>\n<p><code>call()</code>是与<code>apply</code>类似的方法，区别是：</p>\n<ol>\n<li><code>apply()</code>将参数打包成<code>Array</code></li>\n<li><code>call()</code>直接将参数按顺序传入</li>\n</ol>\n<p>调用<code>math.max(1,2,3)</code>，分别采用两种方式</p>\n<pre class="language-js"><code class="language-js">math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3</span>\nmath<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 3</span>\n</code></pre>\n<p>两者的结果是一样的，调用普通函数时，把<code>this</code>绑定为<code>null</code></p>\n',date:is,path:"/posts/2020-11-04-javascript——函数、变量和方法"},{attributes:{title:"HTML事件属性--DOM",date:rs,updated:"2021/11/29 12:00:01",categories:[n],tags:[o],thumb:s},html:'<p>研究html的<code>对象，事件和方法</code>，从js的角度来思考，这个标签的属性是通过什么方法，触发什么事件来实现的</p>\n\x3c!-- more --\x3e\n<ol>\n<li>\n<p>键盘鼠标事件<br>\n<img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/24fd2c8f-a301-47b2-b816-ec299236777f.png" alt="键盘鼠标事件"></p>\n</li>\n<li>\n<p>页面窗口事件<br>\n<img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/fd1efd06-b9a0-4d3f-a289-2f8d58d8a8fd.png" alt=""></p>\n</li>\n<li>\n<p>表单事件<br>\n<img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/7b34d1ab-1443-46e1-bf59-a443a6779d3a.png" alt=""></p>\n</li>\n</ol>\n<h2>一、window事件属性</h2>\n<p>针对window对象触发的事件，在<code>&lt;body&gt;</code>中执行</p>\n<h3>1.onbeforeprint／onafterprint</h3>\n<p>在浏览器打印之间/后触发</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">onbeforeprint</span> <span class="token attr-value"><span class="token punctuation">=</span> print()</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"打印之间！"</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>打印前和打印后的事件方法类似，一个是在打印前触发事件，一个是在打印这个事件结束之后触发<code>onafterprint</code>这个事件</p>\n<p><a href="https://imzsh.com/Property-event-method/onbeforeprint.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>2.onbeforeunload/unload</h3>\n<p>离开页面之间触发的事件／之后触发的事件</p>\n<p>打开f12，然后刷新，或者关闭浏览器，可以在浏览器触发事件</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    window<span class="token punctuation">.</span><span class="token function-variable function">onbeforeunload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token string">"提示"</span>\n        <span class="token comment">//返回的内容不会显示，</span>\n        <span class="token comment">//在刷新的时候触发，或者关闭浏览器，浏览会直接提示是否重新加载，不能直接返回return</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><a href="https://imzsh.com/Property-event-method/onbeforeunload.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>3.onerror</h3>\n<p>当图片出错是可以触发该事件，支持该事件的标签只有 <code>&lt;img&gt;</code>,<code>&lt;object&gt;</code>,<code>&lt;style&gt;</code></p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.gif<span class="token punctuation">"</span></span> <span class="token attr-name">onerror</span> <span class="token attr-value"><span class="token punctuation">=</span> <span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"图片出错"</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>1.gif不存在，因此触发了一个myfun()事件，弹出窗口</p>\n<p><a href="https://imzsh.com/Property-event-method/orrer.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>4.onhashchange</h3>\n<p>当文档改变时发生的脚本<br>\n？？？</p>\n<h3>5.onload</h3>\n<p>页面加载完成之后触发</p>\n<p><a href="https://imzsh.com/Property-event-method/onload.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>6.onmessage</h3>\n<p>在消息被触发时运行<br>\n???</p>\n<h3>7.onoffline</h3>\n<p>当浏览器<code>离线</code>时触发</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">onoffline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n</code></pre>\n<h3>8.ononline</h3>\n<p>当浏览器<code>在线</code>工作时触发</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">ononline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n</code></pre>\n<blockquote>\n<p><code>ononline</code>和<code>onoffline</code>在网络断线或者连线时触发，可以控制电脑网络查看效果</p>\n</blockquote>\n<h3>9.onpagehide</h3>\n<p>当用户从网页离开时触发，也可以理解成当窗口隐藏时运行的脚本</p>\n<p>刷新页面可以触发事件</p>\n<p><a href="https://imzsh.com/Property-event-method/onpagehide.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>10.onpageshow</h3>\n<p>打开一个新页面或者刷新的时候触发</p>\n<p><a href="https://imzsh.com/Property-event-method/onpageshow.html" target="_black" class="demo-view">demo查看</a></p>\n<p>相当于<code>onload</code>，加载页面时触发，但是在不同浏览器触发的有所不同</p>\n<blockquote>\n<p>第一次加载页面时，<code>onpageshow</code>在<code>ie浏览器</code>中不触发，其他情况都触发</p>\n</blockquote>\n<h3>11.onresize</h3>\n<p>当浏览器窗口被改变大小时触发事件</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">onresize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n        <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'浏览器窗口改变了\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><a href="https://imzsh.com/Property-event-method/onresize.html" target="_black" class="demo-view">demo查看</a></p>\n<blockquote>\n<h3>12.onunload</h3>\n</blockquote>\n<p>页面被下载时触发，就是刷新或者关闭页面时触发</p>\n<pre class="language-html"><code class="language-html">window.onunload = function() {\n    return \'确定关闭吗？\'\n}\n</code></pre>\n<h3>13.onpopstate</h3>\n<p>当浏览器窗口记录改变时运行的脚本，</p>\n<h3>14.onredo</h3>\n<p>当文档执行撤销时触发的事件</p>\n<h2>二、form事件属性</h2>\n<p>由html表单内触发的事件，通常使用在form元素中</p>\n<h3>1.onblur</h3>\n<p>失去焦点时运行的脚本</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">onblur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">var</span> int <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'int\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>\n        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'int\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> int<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>给input绑定一个onblur=myfun()的事件，当input失去焦点的时候产生什么样的效果</p>\n<p><a href="https://imzsh.com/Property-event-method/onblur.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>2.onfocus</h3>\n<p>元素获得焦点时触发事件，和onblur相反</p>\n<p><a href="https://imzsh.com/Property-event-method/onfocus.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>3.onchange</h3>\n<p>当元素值被改变的时候触发事件</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">onchange</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'我的元素被改变啦！\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>这个事件的意思就是，当我对input内容进行操作改变后，浏览器会弹出一个alert</p>\n<p><a href="https://imzsh.com/Property-event-method/onchange.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>4.oncontextmenu</h3>\n<p>当用户右键操作时触发该事件</p>\n<p>可以绑定在任意元素中触发，可以一直触发，不用刷新</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">oncontextmenu</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>这是一个文本框！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'oncontentmenu事件触发\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><a href="https://imzsh.com/Property-event-method/oncontextmenu.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>5.onformchange</h3>\n<p>当表单获得输入时可以触发事件</p>\n<blockquote>\n<p>触发发不了脚本</p>\n</blockquote>\n<h3>6.onforminput</h3>\n<p>当表单获得用户输入时触发的事件，无法触发</p>\n<p>浏览器不支持</p>\n<h3>6.oninput</h3>\n<p>当元素获得用户输入时触发的事件<br>\n当输入框输入或者删除时都会触发oninput</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">oninput</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'oninput触发了\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<blockquote>\n<p><code>onchange</code>和<code>oninput</code>有相似的地方，都是改变文本内容时触发事件<br><br>\n但是<code>onchange</code>是在input失去焦点时才触发，<code>oninput</code>是立刻触发</p>\n</blockquote>\n<p><a href="https://imzsh.com/Property-event-method/oninput.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>7.oninvalid</h3>\n<p><code>oninvalid</code>事件要搭配<code>required</code>属性来使用</p>\n<blockquote>\n<p><code>required</code>如果使用该属性，代表必填字段，<code>oninvalid</code>是当元素无效时触发的事件</p>\n</blockquote>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">oninvalid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n        <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'填写为空\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><a href="https://imzsh.com/Property-event-method/oninvalid.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>8.onreset</h3>\n<p>表单中重置按钮被点击时触发</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onreset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reset<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reset<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'重置成功\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><a href="https://imzsh.com/Property-event-method/onreset.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>9.onselect</h3>\n<p>文本被选中时触发</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onselect</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>选中我<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'onselect被触发 \'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><a href="https://imzsh.com/Property-event-method/onselect.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>10.onsubmit</h3>\n<p>当表单被提交时触发</p>\n<p>要把事件绑定到form标签里面</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onsubmit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token comment">&lt;!-- 注意：事件要绑定到form标签上面 --\x3e</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'提交了\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><a href="https://imzsh.com/Property-event-method/onsubmit.html" target="_black" class="demo-view">demo查看</a></p>\n<blockquote>\n<p>注意：提交了之后会自动刷新页面，document和console的触发内容会立刻刷新，一闪而过，只有alert能停留在页面上，等待点击确定</p>\n</blockquote>\n<h3>三、key键盘事件</h3>\n<h3>1.onkeydown</h3>\n<p>按下任意键时触发，包括系统按钮，箭头和功能键</p>\n<p><a href="https://imzsh.com/Property-event-method/onkeydown.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>2.onkeypress</h3>\n<p>按下任意字母数字键时触发，但系统按钮，箭头和功能无法识别</p>\n<h3>3.onkeyup</h3>\n<p>松开任何之前按下的键盘时触发</p>\n<p><a href="https://imzsh.com/Property-event-method/onkeyup.html" target="_black" class="demo-view">demo查看</a></p>\n<h2>四、mouse鼠标事件</h2>\n<p>利用鼠标触发的事件</p>\n<h3>1.onclick</h3>\n<p>鼠标点击元素触发的事件</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击我<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'点击成功\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><a href="https://imzsh.com/Property-event-method/onclick.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>2.ondblclick</h3>\n<p>鼠标双击时触发的事件</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ondblclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>测试文本！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'双击测试成功！\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p><a href="https://imzsh.com/Property-event-method/ondblclick.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>3.拖动事件</h3>\n<p>ondrag/<br>\n元素被拖动时触发的事件</p>\n<p>ondragstart/在拖动操作开端运行的脚本</p>\n<p>ondrop/<br>\n当元素正在被拖动时触发的事件</p>\n<p>ondragend/在拖动操作末端运行的脚本</p>\n<p>ondragenter/当元素元素已被拖动到有效拖放区域时运行的脚本</p>\n<p>ondragleave/当元素离开有效拖放目标时运行的脚本</p>\n<p>ondragover/当元素在有效拖放目标上正在被拖动时运行的脚本</p>\n<h3>4.onmousedown/onmouseup</h3>\n<p>当元素按下鼠标时触发的事件/鼠标释放时触发的事件</p>\n<ol>\n<li>一个是按下去的瞬间就触发</li>\n<li>一个是当鼠标被松开的时候触发</li>\n</ol>\n<p><code>onmouseup</code>效果和<code>onclick</code>一样，因为<code>click</code>也是点击过后触发</p>\n<p>这两个事件加起来相当于一个<code>click</code>事件，但是并不能用这两个事件来做点击事件的效果</p>\n<p><a href="https://imzsh.com/Property-event-method/onmousedown.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>5.onmousemove</h3>\n<p>当鼠标移动到元素上时触发</p>\n<p>相当于css里面的 <code>:hover</code>，但是作为事件拥有更灵活多变的用法</p>\n<p><a href="https://imzsh.com/Property-event-method/onmousemove.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>6.onmouseout</h3>\n<p>当鼠标离开元素时触发</p>\n<p><a href="https://imzsh.com/Property-event-method/onmouseout.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>7.onmouseover</h3>\n<p>当鼠标进入元素时触发</p>\n<blockquote>\n<p><code>onmouseover</code>和<code>onmousemove</code>都是鼠标进入元素触发<br><br>\n区别：<br><br>\n1.<br><br>\n<code>over</code>在进入元素时触发，但在元素内部移动时不触发 <br><br>\n<code>move</code>是进入元素时和在元素里面移动时都触发<br><br>\n2.<br><br>\n<code>over</code>优先触发，然后才触发<code>move</code></p>\n</blockquote>\n<h3>8.onmousewheel</h3>\n<p>当鼠标滚动被滚动时触发的事件</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n    <span class="token selector">div</span> <span class="token punctuation">{</span>\n        <span class="token property">height</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">onmousewheel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n        <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'onmousewheel\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>每次滚动时都可以触发，可以绑定到body上</p>\n<p><a href="https://imzsh.com/Property-event-method/onmousewheel.html" target="_black" class="demo-view">demo查看</a></p>\n<h3>9.onscroll</h3>\n<p>当元素滚动条被滚动时触发的事件</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">onscroll</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myfun()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>In my younger and more vulnerable years my father gave me some advice that I\'ve been turning over in my mind ever since.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>滑动了<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ci<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>次<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    x <span class="token operator">=</span> <span class="token number">0</span>\n    <span class="token keyword">function</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'ci\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> x <span class="token operator">+=</span> <span class="token number">1</span>\n    <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>这个案例－－－滑动滚动计数</p>\n<p><a href="https://imzsh.com/Property-event-method/onscroll.html" target="_black" class="demo-view">demo查看</a></p>\n<blockquote>\n<p>区别：<br><br>\n1.<code>wheel</code>在滚轮滑动的时候有效，鼠标拖拽的时候无效<br><br>\n2.<code>onscroll</code>不管在滑动还是拖动的时候，均生效</p>\n</blockquote>\n',date:rs,path:"/posts/2020-10-29-HTML事件属性--DOM"},{attributes:{title:"js基本语法",date:ds,updated:"2021/11/29 11:59:37",categories:[n],tags:[o],thumb:s},html:'<p>在学习js基本语法的过程中，把遇见的知识点和问题记录喜下来，以便未来复习和参考。</p>\n<p>数据类型有：数据，字符串，数组，数字，布尔值等。</p>\n\x3c!-- more --\x3e\n<h2>一、数据类型</h2>\n<h3>1.number</h3>\n<h3>2.布尔值</h3>\n<p>只有true和false两种，可以直接用true和false来表达，比如：</p>\n<pre class="language-js"><code class="language-js"><span class="token boolean">true</span><span class="token punctuation">;</span>\t<span class="token comment">//true</span>\n<span class="token boolean">false</span><span class="token punctuation">;</span>\t<span class="token comment">//false</span>\n<span class="token number">2</span><span class="token operator">></span><span class="token number">1</span><span class="token punctuation">;</span>\t<span class="token comment">//true</span>\n<span class="token number">2</span><span class="token operator">></span><span class="token number">3</span><span class="token punctuation">;</span>\t<span class="token comment">//fasle</span>\n</code></pre>\n<p><strong>与\t&amp;&amp;</strong><br>\n两者同时为<code>true</code>，运算结果为<code>true</code></p>\n<p><strong>或\t||</strong><br>\n只要有一个为<code>true</code>，运算结果就是<code>true</code></p>\n<p><strong>非\t！</strong><br>\n当程序为<code>true</code>时，运算结果取反为<code>false</code></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>\n<span class="token keyword">if</span><span class="token punctuation">(</span>age <span class="token operator">>=</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'adult\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>\n    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">\'teenager\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>age值是15，当age大于且等于18的时候浏览器弹出adult，反之弹出teenager</p>\n<h3>3.字符串</h3>\n<h3>4.比较运算符</h3>\n<p><code>==</code>和<code>===</code></p>\n<p>当使用<code>==</code>进行比较的时候，一般会自动转换类型然后再进行比较</p>\n<p>当使用<code>===</code>进行比较的时候，如果数据类型不一样，直接返回<code>false</code>，等到类型一致了，然后再进行比较</p>\n<p>有一个特殊的<code>number</code>就是<code>NaN</code>，它不与任何值相等，包括它自己<code>NaN</code></p>\n<pre class="language-js"><code class="language-js"><span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span>\t<span class="token comment">//false</span>\n</code></pre>\n<h3>5.<code>null</code>和<code>undefined</code></h3>\n<p><code>null</code>表示一个空值，<code>0</code>表示一个数值，<code>\'\'</code>表示长度为0的字符串，但是<code>null</code>表示空</p>\n<p><code>undefined</code>表示未定义</p>\n<p>但是区分两者意义不大，大多数还是在用<code>null</code>，<code>undefined</code>仅仅在判断函数参数是否传递的情况下有用</p>\n<h3>6.数组Array</h3>\n<p>[ ] ，表示一组按顺序排列的集合，其中的每个值称为元素</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>\t<span class="token comment">//[1,2,3]</span>\n</code></pre>\n<p><strong>数组的索引</strong></p>\n<h2>二、对象和变量</h2>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>\n\tname<span class="token operator">:</span> <span class="token string">\'jack\'</span><span class="token punctuation">,</span>\n\tage<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>\n\tcity<span class="token operator">:</span> <span class="token string">\'hangzhou\'</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p><code>person</code>是对象变量，<code>name: \'jack\'</code>这就是一个键值对，<code>name</code>是属性名，<code>\'jack\'</code>是属性</p>\n<p>要获取一个对象的属性，用<code>对象变量.属性</code>，也就是<code>person.name</code>，结果是<code>jack</code></p>\n<pre class="language-js"><code class="language-js">person<span class="token punctuation">.</span>name\t<span class="token comment">//jack</span>\nperson<span class="token punctuation">.</span>age\t<span class="token comment">//20</span>\n</code></pre>\n<p><code>var</code>是一个动态语言，就算var定义了x = 100，后面又有x = x+ 100,所以就变成了200,</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>\nx <span class="token operator">=</span> x<span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>\t<span class="token comment">//200</span>\n</code></pre>\n<p>假如用int来定义x，后面的x = x + 100就会报错</p>\n<p>并且使用var定义的变量只会存在与该函数作用域，并不是默认的全局变量</p>\n<p>而如果没有使用<code>var</code>，直接定义<code>i = 100</code>，变量i会被默认为全局变量</p>\n<h2>三、字符串</h2>\n<p>需要用到转义字符<code>\\</code></p>\n<h3>1.模板字符串</h3>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">\'小明\'</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> message <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">\'今年\'</span> <span class="token operator">+</span> age <span class="token operator">+</span> <span class="token string">\'了\'</span><span class="token punctuation">;</span>\n<span class="token comment">//小明今年20了</span>\n<span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>naem<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">，你今年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">20</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">了</span><span class="token template-punctuation string">`</span></span>\n<span class="token comment">//ES6新增的语法，一样的结果</span>\n</code></pre>\n<p><strong>字符串不可改变</strong></p>\n<p>如果对字符串的某个索引赋值，不会报错，不会发生任何改变</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">\'hello,world!\'</span>\na<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\t<span class="token comment">//h</span>\na<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>\t<span class="token comment">//结果为\'hello,world!\'，不会发生改变</span>\n</code></pre>\n<h3>2.toUpperCase大写</h3>\n<p>他会返回一个<code>新的字符串</code>，把一个字符串全部变成<code>大写</code></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">\'hello\'</span><span class="token punctuation">;</span>\na<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\t<span class="token comment">//返回HELLO</span>\n</code></pre>\n<h3>3.toLowerCase小写</h3>\n<p>他会返回一个<code>新的字符串</code>，他会把一个字符串全部变成<code>小写</code></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">\'hello\'</span>\na<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\t<span class="token comment">//HELLO</span>\n</code></pre>\n<h3>4.indexOf</h3>\n<p>他会返回指定字符串的索引，如果没有找到指定的字符串，则会返回<code>-1</code></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">\'hello,world!\'</span>\na<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">\'world\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\t<span class="token comment">//6</span>\n</code></pre>\n<h3>5.substring</h3>\n<p>他会返回指定<code>区间索引</code>的字符串，包括前一个数，不包括后一个数</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">\'hello,world!\'</span>\na<span class="token punctuation">.</span><span class="token function">substrng</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\t<span class="token comment">//hello</span>\n</code></pre>\n<p>如果<code>()</code>里面只有一个数值，则从这个数值的索引开始直到结束，比如：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">\'hello,world!\'</span><span class="token punctuation">;</span>\na<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\t<span class="token comment">//返回world!</span>\n</code></pre>\n<h2>四、数组</h2>\n<p>数组<code>Array</code>可以包含任何类型的数据，并通过索引来访问每个数据</p>\n<h3>1.length属性</h3>\n<p><code>Array</code>的长度可以用<code>length</code>属性来获取，它和索引不一样，从1开始计算</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">\'hello\'</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">]</span>\narr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\t<span class="token comment">//返回6</span>\n</code></pre>\n<p>并且通过改变<code>length</code>的值，可以改变数组的内容大小变化</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">\'hello\'</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">]</span>\narr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\t<span class="token comment">//6</span>\narr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>\t<span class="token comment">//[1,2,3,\'hello\',null,true,undefined,undefined]</span>\narr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>\t<span class="token comment">//[1,2]</span>\n</code></pre>\n<h3>2.通过索引改变数组</h3>\n<p><code>Array</code>可以直接通过索引修改对应的元素</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>\narr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">\'hello\'</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> \t<span class="token comment">//[1,\'hello\',3]</span>\n</code></pre>\n<p>js允许直接通过索引改变数组的长度，不会报错，但是不建议这么做</p>\n<h3>3.indexOf</h3>\n<p><code>Array</code>可以通过<code>indexOf</code>来搜索一个指定的元素的索引</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">\'hello\'</span><span class="token punctuation">]</span>\narr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\t<span class="token comment">//0</span>\narr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>\n</code></pre>\n<h3>4.slice</h3>\n<p><code>slice</code>属性与<code>substring</code>类似，后者是截取字符串的内容，<code>slice</code>是截取数组的内容，然后返回一个新的数组</p>\n<p>如果有两个数值，包括前面的数值，不包括后面的数值；如果只有一个数值，则从它开始算起一直到结束</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\narr<span class="token punctuation">.</span>slice<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\t<span class="token comment">//返回[1,2]</span>\narr<span class="token punctuation">.</span>slice<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\t<span class="token comment">//返回[3,4,5]</span>\n</code></pre>\n<p>如果<code>slice</code>不指定数值，则返回数组的全部内容，可以利用这个特性复制一个相同的数组出来</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> arr1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>\t<span class="token comment">//[1,2,3]</span>\narr1 <span class="token operator">===</span> arr<span class="token punctuation">;</span>\t<span class="token comment">//true</span>\n</code></pre>\n<blockquote>\n<p>注意：两个数组相比都是false，就算数组内容一样也会false</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>\n<span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>\narr <span class="token operator">===</span> arr1\t<span class="token comment">//false</span>\n</code></pre>\n</blockquote>\n<h3>5.push和pop</h3>\n<p><code>push()</code>向数组的末尾添加元素</p>\n<p><code>pop()</code>把数组的最后一个元素删掉</p>\n<h3>6.unshifth和shift</h3>\n<p><code>unshift()</code>向数组的头部添加元素</p>\n<p><code>shift()</code>把数组的第一个元素删掉</p>\n<h3>7.sort</h3>\n<p><code>sort()</code>可以对数组进行排序，会直接修改当前数组的元素位置，直接调用时，会按照默认的方式排序</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">B</span><span class="token punctuation">,</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token constant">C</span><span class="token punctuation">]</span>\narr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\narr\t<span class="token comment">//[A,B,C]</span>\n</code></pre>\n<h3>8.reverse</h3>\n<p><code>reverse()</code>会把整个数组调个个，不是反向排序</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>\narr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\narr<span class="token punctuation">;</span>\t<span class="token comment">//[3,1,2]</span>\n</code></pre>\n<h3>9.splice</h3>\n<p>这个属性是万能的方法，通过调用<code>splice()</code>，可以从指定的索引删除元素或者添加元素</p>\n<h2>五、条件判断</h2>\n<p>在js中，使用 <code>if() {...} else {...}</code>进行条件判断</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>\n<span class="token keyword">if</span><span class="token punctuation">(</span>age<span class="token operator">></span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t<span class="token comment">// 如果age>20成立，执行该语句</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'22>20\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>\n\t<span class="token comment">// 如果age>20不成立，则执行该语句</span>\n\tconosle<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'22&lt;20\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>最终，控制台会打印出<code>22&gt;20</code>，因为条件成立</p>\n<blockquote>\n<p>执行的语句要用<code>{}</code>包裹起来，防止其他情况会报错</p>\n</blockquote>\n<p><strong>多条件判断语句</strong></p>\n<p>三个或者三个以上多判断语句，被称为多条件判断语句</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>\n<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'a&lt;10\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">></span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'a>10\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'10&lt;=a&lt;=20\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<blockquote>\n<p>如果多个条件中都满足，则取第一个满足的结果，执行其代码，之后满足的自动忽略掉，所以在 进行条件判断的时候，不要重复判断情况</p>\n</blockquote>\n<p>一个复杂的多条件判断语句</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> height <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">\'请输入身高(m):\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> weight <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">\'请输入体重(kg):\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> bmi <span class="token operator">=</span> weight<span class="token operator">/</span><span class="token punctuation">(</span>height<span class="token operator">*</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">if</span><span class="token punctuation">(</span>bmi <span class="token operator">&lt;</span> <span class="token number">18.5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'过轻\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>bmi<span class="token operator">></span><span class="token number">18.5</span><span class="token punctuation">,</span>bmi<span class="token operator">&lt;</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'正常\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>bmi<span class="token operator">></span><span class="token number">25</span><span class="token punctuation">,</span>bmi<span class="token operator">&lt;</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'过重\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token keyword">else</span>  <span class="token keyword">if</span><span class="token punctuation">(</span>bmi<span class="token operator">></span><span class="token number">28</span><span class="token punctuation">,</span>bmi<span class="token operator">&lt;</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'肥胖\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'严重肥胖\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<blockquote>\n<p><code>parseFloat</code>可以解析一个字符串，并返回一个数字</p>\n</blockquote>\n<h2>六、循环</h2>\n<p>简单的运算可以手打出来</p>\n<pre class="language-js"><code class="language-js"><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span>\n<span class="token comment">// 控制台输出 6 </span>\n</code></pre>\n<p>但是几百次，几千次，几万次的运算无法手打，可以依靠循环语句来进行计算，为了让计算机能够进行成千上万次的运算</p>\n<p>循环语句有两种for和while，他们有不同的用法，适应不同的情况</p>\n<h3>1. for循环</h3>\n<p>通过初始条件，结束条件和递增条件来循环执行语句块</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">0</span>\n<span class="token keyword">var</span> i\n<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tx <span class="token operator">=</span> x <span class="token operator">+</span> i\n<span class="token punctuation">}</span>\n</code></pre>\n<blockquote>\n<p>i = 1是初始条件，i从1开始算起<br>\ni&lt;=是判断条件，满足就执行循环，不满足就退出循环<br>\ni++是递增条件，每次循环过后都是＋1，当无数次后不满足了i&lt;=1000，会跳出循环</p>\n</blockquote>\n<h3>2. 通过for语句遍历数组</h3>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'apple\'</span><span class="token punctuation">,</span> <span class="token string">\'banana\'</span><span class="token punctuation">,</span> <span class="token string">\'oringen\'</span><span class="token punctuation">]</span>\n<span class="token keyword">var</span> x<span class="token punctuation">,</span>i\n<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tx <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h3>3. 用break终止for循环</h3>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n<span class="token keyword">for</span> <span class="token punctuation">(</span>  <span class="token punctuation">;</span>  <span class="token punctuation">;</span>  <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 将无限循环下去</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>\n\t<span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 通过if判断来退出循环</span>\n    <span class="token punctuation">}</span>\n    x <span class="token operator">++</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h3>4. for...in</h3>\n<p>可以把一个对象对属性循环遍历出来</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>\n\tname<span class="token operator">:</span> <span class="token string">\'jack\'</span><span class="token punctuation">,</span>\n\tage<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>\n\tcity<span class="token operator">:</span> <span class="token string">\'beijing\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> person<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p><code>var i in person</code>会把person里面所有对属性遍历，然后通过<code>console.log(i)</code>可以把属性名打印出来，<code>console.log(person[i])</code>可以把属性值打印出来</p>\n<p>如果对一个数组进行这样的操作，就可以把数组元素对索引打印出来，打印结果是<code>字符串</code>形式</p>\n<h3>5. while循环</h3>\n<p><code>while</code>循环适用于忽视判断条件的情况，<code>for</code>适用于明确了初始条件和结束条件的情况</p>\n<p>比如要计算1-100之间的寄数和，可以用<code>while</code>循环</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">0</span>\n<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">99</span>\n<span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\tx <span class="token operator">=</span> x <span class="token operator">+</span> n\n\tn <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">2</span>\n<span class="token punctuation">}</span>\nx\n</code></pre>\n<p>在变量内部，n不断自减，直接n=-1，不满足判断条件，此时退出循环</p>\n<h3>6. do...while</h3>\n<p><code>do...while</code>循环是先循环，然后再判断条件，所以不论条件是否满足，<code>do...while</code>至少循环一次，这是它与<code>for</code>和<code>while</code>的区别</p>\n<p>比如：</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">0</span>\n<span class="token keyword">do</span><span class="token punctuation">{</span>\n\tn <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span>\n<span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>n <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span>\nn<span class="token punctuation">;</span>\t<span class="token comment">//1</span>\n</code></pre>\n<p>先定义<code>n=0</code>，然后执行<code>n=n+1</code>，所以<code>n=1</code>，再判断条件，当n&gt;1的时候执行，不符合，退出循环，控制台输出<code>n</code>，结果为 <code>1</code></p>\n<h2>七、Map和Set</h2>\n<h3>1. Map</h3>\n<p><code>Map</code>是一组键值对的结构，具有极快的查找速度</p>\n<p>只要我们定义一个属性名和属性值对应的数组，就可以从这个数组里面通过name直接查找数据</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">\'jack\'</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'Bob\'</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'linda\'</span><span class="token punctuation">,</span> <span class="token number">93</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\nm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">\'jack\'</span><span class="token punctuation">)</span>\n</code></pre>\n<p>首先，要初始化一个<code>Map</code>数组</p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\t<span class="token comment">//空map</span>\nm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'jack\'</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span>\t<span class="token comment">//添加一个新的键值对\t\tkey-value</span>\nm<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">\'jack\'</span><span class="token punctuation">)</span>\t\t<span class="token comment">//检查是否存在 \'\t\t\tjack\'key</span>\nm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">\'jack\'</span><span class="token punctuation">)</span>\t\t<span class="token comment">//获取\'jack\'对应的数据\t\tvalue</span>\nm<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">\'jack\'</span><span class="token punctuation">)</span>\t<span class="token comment">//删除\'jack\'键值对\t\t\tkey-value</span>\nm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">\'jack\'</span><span class="token punctuation">)</span>\t\t<span class="token comment">//undefined</span>\n</code></pre>\n<blockquote>\n<p>一个key只能对应一个value，所以如果重复赋值的话，后面的数据会把前面的数据覆盖掉</p>\n</blockquote>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'Adam\'</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'Adam\'</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">\'Adam\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 88</span>\n</code></pre>\n<h3>2. Set</h3>\n<p><code>set</code>中值储存<code>key</code>，不储存<code>value</code>，而且在<code>set</code>中，<code>key</code>不能重复，如果重复了，会自动忽略掉重复</p>\n<p>首先，创建一个空的<code>set</code></p>\n<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\t<span class="token comment">//空set</span>\nm<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>\t\t\t<span class="token comment">//添加一个key</span>\nm<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>\t\t\t<span class="token comment">//删除一个key</span>\nm\t<span class="token comment">//控制台输入［ ］空数组，没有数据</span>\n</code></pre>\n',date:ds,path:"/posts/2020-10-21-js基本语法"},{attributes:{title:"对全栈的一些思考",date:gs,updated:"2021/11/29 11:58:38",categories:[a],tags:[j],thumb:s},html:"<p>这里我要推荐一本书，叫做《Web全栈工程师的自我修养》，在看的过程中，自己也代入进去进行分析，然后写了这篇笔记。</p>\n\x3c!-- more --\x3e\n<p>“全栈工程师正在成为IT行业的新秀，无论是在上市互联网公司还是在创业公司，都对全栈工程师青睐有加。本书作者是腾讯公 司高级工程师，在前端、后端和APP开发方面都有丰富的经验，在本书中分享了全栈工程师的技能与要求、核心竞争力、未来发 展方向、对移动端的思考。除此之外，本书还详细记录了作者从零开始、学习心得。本书内容全面、客观务实适合互联网行业新人 、程序员。以及期待技术转型的从业者阅读参考。”</p>\n<p>作者余果毕业于西安点击科技大学软件工程学院，曾任腾讯社交用户体验设计部高级UI工程师、前端开发负责人，负责多个项目的产品设计，以自身的经历为模板撰写了这本书。</p>\n<p>从自身说起，因为对技术和机器的热爱让他走向了计算机这门行业，而在书中，他也经常提及自己理性和感性思维相结合，对全栈工程师进行了深入分析。</p>\n<p>全栈工程师是指一个能够处理数据库、服务器、系统工程和客户端所有工作的工程师。根据项目的不同，客户需要的可能是移动栈、Web栈，或者原生应用程序栈。这是官方的定义。而以我目前出入前端的思维通俗点来说，大概也就是一个人包揽前端，后端，一个人处理数据进行项目维护，甚至于设计图都是自己做的。</p>\n<p>很多人都说全栈有很多好处，不同担心很多人编写不同步，思维不一致，导致做出来的项目每个人的想法不同，全栈一个人包揽所有的过程，都在自己脑子里。</p>\n<p>可能因为我进入这个行业不久，我认为全栈是不太合理的存在，打个比方说，在流水线还没出现之间，手工作坊基本都是一个人负责所有的产品制作，从原料，制作，打磨，成品，或许很经过很多步骤，但是一个人都可以完美的做出来，就这样类似全栈工程师这样的存在。</p>\n<p>而生产线就更像一个团队，产品，UI，前端，后端测试等，每个人相互配合。</p>\n<p>全栈和团队比起来，我个人觉得团队的优势更大，但架不住老板喜欢一个人干三个人活，更喜欢全栈一点。</p>\n<p>培养一个全栈的花费的时间和精力难以想象，甚至不确定培养一定成功，但是如果专精某一技术领域，成为高级工程师的概率绝对远大于一个全栈。当然这也只是我个人的臆测，并没有具体的数据支撑。</p>\n<p>书中也提及，流水线带来的另一个好处，不会对某个工程师产生依赖性，即使失去这个员工，也可以让被人接手工作</p>\n<p>说了很多团队化的好处，这不代表就没有弊端，肯定是有的，书中总结出来几点：</p>\n<ul>\n<li>工程师职责不清导致效率低</li>\n<li>工程师缺乏主人感导致产品质量差</li>\n<li>工程师缺乏全局的视野影响个人成长</li>\n<li>更多角色导致项目效率低下</li>\n</ul>\n<p>“因为各司其职的工作流程有效率低下、成本高的缺点，所以很多创业公司都不会配备齐全的流水线，而是希望采用更灵活的方式来组建团队，全栈工程师也因此成为了理想的选择。但是全栈工程师的兴起还离不开这两个重要因素：技术的发展，以及提供PaaS服务的平台越来越多。”</p>\n<p>虽然做成为一个全栈工程师需要耗费大量的时间精力来打磨，但是这个思维我还是比较喜欢的。比如说，有a,b,c三个人，分别擅长各自的领域，有一天他们共同负责的项目出了一个小问题，但是问题出在哪里领域还不知道，虽然是个小问题，但需要每个人去查验一遍，因为是三个领域，这就导致应该有两个人的查验是无效的，这从另一个方向来说也降低了项目效率。</p>\n<p>然后这时候，有一个工程师s，注意他不是全栈工程师，只是喜欢学习多领域的技术，掌握了一些不算太高深的技术知识，查验了一遍，很快就找出了问题所在。</p>\n<p>那他一个人效率就相当于三个的效率了，其实这样说并不严谨，我也只是打个比方。</p>\n<p>我突然想到一句话，不知道说的准确与否，</p>\n<p>“全栈的职位存在是不合理的，但全栈的思维是一个有上进心的工程师所必备的。”</p>\n",date:gs,path:"/posts/2020-09-18-对全栈的一些思考"},{attributes:{title:"chrome浏览器中对autoplay的一些处理技巧",date:ms,updated:"2021/11/29 11:52:45",categories:[n],tags:[g],thumb:s},html:'<p>我在写博客的时候，想给博客网页添加自己喜欢的音乐，这样我在写作和阅读的时候，心情也会比较愉悦，这个时候，我们就需要用到<code>audio</code>这个标签。</p>\n\x3c!-- more --\x3e\n<pre class="language-html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">></span></span>\n</code></pre>\n<p>同时audio标签还带有很多实用的属性，常用的有以下几个：</p>\n<ul>\n<li>src -- 这个就不说了，懂的都懂</li>\n<li>autoplay -- 如果出现该属性，音频在就绪后马上播放</li>\n<li>controls -- 网页中显示音频控件</li>\n<li>loop -- 循环播放</li>\n<li>muted -- 默认静音</li>\n</ul>\n<p>但是我在设置 autoplay 的时候发现，chrome对自动播放深恶痛绝，直接从根源上限制了这个属性的开启，意思是说，这个属性直接禁用，在打开网页没有交互的情况下，不允许自动播放。</p>\n<p>但仔细想一想，这个做法其实是对用户比较有利的。假设用户使用的时候宽带流量，直接自动播放视频、音频，就会对用户造成损失。甚至一些广告会自动播放，这就直接影响到了用户的体验。所以，对于chrome的做法我还是比较赞同的。</p>\n<p>回过头一想，不对啊，我的目的是解决这个问题，不是夸赞谷歌的。我想给自己的个人博客添加喜欢的音乐，所以我找了一个不算办法的办法。我直接在模拟一个事件，当鼠标点击网页任意处的时候，自动触发autoplay的音频效果，直接上代码。</p>\n<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>script<span class="token operator">></span>\n    <span class="token keyword">function</span> <span class="token function">toggleSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">var</span> music <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"vd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          \n      <span class="token comment">//获取ID  </span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>music<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>music<span class="token punctuation">.</span>paused<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>music<span class="token punctuation">.</span>paused<span class="token punctuation">)</span> <span class="token punctuation">{</span> \n        <span class="token comment">//判读是否播放  </span>\n        music<span class="token punctuation">.</span>paused<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>\n        music<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n        <span class="token comment">//没有就播放 </span>\n      <span class="token punctuation">}</span>  \n    <span class="token punctuation">}</span>\n    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token string">"toggleSound()"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>\n</code></pre>\n<p>这样处理过之后，插入音频，任意点击网页某个地方，都会触发播放效果，但凡事有利有弊，这样做的话，一旦开启播放，将无法启用暂停功能，也就是说会一直播放下去</p>\n<p>如果是像我这样写个人博客，这个弊端倒是影响不大，我在这里记录一下这个方法。</p>\n',date:ms,path:"/posts/2020-09-11-chrome浏览器中对autoplay的一些处理技巧"},{attributes:{title:"推荐书籍《CSS世界》",date:hs,updated:"2021/11/29 11:51:45",categories:[a],tags:[j],thumb:s},html:"<p>本书从前端开发人员的需求出发，以“流”为线索，从结构、内容到美化装饰灯方面，全面且深入地讲解前端开发人员必须了解和掌握的大量的CSS知识点。同时，作者结合多年的从业经验，通过大量的实战案例，详尽解析CSS的相关知识与常见问题。</p>\n\x3c!-- more --\x3e\n<p>作者还为本书开发了专门的配套网站，进行实例展示。问题答疑。作为一本CSS深度学习的书，书中介绍大量许多前端开发人员都不知道的CSS知识点。通过阅读本书，读者会对CSS世界的深度和广度有一个全新的认识。</p>\n<p>这本书作者采用口语化的方式，讲述在css中遇到的一些有意思的问题，循序渐进，引人入胜，对有前端基础的人来说，读这本书还是很有意思的。我经常在闲余时间看看这本书，会给我一些启发。</p>\n",date:hs,path:"/posts/2020-08-11-推荐书籍《CSS世界》"},{attributes:{title:"文字溢出隐藏以及和flex冲突的问题",date:fs,updated:"2021/11/29 11:50:50",categories:[n],tags:[l],thumb:s},html:'<p>在某些段落中，页面要求文字只显示一行，但是<code>width</code>固定，而文字过长，就会出现一个需求，超过长度限制的文字被隐藏且显示省略号，css 支持这样的属性。</p>\n\x3c!-- more --\x3e\n<p><strong>单行文本溢出隐藏</strong></p>\n<pre class="language-css"><code class="language-css"><span class="token selector">div</span><span class="token punctuation">{</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n<span class="token property">  white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>\n<span class="token property">  text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p><strong>多行文本溢出隐藏</strong></p>\n<pre class="language-css"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>\n  <span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>\n  <span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>简单的几行代码就可以达到我们的要求。</p>\n<p><strong>但是有一个我们需要注意的地方！！</strong></p>\n<p>flex布局是前端写代码经常使用的一种布局方式，简单便捷且有效，但是在<red>使用flex布局的元素中不能同时使用文字溢出隐藏</red>,也就是两者不能同时出现在同一标签中。</p>\n<p>这里，我们也有对应的解决办法。</p>\n<p>只要保证flex布局和隐藏的样式不在同级元素中就可以，所以在文字外部多包裹一层标签。</p>\n<p>可以采用下面这段代码的写法；</p>\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>   \n    <span class="token comment">&lt;!-- 我们在这一层的标签进行flex布局 --\x3e</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- 这一层的标签我们引入文字过长隐藏的样式 --\x3e</span>\n        <span class="token comment">&lt;!-- 文本 --\x3e</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n</code></pre>\n',date:fs,path:"/posts/2020-08-03-文字溢出隐藏以及和flex冲突的问题"},{attributes:{title:"vue生命周期",date:bs,updated:"2021/11/29 11:47:57",categories:[n],tags:[c],thumb:s},html:'<p>学习vue中一个非常重要的领域，就是生命周期，它包含了很多的内容。每个vue实例在被创建的时候都要经历一系列的初始化过程，这个过程就是vue的生命周期。</p>\n\x3c!-- more --\x3e\n<p>每个vue实例在被创建的时候都要经过一系列的初始化过程——例如，需要把设置数据监听、编译模板、将实例挂载到DOM并在数据变化时更新DOM等，我们要把这一系列的过程称为组件的<code>生命周期</code>（组件从注册到销毁的整个过程）。我们有时候需要在组件生命周期的某个过程中，执行某些代码，基于此，vue提供了<code>生命周期钩子函数</code>，给了用户在不同阶段添加自己的代码的机会。</p>\n<p>但是在此之前，我们要详细的介绍下组件的生命周期，以及生命后期中每个阶段组件完成和未完成的部分。</p>\n<h2>一、组件的生命周期</h2>\n<p>放一张大家都很熟悉的官网文章中对生命周期的注释图。</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/580fd8d7-79c4-4321-a3d3-fb6b34b07558.png" alt=""></p>\n<p>从图中可以看出，vue为生命周期提供了8个钩子函数，分别是：</p>\n<ul>\n<li>beforeCreate: 创建前</li>\n<li>created: 创建后</li>\n<li>beforeMount: 挂载前</li>\n<li>mounted: 挂载后</li>\n<li>beforeUpate: 更新前</li>\n<li>upated: 更新后</li>\n<li>beforeDestoy: 销毁前</li>\n<li>destoyed: 销毁后</li>\n</ul>\n<h3>1.beforeCreate</h3>\n<p>beforeCreate在vue实例发生之后，数据观测(data observer) 和 event/watcher 事件配置之前被调用。</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/f7f07267-2aaa-49c2-96af-b6021a5edbd7.png" alt=""></p>\n<p>我们在上面的例子中在的beforeCreate钩子中调用Vue的data和method，来看一下结果：</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/4e664a14-7e93-4657-bd5b-5640944858b4.png" alt=""></p>\n<p>可以看到Vue中的data和方法都是去不到的，并且是在wath之前执行</p>\n<h3>2.created</h3>\n<p>实例已经创建完成之后被调用。在这一步，实例已完成以下的配置：数据观测(data observer)，属性和方法的运算， watch/event 事件回调。然而，挂载阶段还没开始，$el 属性目前不可见。</p>\n<p><strong>主要应用</strong>：调用数据，调用方法，调用异步函数</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/11d148d4-3014-4d75-bea9-f4dd4db37805.png" alt=""></p>\n<p>console输出的结果我们看一下</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/c0a73a2b-a279-49cb-a753-f286415aa9a9.png" alt=""></p>\n<p>可以看到：created钩子可以获取Vue的data，调用Vue方法，获取原本HTML上的直接加载出来的DOM，但是无法获取到通过挂载模板生成的DOM（例如：v-for循环遍历Vue.list生成li）</p>\n<h3>3.beforeMount</h3>\n<p>在挂载开始之前被调用：相关的 render 函数（模板）首次被调用。</p>\n<p>例如通过v-for生成的html还没有被挂载到页面上</p>\n<pre class="language-js"><code class="language-js"> <span class="token function-variable function">beforeMount</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'beforeMount:\'</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">\'li\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre>\n<p>console打印出来的beforeMount为1</p>\n<h3>4.mounted</h3>\n<p>el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子。</p>\n<p><strong>有初始值的DOM渲染，例如我们的初始数据list,渲染出来的li，只有这里才能获取</strong></p>\n<pre class="language-js"><code class="language-js"> <span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'mounted:\'</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">\'li\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre>\n<p>结果 mounted: 3 , 可以看到到这里为止，挂载到实例上了，我们可以获取到li的个数了</p>\n<h3>5.beforeUpdate</h3>\n<p>数据更新时调用，发生在虚拟 DOM 重新渲染和打补丁之前。 你可以在这个钩子中进一步地更改状态，这不会触发附加的重渲染过程。</p>\n<p>当我们更改Vue的任何数据，都会触发该函数</p>\n<pre class="language-js"><code class="language-js"> <span class="token function-variable function">beforeUpdate</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'beforeUpdate 钩子执行.\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'beforeUpdate:\'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre>\n<h3>6.updated</h3>\n<p>由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。</p>\n<p>当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态，因为这可能会导致更新无限循环。</p>\n<p>该钩子在服务器端渲染期间不被调用。</p>\n<p>数据更新就会触发（vue所有的数据只有有更新就会触发）,如果想数据一遍就做统一的处理，可以用这个，如果想对不同数据的更新做不同的处理可以用nextTick，或者是watch进行监听</p>\n<pre class="language-js"><code class="language-js"> <span class="token function-variable function">updated</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'updated 钩子执行...\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'updated:\'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre>\n<h3>7.beforeDestroy</h3>\n<p>实例销毁之前调用。在这一步，实例仍然完全可用。</p>\n<h3>8.destroyed</h3>\n<p>Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。 该钩子在服务器端渲染期间不被调用。</p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/4f337570-7d4e-41ff-84f4-c198076077e7.png" alt=""></p>\n<p><strong>结果</strong></p>\n<p><img src="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/a5c2e40a-9be7-4b8b-8beb-5371cf727878.png" alt=""></p>\n<p>可以看打到销毁Vue实例时会调用这两个函数</p>\n',date:bs,path:"/posts/2020-06-19-vue生命周期"},{attributes:{title:"hello, world",date:ys,updated:"2021/11/29 11:39:36",categories:[a],tags:[e],abs:s},html:"<p>2020年6月14日</p>\n<p>我的博客正式建立。</p>\n<p>愿一切安好。</p>\n",date:ys,path:"/posts/2020-06-14-hello,_world"}]}]}],fetch:[{categories:[n,a],tags:[e,E,a,i,P,B,r,"插件",p,"翻译","感想","出行","jquery","报错","npm",u,f,"图床","地理",c,"axios","服务器","网站","宝塔",l,d,"音乐","电影",hn,"旅游",o,"python",g,m,b,"ES6",y,v,t,w,k,"杂谈",j],rencentArticles:[{attributes:x,html:S,path:q},{attributes:C,html:R,path:T},{attributes:_,html:A,path:M},{attributes:N,html:O,path:U},{attributes:V,html:F,path:H}]}],error:s,serverRendered:!0,routePath:"/archives",config:{}}}("技术",null,"随笔","js","react","笔记","博客","vue","css","ajax","编程","typecho","总结","转载","浏览器","IE","2022-01-17 15:49","数据库","工具","webpack","厨房","组件","读书",{},"Nuxt",'<p>在部署一个网站之后，我们最关心的事情无异于是访问量，以及对它的分析。国内的百度统计是一个不错的选择，基本的功能都是免费的。</p>\n\x3c!-- more --\x3e\n<p>只需要在head中引入一串 javascript 代码即可。</p>\n<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- &lt;script>\nvar _hmt = _hmt || [];\n(function() {\n  var hm = document.createElement("script");\n  hm.src = "https://hm.baidu.com/hm.js?xxxxxxxxxxxxxxxxxxx";\n  var s = document.getElementsByTagName("script")[0]; \n  s.parentNode.insertBefore(hm, s);\n})();\n&lt;/script> --\x3e</span>\n</code></pre>\n<p>上面是百度提供的统计代码，需要放在 <code>&lt;head&gt;&lt;/head&gt;</code>中。</p>\n<p>但是在nuxt中，没有传统的 <code>&lt;head&gt;&lt;/head&gt;</code> 。所以要对他进行一些处理。</p>\n<h3>1. 首先在根目录下 <code>/plugins</code> 新建一个文件 <code>baidu.js</code></h3>\n<pre class="language-js"><code class="language-js"><span class="token comment">// /plugins/baidu.js</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>app<span class="token operator">:</span> <span class="token punctuation">{</span>router<span class="token punctuation">}</span><span class="token punctuation">,</span> store<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">/* 每次路由变更时进行pv统计 */</span>\n  router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token comment">/* 告诉增加一个PV */</span>\n    <span class="token keyword">try</span> <span class="token punctuation">{</span>\n      window<span class="token punctuation">.</span>_hmt <span class="token operator">=</span> window<span class="token punctuation">.</span>_hmt <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n      window<span class="token punctuation">.</span>_hmt<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">\'_trackPageview\'</span><span class="token punctuation">,</span> to<span class="token punctuation">.</span>fullPath<span class="token punctuation">]</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n</code></pre>\n<h3>2. 配置 nuxt.config.js 文件</h3>\n<ol>\n<li>在 <code>plugins</code>中：</li>\n</ol>\n<pre class="language-js"><code class="language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    src<span class="token operator">:</span> <span class="token string">\'~/plugins/baidu\'</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">]</span><span class="token punctuation">,</span>\n</code></pre>\n<ol start="2">\n<li>在 <code>head</code>中：</li>\n</ol>\n<pre class="language-js"><code class="language-js">head<span class="token operator">:</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  link<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token comment">// ...</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  script<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span> src<span class="token operator">:</span> <span class="token string">\'https://hm.baidu.com/hm.js?xxxxxxxxxxxxxxxxxxx\'</span> <span class="token punctuation">}</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre>\n<p>在script中写入百度统计提供的 url 即可，按照对应的字符。</p>\n',"/posts/2022-01-17-nuxt项目中如何引入百度统计",{},"2021/12/27 15:50:00",'<p>我真的老了吗？看看我的网易云音乐年度报告分享吧！</p>\n\x3c!-- more --\x3e\n<table>\n<thead>\n<tr>\n<th>图片</th>\n<th>图片</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@07712e07c48b986ea1b9ab24ce3613642242bbc1/2022/01/05/e4a09e27ce03402b785f6146b3e7bd4c.png" alt=""></td>\n<td><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@06f45860bc74a52511bb86b68e34e411e0219c26/2022/01/05/edab7be18b8a86446eecca5ba12cc957.png" alt=""></td>\n</tr>\n<tr>\n<td><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@470c9a8b056b01802f24a0335f57292bd724a04d/2022/01/05/4874723c4b9c811e5381a24fac83858e.png" alt=""></td>\n<td><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@9fde58e5753d6adf4bf23ed730d6cea8e65c0936/2022/01/05/bd5919404434a112f160995e65a78a3f.png" alt=""></td>\n</tr>\n<tr>\n<td><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@cb0045e1b8614b94ecb49c56412e2bd4d1212cc2/2022/01/05/d1b4762890c69025fce02bd713623577.png" alt=""></td>\n<td><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@cabae6f17e8698dc8f9a6cf718a37fc23c698f96/2022/01/05/8bc61618b976b4c0a2498897ab4ac519.png" alt=""></td>\n</tr>\n</tbody>\n</table>\n',"/posts/2021-12-27-网易云音乐年度报告分享",{},"2021/12/21 10:11:00","gravatar",'<p>找到根目录下 <code>config.inc.php</code> 文件，在最前面加入下面的代码。</p>\n\x3c!-- more --\x3e\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@c549d6cfb8b83d2410899cf619a663d8cebbffe1/2022/01/05/3e5e307b9fb3ba048fdc9f7b5351d7b9.png" alt=""></p>\n<pre class="language-php"><code class="language-php"><span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">\'__TYPECHO_GRAVATAR_PREFIX__\'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">\'https://sdn.geekzu.org/avatar/\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>其中 <code>https://sdn.geekzu.org/avatar/</code> 是一个国内源链接，这个是我目前找到的最稳定的源。</p>\n<p>如果这个源不能用了，可以更换其他的源，直接搜其他的相关国内源就可以了。</p>\n',"/posts/2021-12-21-typecho_更换_gravatar_头像源",{},"2021/12/20 14:25:00","jsdelivr","<p>记录一次不大不小的事件，2021年12月20日，cdn.jsdelivr.net 国内ip全面崩盘，说是证书出错了，然后所有使用cdn.jsdelivr.net进行加速的资源全部404。</p>\n\x3c!-- more --\x3e\n<p>我也是在朋友圈看到的这个消息，上线一看果然全部显示丢失。</p>\n<p>对国外资源没有影响，所以这是一次只出现在国内的问题，jsd官网都还在，估计是cdn配置出错，应该很快就可以修复了。</p>\n<p>然后，我就开始思考将一些文件资源挂在一些比较可靠的网站是否真的可靠，包括之前使用 Github Pages + Vercel ，也出现过一段时间的证书错误，导出托管的网站崩了两天了，之后官方更换了新的 ip，虽然没什么大问题，但依旧是会有一些断断续续的连接错误404。</p>\n<p>所以也就加大了我使用自己服务器的决定。但是在这之前，我的一些其他资源，包括js文件和一些图片，都是托管在 github 仓库里面。然后通过 cdn.jsdelivr.net 进行cdn加速，一直都很相信它的。</p>\n<p>但是最近一系列事情的发生，不是一次两次了，我觉得数据还是放在自己手里安全，以后会考虑将存在在各大平台的文件和图片以及数据都导出来，多处备份，防止像今天这样的事情发生。</p>\n<p>之前我的图片是上传到 github 用 jsdelivr 加速，现在我将其切换到我的服务器了。不再使用任何cdn加速，本身服务器的速度也够了，再加上平时没几个人访问，基本都是自己在看，完全满足我的个人使用了。</p>\n<p>但是之前的图片还在404中，会慢慢转移到别的地方，之后的文件肯定不会用jsdelivr 加速了。</p>\n<p>写完测试一下 jsdelivr 是否修复，很好，已经半天过去了，没有修复完成的迹象。</p>\n<p>最后感叹一句，数据真的是又脆弱又重要！</p>\n","/posts/2021-12-20-有关_cdn.jsdelivr.net_证书错误的一些想法",{},"2021/12/17 16:39:00",'<p>2021，不知不觉，又过去一年了。因为最近也比较忙，所以一直拖到了中旬末，现在闲下心准备闲谈一下。<br>\n该说不说，坚持写博客也有500多天了，大概是我的水平有限，产出的技术文章也是寥寥无几，大多是一些笔记和一些生活中的琐碎事。</p>\n\x3c!-- more --\x3e\n<p>认识了几个一起玩博客的新朋友，优化了一下自己网站，然后帮助别人解决一些力所能及的问题，大家都很友善。</p>\n<p>但是感觉今年好像没有做出特别有成就的事情，工作闲暇之余看看新的技术内容，给自己写了几个小项目。</p>\n<p>令人烦躁的是，疫情起起落落，难以真正结束，很多想法都被搁置了，旅游计划也是寥寥无几，又是在杭州市内和周边闲逛的一年。当然这也跟我自己有很大的关系。</p>\n<p><img src="https://cdn.jsdelivr.net/gh/Nov8nana/pic-cdn@d9c646fe3e69648692a8efc50ef984334b369200/2021/12/17/8c44dfb931a7b27055c53184caf81c2e.png" alt=""></p>\n<p>去年定下的 flag，最终也没有完成，希望来年再接再厉，如果运气不错的话。</p>\n',"/posts/2021-12-17-闲谈2021","2021/12/07 16:55:00","2021/11/24 12:37:00","2021/11/18 15:37:00","2021/11/11 10:14:00","2021/11/05 12:16:00","2021/11/04 14:16:00","2021/10/22 11:16:00","2021/10/07 06:15:00","2021/09/29 13:15:00","2021/09/16 13:14:00","2021/09/14 15:42:00","2021/08/19 11:15:00","2021/07/21 11:16:00","2021/07/09 21:03:00","2021/06/10 15:39:00","2021/06/08 21:02:00","2021/05/30 11:37:00","2021/05/27 21:42:00","2021/05/13 14:51:00","2021/05/11 22:29:00","2021/05/09 18:50:00","2021/05/07 21:48:00","2021/04/24 11:47:00","2021/04/21 20:19:00","docsify","2021/04/03 16:13:00","2021/04/01 16:21:00","2021/03/26 14:24:00","2021/03/22 15:12:00","2021/03/22 14:54:00","2021/03/19 13:01:00","2021/03/18 22:15:00","2021/03/17 21:55:00","2021/03/16 10:29:00","2021/03/14 07:31:00","2021/02/26 22:38:00","2021/02/25 22:41:00","2021/02/04 19:47:00","2021/02/03 19:43:00","2021/01/20 19:58:00","2021/01/18 19:59:00","2021/01/17 19:59:00","2021/01/16 20:00:00","2021/01/07 20:46:00","2021/01/06 20:47:00","2021/01/05 20:54:00","2021/01/04 20:50:00","2021/01/01 20:48:00","2020/12/29 13:26:00","2020/12/25 13:25:00","2020/12/21 13:19:00","2020/12/19 13:17:00","2020/12/16 13:15:00","2020/12/13 13:11:00","2020/12/12 13:10:00","2020/12/02 13:09:00","2020/11/27 13:08:00","2020/11/26 13:08:00","2020/11/25 13:05:00","2020/11/24 13:05:00","2020/11/23 13:04:00","2020/11/22 13:02:00","2020/11/21 13:01:00","2020/11/20 13:03:00","2020/11/19 13:02:00","2020/11/18 13:00:00","2020/11/17 13:00:00","2020/11/16 12:59:00","2020/11/15 12:58:00","2020/11/14 12:57:00","2020/11/13 12:56:00","2020/11/12 12:58:00","2020/11/09 21:13:00","2020/11/04 21:12:00","2020/10/29 21:12:00","2020/10/21 21:11:00","2020/09/18 21:10:00","2020/09/11 21:08:00","2020/08/11 21:09:00","2020/08/03 21:08:00","2020/06/19 21:07:00","2020/06/14 20:57:00")</script><script src="/_nuxt/runtime.bc77943.js" defer></script><script src="/_nuxt/pages/archives.3c8d022.js" defer></script><script src="/_nuxt/commons.app.e5f5113.js" defer></script><script src="/_nuxt/app.99af972.js" defer></script>
  </body>
</html>
